(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ZI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kw={exports:{}},ac={},Nw={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=Symbol.for("react.element"),e1=Symbol.for("react.portal"),t1=Symbol.for("react.fragment"),n1=Symbol.for("react.strict_mode"),r1=Symbol.for("react.profiler"),s1=Symbol.for("react.provider"),i1=Symbol.for("react.context"),o1=Symbol.for("react.forward_ref"),a1=Symbol.for("react.suspense"),l1=Symbol.for("react.memo"),u1=Symbol.for("react.lazy"),Jg=Symbol.iterator;function c1(t){return t===null||typeof t!="object"?null:(t=Jg&&t[Jg]||t["@@iterator"],typeof t=="function"?t:null)}var Rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bw=Object.assign,Pw={};function Li(t,e,n){this.props=t,this.context=e,this.refs=Pw,this.updater=n||Rw}Li.prototype.isReactComponent={};Li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mw(){}Mw.prototype=Li.prototype;function Qh(t,e,n){this.props=t,this.context=e,this.refs=Pw,this.updater=n||Rw}var Xh=Qh.prototype=new Mw;Xh.constructor=Qh;bw(Xh,Li.prototype);Xh.isPureReactComponent=!0;var Yg=Array.isArray,Dw=Object.prototype.hasOwnProperty,Zh={current:null},Vw={key:!0,ref:!0,__self:!0,__source:!0};function Lw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Dw.call(e,r)&&!Vw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ra,type:t,key:i,ref:o,props:s,_owner:Zh.current}}function d1(t,e){return{$$typeof:Ra,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ep(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ra}function f1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qg=/\/+/g;function wd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?f1(""+t.key):e.toString(36)}function Ll(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ra:case e1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wd(o,0):r,Yg(s)?(n="",t!=null&&(n=t.replace(Qg,"$&/")+"/"),Ll(s,e,n,"",function(c){return c})):s!=null&&(ep(s)&&(s=d1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Qg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Yg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+wd(i,a);o+=Ll(i,e,n,l,s)}else if(l=c1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+wd(i,a++),o+=Ll(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cl(t,e,n){if(t==null)return t;var r=[],s=0;return Ll(t,r,"","",function(i){return e.call(n,i,s++)}),r}function h1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},Ul={transition:null},p1={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Ul,ReactCurrentOwner:Zh};function Uw(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:cl,forEach:function(t,e,n){cl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cl(t,function(){e++}),e},toArray:function(t){return cl(t,function(e){return e})||[]},only:function(t){if(!ep(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Li;ce.Fragment=t1;ce.Profiler=r1;ce.PureComponent=Qh;ce.StrictMode=n1;ce.Suspense=a1;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p1;ce.act=Uw;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Zh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Dw.call(e,l)&&!Vw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ra,type:t.type,key:s,ref:i,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:i1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:s1,_context:t},t.Consumer=t};ce.createElement=Lw;ce.createFactory=function(t){var e=Lw.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:o1,render:t}};ce.isValidElement=ep;ce.lazy=function(t){return{$$typeof:u1,_payload:{_status:-1,_result:t},_init:h1}};ce.memo=function(t,e){return{$$typeof:l1,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Ul.transition;Ul.transition={};try{t()}finally{Ul.transition=e}};ce.unstable_act=Uw;ce.useCallback=function(t,e){return kt.current.useCallback(t,e)};ce.useContext=function(t){return kt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return kt.current.useEffect(t,e)};ce.useId=function(){return kt.current.useId()};ce.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return kt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ce.useRef=function(t){return kt.current.useRef(t)};ce.useState=function(t){return kt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return kt.current.useTransition()};ce.version="18.3.1";Nw.exports=ce;var j=Nw.exports;const Fw=ZI(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1=j,g1=Symbol.for("react.element"),y1=Symbol.for("react.fragment"),v1=Object.prototype.hasOwnProperty,_1=m1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w1={key:!0,ref:!0,__self:!0,__source:!0};function Ow(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)v1.call(e,r)&&!w1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:g1,type:t,key:i,ref:o,props:s,_owner:_1.current}}ac.Fragment=y1;ac.jsx=Ow;ac.jsxs=Ow;kw.exports=ac;var p=kw.exports,cf={},qw={exports:{}},Wt={},Bw={exports:{}},Gw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,z){var $=q.length;q.push(z);e:for(;0<$;){var ee=$-1>>>1,le=q[ee];if(0<s(le,z))q[ee]=z,q[$]=le,$=ee;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var z=q[0],$=q.pop();if($!==z){q[0]=$;e:for(var ee=0,le=q.length,Rt=le>>>1;ee<Rt;){var xe=2*(ee+1)-1,Xe=q[xe],ie=xe+1,Se=q[ie];if(0>s(Xe,$))ie<le&&0>s(Se,Xe)?(q[ee]=Se,q[ie]=$,ee=ie):(q[ee]=Xe,q[xe]=$,ee=xe);else if(ie<le&&0>s(Se,$))q[ee]=Se,q[ie]=$,ee=ie;else break e}}return z}function s(q,z){var $=q.sortIndex-z.sortIndex;return $!==0?$:q.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,m=null,g=3,v=!1,w=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=q)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function D(q){if(I=!1,k(q),!w)if(n(l)!==null)w=!0,pe(U);else{var z=n(c);z!==null&&ye(D,z.startTime-q)}}function U(q,z){w=!1,I&&(I=!1,A(E),E=-1),v=!0;var $=g;try{for(k(z),m=n(l);m!==null&&(!(m.expirationTime>z)||q&&!N());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,g=m.priorityLevel;var le=ee(m.expirationTime<=z);z=t.unstable_now(),typeof le=="function"?m.callback=le:m===n(l)&&r(l),k(z)}else r(l);m=n(l)}if(m!==null)var Rt=!0;else{var xe=n(c);xe!==null&&ye(D,xe.startTime-z),Rt=!1}return Rt}finally{m=null,g=$,v=!1}}var V=!1,T=null,E=-1,S=5,b=-1;function N(){return!(t.unstable_now()-b<S)}function M(){if(T!==null){var q=t.unstable_now();b=q;var z=!0;try{z=T(!0,q)}finally{z?R():(V=!1,T=null)}}else V=!1}var R;if(typeof x=="function")R=function(){x(M)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,_e=X.port2;X.port1.onmessage=M,R=function(){_e.postMessage(null)}}else R=function(){P(M,0)};function pe(q){T=q,V||(V=!0,R())}function ye(q,z){E=P(function(){q(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,pe(U))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var $=g;g=z;try{return q()}finally{g=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=g;g=q;try{return z()}finally{g=$}},t.unstable_scheduleCallback=function(q,z,$){var ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,q){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=$+le,q={id:h++,callback:z,priorityLevel:q,startTime:$,expirationTime:le,sortIndex:-1},$>ee?(q.sortIndex=$,e(c,q),n(l)===null&&q===n(c)&&(I?(A(E),E=-1):I=!0,ye(D,$-ee))):(q.sortIndex=le,e(l,q),w||v||(w=!0,pe(U))),q},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(q){var z=g;return function(){var $=g;g=z;try{return q.apply(this,arguments)}finally{g=$}}}})(Gw);Bw.exports=Gw;var E1=Bw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1=j,jt=E1;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hw=new Set,Qo={};function As(t,e){_i(t,e),_i(t+"Capture",e)}function _i(t,e){for(Qo[t]=e,t=0;t<e.length;t++)Hw.add(e[t])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=Object.prototype.hasOwnProperty,T1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xg={},Zg={};function S1(t){return df.call(Zg,t)?!0:df.call(Xg,t)?!1:T1.test(t)?Zg[t]=!0:(Xg[t]=!0,!1)}function C1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I1(t,e,n,r){if(e===null||typeof e>"u"||C1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var tp=/[\-:]([a-z])/g;function np(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tp,np);lt[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tp,np);lt[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tp,np);lt[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function rp(t,e,n,r){var s=lt.hasOwnProperty(e)?lt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(I1(e,n,s,r)&&(n=null),r||s===null?S1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zn=x1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dl=Symbol.for("react.element"),zs=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),zw=Symbol.for("react.provider"),$w=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),hf=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),op=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),jw=Symbol.for("react.offscreen"),e0=Symbol.iterator;function mo(t){return t===null||typeof t!="object"?null:(t=e0&&t[e0]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Ed;function Co(t){if(Ed===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ed=e&&e[1]||""}return`
`+Ed+t}var xd=!1;function Td(t,e){if(!t||xd)return"";xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Co(t):""}function A1(t){switch(t.tag){case 5:return Co(t.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return t=Td(t.type,!1),t;case 11:return t=Td(t.type.render,!1),t;case 1:return t=Td(t.type,!0),t;default:return""}}function mf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case zs:return"Portal";case ff:return"Profiler";case sp:return"StrictMode";case hf:return"Suspense";case pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $w:return(t.displayName||"Context")+".Consumer";case zw:return(t._context.displayName||"Context")+".Provider";case ip:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case op:return e=t.displayName||null,e!==null?e:mf(t.type)||"Memo";case dr:e=t._payload,t=t._init;try{return mf(t(e))}catch{}}return null}function k1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mf(e);case 8:return e===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ww(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N1(t){var e=Ww(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fl(t){t._valueTracker||(t._valueTracker=N1(t))}function Kw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ww(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gf(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jw(t,e){e=e.checked,e!=null&&rp(t,"checked",e,!1)}function yf(t,e){Jw(t,e);var n=Ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&vf(t,e.type,Ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vf(t,e,n){(e!=="number"||uu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Io=Array.isArray;function si(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ur(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _f(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Io(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ur(n)}}function Yw(t,e){var n=Ur(e.value),r=Ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hl,Xw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R1=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(t){R1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mo[e]=Mo[t]})});function Zw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mo.hasOwnProperty(t)&&Mo[t]?(""+e).trim():e+"px"}function eE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var b1=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ef(t,e){if(e){if(b1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function xf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function ap(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sf=null,ii=null,oi=null;function i0(t){if(t=Ma(t)){if(typeof Sf!="function")throw Error(H(280));var e=t.stateNode;e&&(e=fc(e),Sf(t.stateNode,t.type,e))}}function tE(t){ii?oi?oi.push(t):oi=[t]:ii=t}function nE(){if(ii){var t=ii,e=oi;if(oi=ii=null,i0(t),e)for(t=0;t<e.length;t++)i0(e[t])}}function rE(t,e){return t(e)}function sE(){}var Sd=!1;function iE(t,e,n){if(Sd)return t(e,n);Sd=!0;try{return rE(t,e,n)}finally{Sd=!1,(ii!==null||oi!==null)&&(sE(),nE())}}function Zo(t,e){var n=t.stateNode;if(n===null)return null;var r=fc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Cf=!1;if(Hn)try{var go={};Object.defineProperty(go,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Cf=!1}function P1(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Do=!1,cu=null,du=!1,If=null,M1={onError:function(t){Do=!0,cu=t}};function D1(t,e,n,r,s,i,o,a,l){Do=!1,cu=null,P1.apply(M1,arguments)}function V1(t,e,n,r,s,i,o,a,l){if(D1.apply(this,arguments),Do){if(Do){var c=cu;Do=!1,cu=null}else throw Error(H(198));du||(du=!0,If=c)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o0(t){if(ks(t)!==t)throw Error(H(188))}function L1(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return o0(s),t;if(i===r)return o0(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function aE(t){return t=L1(t),t!==null?lE(t):null}function lE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lE(t);if(e!==null)return e;t=t.sibling}return null}var uE=jt.unstable_scheduleCallback,a0=jt.unstable_cancelCallback,U1=jt.unstable_shouldYield,F1=jt.unstable_requestPaint,Ge=jt.unstable_now,O1=jt.unstable_getCurrentPriorityLevel,lp=jt.unstable_ImmediatePriority,cE=jt.unstable_UserBlockingPriority,fu=jt.unstable_NormalPriority,q1=jt.unstable_LowPriority,dE=jt.unstable_IdlePriority,lc=null,Sn=null;function B1(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(lc,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:z1,G1=Math.log,H1=Math.LN2;function z1(t){return t>>>=0,t===0?32:31-(G1(t)/H1|0)|0}var pl=64,ml=4194304;function Ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ao(a):(i&=o,i!==0&&(r=Ao(i)))}else o=n&~s,o!==0?r=Ao(o):i!==0&&(r=Ao(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),s=1<<n,r|=t[n],e&=~s;return r}function $1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-un(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=$1(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Af(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fE(){var t=pl;return pl<<=1,!(pl&4194240)&&(pl=64),t}function Cd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ba(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function W1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-un(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function up(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ee=0;function hE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pE,cp,mE,gE,yE,kf=!1,gl=[],xr=null,Tr=null,Sr=null,ea=new Map,ta=new Map,hr=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l0(t,e){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(e.pointerId)}}function yo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ma(e),e!==null&&cp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function J1(t,e,n,r,s){switch(e){case"focusin":return xr=yo(xr,t,e,n,r,s),!0;case"dragenter":return Tr=yo(Tr,t,e,n,r,s),!0;case"mouseover":return Sr=yo(Sr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ea.set(i,yo(ea.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ta.set(i,yo(ta.get(i)||null,t,e,n,r,s)),!0}return!1}function vE(t){var e=as(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=oE(n),e!==null){t.blockedOn=e,yE(t.priority,function(){mE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tf=r,n.target.dispatchEvent(r),Tf=null}else return e=Ma(n),e!==null&&cp(e),t.blockedOn=n,!1;e.shift()}return!0}function u0(t,e,n){Fl(t)&&n.delete(e)}function Y1(){kf=!1,xr!==null&&Fl(xr)&&(xr=null),Tr!==null&&Fl(Tr)&&(Tr=null),Sr!==null&&Fl(Sr)&&(Sr=null),ea.forEach(u0),ta.forEach(u0)}function vo(t,e){t.blockedOn===e&&(t.blockedOn=null,kf||(kf=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Y1)))}function na(t){function e(s){return vo(s,t)}if(0<gl.length){vo(gl[0],t);for(var n=1;n<gl.length;n++){var r=gl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xr!==null&&vo(xr,t),Tr!==null&&vo(Tr,t),Sr!==null&&vo(Sr,t),ea.forEach(e),ta.forEach(e),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)vE(n),n.blockedOn===null&&hr.shift()}var ai=Zn.ReactCurrentBatchConfig,pu=!0;function Q1(t,e,n,r){var s=Ee,i=ai.transition;ai.transition=null;try{Ee=1,dp(t,e,n,r)}finally{Ee=s,ai.transition=i}}function X1(t,e,n,r){var s=Ee,i=ai.transition;ai.transition=null;try{Ee=4,dp(t,e,n,r)}finally{Ee=s,ai.transition=i}}function dp(t,e,n,r){if(pu){var s=Nf(t,e,n,r);if(s===null)Vd(t,e,r,mu,n),l0(t,r);else if(J1(s,t,e,n,r))r.stopPropagation();else if(l0(t,r),e&4&&-1<K1.indexOf(t)){for(;s!==null;){var i=Ma(s);if(i!==null&&pE(i),i=Nf(t,e,n,r),i===null&&Vd(t,e,r,mu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vd(t,e,r,null,n)}}var mu=null;function Nf(t,e,n,r){if(mu=null,t=ap(r),t=as(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mu=t,null}function _E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O1()){case lp:return 1;case cE:return 4;case fu:case q1:return 16;case dE:return 536870912;default:return 16}default:return 16}}var _r=null,fp=null,Ol=null;function wE(){if(Ol)return Ol;var t,e=fp,n=e.length,r,s="value"in _r?_r.value:_r.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ol=s.slice(t,1<r?1-r:void 0)}function ql(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yl(){return!0}function c0(){return!1}function Kt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yl:c0,this.isPropagationStopped=c0,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),e}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hp=Kt(Ui),Pa=Ve({},Ui,{view:0,detail:0}),Z1=Kt(Pa),Id,Ad,_o,uc=Ve({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_o&&(_o&&t.type==="mousemove"?(Id=t.screenX-_o.screenX,Ad=t.screenY-_o.screenY):Ad=Id=0,_o=t),Id)},movementY:function(t){return"movementY"in t?t.movementY:Ad}}),d0=Kt(uc),eA=Ve({},uc,{dataTransfer:0}),tA=Kt(eA),nA=Ve({},Pa,{relatedTarget:0}),kd=Kt(nA),rA=Ve({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),sA=Kt(rA),iA=Ve({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oA=Kt(iA),aA=Ve({},Ui,{data:0}),f0=Kt(aA),lA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cA[t])?!!e[t]:!1}function pp(){return dA}var fA=Ve({},Pa,{key:function(t){if(t.key){var e=lA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(t){return t.type==="keypress"?ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hA=Kt(fA),pA=Ve({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h0=Kt(pA),mA=Ve({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),gA=Kt(mA),yA=Ve({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),vA=Kt(yA),_A=Ve({},uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wA=Kt(_A),EA=[9,13,27,32],mp=Hn&&"CompositionEvent"in window,Vo=null;Hn&&"documentMode"in document&&(Vo=document.documentMode);var xA=Hn&&"TextEvent"in window&&!Vo,EE=Hn&&(!mp||Vo&&8<Vo&&11>=Vo),p0=" ",m0=!1;function xE(t,e){switch(t){case"keyup":return EA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var js=!1;function TA(t,e){switch(t){case"compositionend":return TE(e);case"keypress":return e.which!==32?null:(m0=!0,p0);case"textInput":return t=e.data,t===p0&&m0?null:t;default:return null}}function SA(t,e){if(js)return t==="compositionend"||!mp&&xE(t,e)?(t=wE(),Ol=fp=_r=null,js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EE&&e.locale!=="ko"?null:e.data;default:return null}}var CA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CA[t.type]:e==="textarea"}function SE(t,e,n,r){tE(r),e=gu(e,"onChange"),0<e.length&&(n=new hp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lo=null,ra=null;function IA(t){VE(t,0)}function cc(t){var e=Js(t);if(Kw(e))return t}function AA(t,e){if(t==="change")return e}var CE=!1;if(Hn){var Nd;if(Hn){var Rd="oninput"in document;if(!Rd){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Rd=typeof y0.oninput=="function"}Nd=Rd}else Nd=!1;CE=Nd&&(!document.documentMode||9<document.documentMode)}function v0(){Lo&&(Lo.detachEvent("onpropertychange",IE),ra=Lo=null)}function IE(t){if(t.propertyName==="value"&&cc(ra)){var e=[];SE(e,ra,t,ap(t)),iE(IA,e)}}function kA(t,e,n){t==="focusin"?(v0(),Lo=e,ra=n,Lo.attachEvent("onpropertychange",IE)):t==="focusout"&&v0()}function NA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(ra)}function RA(t,e){if(t==="click")return cc(e)}function bA(t,e){if(t==="input"||t==="change")return cc(e)}function PA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:PA;function sa(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!df.call(e,s)||!dn(t[s],e[s]))return!1}return!0}function _0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w0(t,e){var n=_0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_0(n)}}function AE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kE(){for(var t=window,e=uu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uu(t.document)}return e}function gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MA(t){var e=kE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AE(n.ownerDocument.documentElement,n)){if(r!==null&&gp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=w0(n,i);var o=w0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DA=Hn&&"documentMode"in document&&11>=document.documentMode,Ws=null,Rf=null,Uo=null,bf=!1;function E0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bf||Ws==null||Ws!==uu(r)||(r=Ws,"selectionStart"in r&&gp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uo&&sa(Uo,r)||(Uo=r,r=gu(Rf,"onSelect"),0<r.length&&(e=new hp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ws)))}function vl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ks={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},bd={},NE={};Hn&&(NE=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function dc(t){if(bd[t])return bd[t];if(!Ks[t])return t;var e=Ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NE)return bd[t]=e[n];return t}var RE=dc("animationend"),bE=dc("animationiteration"),PE=dc("animationstart"),ME=dc("transitionend"),DE=new Map,x0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,e){DE.set(t,e),As(e,[t])}for(var Pd=0;Pd<x0.length;Pd++){var Md=x0[Pd],VA=Md.toLowerCase(),LA=Md[0].toUpperCase()+Md.slice(1);$r(VA,"on"+LA)}$r(RE,"onAnimationEnd");$r(bE,"onAnimationIteration");$r(PE,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(ME,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function T0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,V1(r,e,void 0,t),t.currentTarget=null}function VE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;T0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;T0(s,a,c),i=l}}}if(du)throw t=If,du=!1,If=null,t}function ke(t,e){var n=e[Lf];n===void 0&&(n=e[Lf]=new Set);var r=t+"__bubble";n.has(r)||(LE(e,t,2,!1),n.add(r))}function Dd(t,e,n){var r=0;e&&(r|=4),LE(n,t,r,e)}var _l="_reactListening"+Math.random().toString(36).slice(2);function ia(t){if(!t[_l]){t[_l]=!0,Hw.forEach(function(n){n!=="selectionchange"&&(UA.has(n)||Dd(n,!1,t),Dd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_l]||(e[_l]=!0,Dd("selectionchange",!1,e))}}function LE(t,e,n,r){switch(_E(e)){case 1:var s=Q1;break;case 4:s=X1;break;default:s=dp}n=s.bind(null,e,n,t),s=void 0,!Cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Vd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=as(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}iE(function(){var c=i,h=ap(n),m=[];e:{var g=DE.get(t);if(g!==void 0){var v=hp,w=t;switch(t){case"keypress":if(ql(n)===0)break e;case"keydown":case"keyup":v=hA;break;case"focusin":w="focus",v=kd;break;case"focusout":w="blur",v=kd;break;case"beforeblur":case"afterblur":v=kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=tA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=gA;break;case RE:case bE:case PE:v=sA;break;case ME:v=vA;break;case"scroll":v=Z1;break;case"wheel":v=wA;break;case"copy":case"cut":case"paste":v=oA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=h0}var I=(e&4)!==0,P=!I&&t==="scroll",A=I?g!==null?g+"Capture":null:g;I=[];for(var x=c,k;x!==null;){k=x;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,A!==null&&(D=Zo(x,A),D!=null&&I.push(oa(x,D,k)))),P)break;x=x.return}0<I.length&&(g=new v(g,w,null,n,h),m.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==Tf&&(w=n.relatedTarget||n.fromElement)&&(as(w)||w[zn]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?as(w):null,w!==null&&(P=ks(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(I=d0,D="onMouseLeave",A="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(I=h0,D="onPointerLeave",A="onPointerEnter",x="pointer"),P=v==null?g:Js(v),k=w==null?g:Js(w),g=new I(D,x+"leave",v,n,h),g.target=P,g.relatedTarget=k,D=null,as(h)===c&&(I=new I(A,x+"enter",w,n,h),I.target=k,I.relatedTarget=P,D=I),P=D,v&&w)t:{for(I=v,A=w,x=0,k=I;k;k=Os(k))x++;for(k=0,D=A;D;D=Os(D))k++;for(;0<x-k;)I=Os(I),x--;for(;0<k-x;)A=Os(A),k--;for(;x--;){if(I===A||A!==null&&I===A.alternate)break t;I=Os(I),A=Os(A)}I=null}else I=null;v!==null&&S0(m,g,v,I,!1),w!==null&&P!==null&&S0(m,P,w,I,!0)}}e:{if(g=c?Js(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var U=AA;else if(g0(g))if(CE)U=bA;else{U=NA;var V=kA}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=RA);if(U&&(U=U(t,c))){SE(m,U,n,h);break e}V&&V(t,g,c),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&vf(g,"number",g.value)}switch(V=c?Js(c):window,t){case"focusin":(g0(V)||V.contentEditable==="true")&&(Ws=V,Rf=c,Uo=null);break;case"focusout":Uo=Rf=Ws=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,E0(m,n,h);break;case"selectionchange":if(DA)break;case"keydown":case"keyup":E0(m,n,h)}var T;if(mp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else js?xE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(EE&&n.locale!=="ko"&&(js||E!=="onCompositionStart"?E==="onCompositionEnd"&&js&&(T=wE()):(_r=h,fp="value"in _r?_r.value:_r.textContent,js=!0)),V=gu(c,E),0<V.length&&(E=new f0(E,t,null,n,h),m.push({event:E,listeners:V}),T?E.data=T:(T=TE(n),T!==null&&(E.data=T)))),(T=xA?TA(t,n):SA(t,n))&&(c=gu(c,"onBeforeInput"),0<c.length&&(h=new f0("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:c}),h.data=T))}VE(m,e)})}function oa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zo(t,n),i!=null&&r.unshift(oa(t,i,s)),i=Zo(t,e),i!=null&&r.push(oa(t,i,s))),t=t.return}return r}function Os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function S0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Zo(n,i),l!=null&&o.unshift(oa(n,l,a))):s||(l=Zo(n,i),l!=null&&o.push(oa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function C0(t){return(typeof t=="string"?t:""+t).replace(FA,`
`).replace(OA,"")}function wl(t,e,n){if(e=C0(e),C0(t)!==e&&n)throw Error(H(425))}function yu(){}var Pf=null,Mf=null;function Df(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(t){return I0.resolve(null).then(t).catch(GA)}:Vf;function GA(t){setTimeout(function(){throw t})}function Ld(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),na(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);na(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),En="__reactFiber$"+Fi,aa="__reactProps$"+Fi,zn="__reactContainer$"+Fi,Lf="__reactEvents$"+Fi,HA="__reactListeners$"+Fi,zA="__reactHandles$"+Fi;function as(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zn]||n[En]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A0(t);t!==null;){if(n=t[En])return n;t=A0(t)}return e}t=n,n=t.parentNode}return null}function Ma(t){return t=t[En]||t[zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function fc(t){return t[aa]||null}var Uf=[],Ys=-1;function jr(t){return{current:t}}function be(t){0>Ys||(t.current=Uf[Ys],Uf[Ys]=null,Ys--)}function Ie(t,e){Ys++,Uf[Ys]=t.current,t.current=e}var Fr={},Et=jr(Fr),Vt=jr(!1),gs=Fr;function wi(t,e){var n=t.type.contextTypes;if(!n)return Fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(t){return t=t.childContextTypes,t!=null}function vu(){be(Vt),be(Et)}function k0(t,e,n){if(Et.current!==Fr)throw Error(H(168));Ie(Et,e),Ie(Vt,n)}function UE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,k1(t)||"Unknown",s));return Ve({},n,r)}function _u(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,gs=Et.current,Ie(Et,t),Ie(Vt,Vt.current),!0}function N0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=UE(t,e,gs),r.__reactInternalMemoizedMergedChildContext=t,be(Vt),be(Et),Ie(Et,t)):be(Vt),Ie(Vt,n)}var Un=null,hc=!1,Ud=!1;function FE(t){Un===null?Un=[t]:Un.push(t)}function $A(t){hc=!0,FE(t)}function Wr(){if(!Ud&&Un!==null){Ud=!0;var t=0,e=Ee;try{var n=Un;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Un=null,hc=!1}catch(s){throw Un!==null&&(Un=Un.slice(t+1)),uE(lp,Wr),s}finally{Ee=e,Ud=!1}}return null}var Qs=[],Xs=0,wu=null,Eu=0,Jt=[],Yt=0,ys=null,Fn=1,On="";function ss(t,e){Qs[Xs++]=Eu,Qs[Xs++]=wu,wu=t,Eu=e}function OE(t,e,n){Jt[Yt++]=Fn,Jt[Yt++]=On,Jt[Yt++]=ys,ys=t;var r=Fn;t=On;var s=32-un(r)-1;r&=~(1<<s),n+=1;var i=32-un(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Fn=1<<32-un(e)+s|n<<s|r,On=i+t}else Fn=1<<i|n<<s|r,On=t}function yp(t){t.return!==null&&(ss(t,1),OE(t,1,0))}function vp(t){for(;t===wu;)wu=Qs[--Xs],Qs[Xs]=null,Eu=Qs[--Xs],Qs[Xs]=null;for(;t===ys;)ys=Jt[--Yt],Jt[Yt]=null,On=Jt[--Yt],Jt[Yt]=null,Fn=Jt[--Yt],Jt[Yt]=null}var $t=null,Ht=null,Pe=!1,an=null;function qE(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Ht=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:Fn,overflow:On}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Ht=null,!0):!1;default:return!1}}function Ff(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Of(t){if(Pe){var e=Ht;if(e){var n=e;if(!R0(t,e)){if(Ff(t))throw Error(H(418));e=Cr(n.nextSibling);var r=$t;e&&R0(t,e)?qE(r,n):(t.flags=t.flags&-4097|2,Pe=!1,$t=t)}}else{if(Ff(t))throw Error(H(418));t.flags=t.flags&-4097|2,Pe=!1,$t=t}}}function b0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function El(t){if(t!==$t)return!1;if(!Pe)return b0(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Df(t.type,t.memoizedProps)),e&&(e=Ht)){if(Ff(t))throw BE(),Error(H(418));for(;e;)qE(t,e),e=Cr(e.nextSibling)}if(b0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=$t?Cr(t.stateNode.nextSibling):null;return!0}function BE(){for(var t=Ht;t;)t=Cr(t.nextSibling)}function Ei(){Ht=$t=null,Pe=!1}function _p(t){an===null?an=[t]:an.push(t)}var jA=Zn.ReactCurrentBatchConfig;function wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function xl(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P0(t){var e=t._init;return e(t._payload)}function GE(t){function e(A,x){if(t){var k=A.deletions;k===null?(A.deletions=[x],A.flags|=16):k.push(x)}}function n(A,x){if(!t)return null;for(;x!==null;)e(A,x),x=x.sibling;return null}function r(A,x){for(A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function s(A,x){return A=Nr(A,x),A.index=0,A.sibling=null,A}function i(A,x,k){return A.index=k,t?(k=A.alternate,k!==null?(k=k.index,k<x?(A.flags|=2,x):k):(A.flags|=2,x)):(A.flags|=1048576,x)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,x,k,D){return x===null||x.tag!==6?(x=zd(k,A.mode,D),x.return=A,x):(x=s(x,k),x.return=A,x)}function l(A,x,k,D){var U=k.type;return U===$s?h(A,x,k.props.children,D,k.key):x!==null&&(x.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===dr&&P0(U)===x.type)?(D=s(x,k.props),D.ref=wo(A,x,k),D.return=A,D):(D=Wl(k.type,k.key,k.props,null,A.mode,D),D.ref=wo(A,x,k),D.return=A,D)}function c(A,x,k,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=$d(k,A.mode,D),x.return=A,x):(x=s(x,k.children||[]),x.return=A,x)}function h(A,x,k,D,U){return x===null||x.tag!==7?(x=hs(k,A.mode,D,U),x.return=A,x):(x=s(x,k),x.return=A,x)}function m(A,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=zd(""+x,A.mode,k),x.return=A,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dl:return k=Wl(x.type,x.key,x.props,null,A.mode,k),k.ref=wo(A,null,x),k.return=A,k;case zs:return x=$d(x,A.mode,k),x.return=A,x;case dr:var D=x._init;return m(A,D(x._payload),k)}if(Io(x)||mo(x))return x=hs(x,A.mode,k,null),x.return=A,x;xl(A,x)}return null}function g(A,x,k,D){var U=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return U!==null?null:a(A,x,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case dl:return k.key===U?l(A,x,k,D):null;case zs:return k.key===U?c(A,x,k,D):null;case dr:return U=k._init,g(A,x,U(k._payload),D)}if(Io(k)||mo(k))return U!==null?null:h(A,x,k,D,null);xl(A,k)}return null}function v(A,x,k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return A=A.get(k)||null,a(x,A,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case dl:return A=A.get(D.key===null?k:D.key)||null,l(x,A,D,U);case zs:return A=A.get(D.key===null?k:D.key)||null,c(x,A,D,U);case dr:var V=D._init;return v(A,x,k,V(D._payload),U)}if(Io(D)||mo(D))return A=A.get(k)||null,h(x,A,D,U,null);xl(x,D)}return null}function w(A,x,k,D){for(var U=null,V=null,T=x,E=x=0,S=null;T!==null&&E<k.length;E++){T.index>E?(S=T,T=null):S=T.sibling;var b=g(A,T,k[E],D);if(b===null){T===null&&(T=S);break}t&&T&&b.alternate===null&&e(A,T),x=i(b,x,E),V===null?U=b:V.sibling=b,V=b,T=S}if(E===k.length)return n(A,T),Pe&&ss(A,E),U;if(T===null){for(;E<k.length;E++)T=m(A,k[E],D),T!==null&&(x=i(T,x,E),V===null?U=T:V.sibling=T,V=T);return Pe&&ss(A,E),U}for(T=r(A,T);E<k.length;E++)S=v(T,A,E,k[E],D),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?E:S.key),x=i(S,x,E),V===null?U=S:V.sibling=S,V=S);return t&&T.forEach(function(N){return e(A,N)}),Pe&&ss(A,E),U}function I(A,x,k,D){var U=mo(k);if(typeof U!="function")throw Error(H(150));if(k=U.call(k),k==null)throw Error(H(151));for(var V=U=null,T=x,E=x=0,S=null,b=k.next();T!==null&&!b.done;E++,b=k.next()){T.index>E?(S=T,T=null):S=T.sibling;var N=g(A,T,b.value,D);if(N===null){T===null&&(T=S);break}t&&T&&N.alternate===null&&e(A,T),x=i(N,x,E),V===null?U=N:V.sibling=N,V=N,T=S}if(b.done)return n(A,T),Pe&&ss(A,E),U;if(T===null){for(;!b.done;E++,b=k.next())b=m(A,b.value,D),b!==null&&(x=i(b,x,E),V===null?U=b:V.sibling=b,V=b);return Pe&&ss(A,E),U}for(T=r(A,T);!b.done;E++,b=k.next())b=v(T,A,E,b.value,D),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?E:b.key),x=i(b,x,E),V===null?U=b:V.sibling=b,V=b);return t&&T.forEach(function(M){return e(A,M)}),Pe&&ss(A,E),U}function P(A,x,k,D){if(typeof k=="object"&&k!==null&&k.type===$s&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case dl:e:{for(var U=k.key,V=x;V!==null;){if(V.key===U){if(U=k.type,U===$s){if(V.tag===7){n(A,V.sibling),x=s(V,k.props.children),x.return=A,A=x;break e}}else if(V.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===dr&&P0(U)===V.type){n(A,V.sibling),x=s(V,k.props),x.ref=wo(A,V,k),x.return=A,A=x;break e}n(A,V);break}else e(A,V);V=V.sibling}k.type===$s?(x=hs(k.props.children,A.mode,D,k.key),x.return=A,A=x):(D=Wl(k.type,k.key,k.props,null,A.mode,D),D.ref=wo(A,x,k),D.return=A,A=D)}return o(A);case zs:e:{for(V=k.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(A,x.sibling),x=s(x,k.children||[]),x.return=A,A=x;break e}else{n(A,x);break}else e(A,x);x=x.sibling}x=$d(k,A.mode,D),x.return=A,A=x}return o(A);case dr:return V=k._init,P(A,x,V(k._payload),D)}if(Io(k))return w(A,x,k,D);if(mo(k))return I(A,x,k,D);xl(A,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(A,x.sibling),x=s(x,k),x.return=A,A=x):(n(A,x),x=zd(k,A.mode,D),x.return=A,A=x),o(A)):n(A,x)}return P}var xi=GE(!0),HE=GE(!1),xu=jr(null),Tu=null,Zs=null,wp=null;function Ep(){wp=Zs=Tu=null}function xp(t){var e=xu.current;be(xu),t._currentValue=e}function qf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function li(t,e){Tu=t,wp=Zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(wp!==t)if(t={context:t,memoizedValue:e,next:null},Zs===null){if(Tu===null)throw Error(H(308));Zs=t,Tu.dependencies={lanes:0,firstContext:t}}else Zs=Zs.next=t;return e}var ls=null;function Tp(t){ls===null?ls=[t]:ls.push(t)}function zE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tp(e)):(n.next=s.next,s.next=n),e.interleaved=n,$n(t,r)}function $n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fr=!1;function Sp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $E(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,$n(t,n)}return s=r.interleaved,s===null?(e.next=e,Tp(r)):(e.next=s.next,s.next=e),r.interleaved=e,$n(t,n)}function Bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}function M0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Su(t,e,n,r){var s=t.updateQueue;fr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var m=s.baseState;o=0,h=c=l=null,a=i;do{var g=a.lane,v=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,I=a;switch(g=e,v=n,I.tag){case 1:if(w=I.payload,typeof w=="function"){m=w.call(v,m,g);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,g=typeof w=="function"?w.call(v,m,g):w,g==null)break e;m=Ve({},m,g);break e;case 2:fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,l=m):h=h.next=v,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(l=m),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_s|=o,t.lanes=o,t.memoizedState=m}}function D0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Da={},Cn=jr(Da),la=jr(Da),ua=jr(Da);function us(t){if(t===Da)throw Error(H(174));return t}function Cp(t,e){switch(Ie(ua,e),Ie(la,t),Ie(Cn,Da),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wf(e,t)}be(Cn),Ie(Cn,e)}function Ti(){be(Cn),be(la),be(ua)}function jE(t){us(ua.current);var e=us(Cn.current),n=wf(e,t.type);e!==n&&(Ie(la,t),Ie(Cn,n))}function Ip(t){la.current===t&&(be(Cn),be(la))}var Me=jr(0);function Cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fd=[];function Ap(){for(var t=0;t<Fd.length;t++)Fd[t]._workInProgressVersionPrimary=null;Fd.length=0}var Gl=Zn.ReactCurrentDispatcher,Od=Zn.ReactCurrentBatchConfig,vs=0,De=null,Ke=null,tt=null,Iu=!1,Fo=!1,ca=0,WA=0;function ft(){throw Error(H(321))}function kp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function Np(t,e,n,r,s,i){if(vs=i,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gl.current=t===null||t.memoizedState===null?QA:XA,t=n(r,s),Fo){i=0;do{if(Fo=!1,ca=0,25<=i)throw Error(H(301));i+=1,tt=Ke=null,e.updateQueue=null,Gl.current=ZA,t=n(r,s)}while(Fo)}if(Gl.current=Au,e=Ke!==null&&Ke.next!==null,vs=0,tt=Ke=De=null,Iu=!1,e)throw Error(H(300));return t}function Rp(){var t=ca!==0;return ca=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?De.memoizedState=tt=t:tt=tt.next=t,tt}function nn(){if(Ke===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=tt===null?De.memoizedState:tt.next;if(e!==null)tt=e,Ke=t;else{if(t===null)throw Error(H(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},tt===null?De.memoizedState=tt=t:tt=tt.next=t}return tt}function da(t,e){return typeof e=="function"?e(t):e}function qd(t){var e=nn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((vs&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,De.lanes|=h,_s|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,dn(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,De.lanes|=i,_s|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bd(t){var e=nn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);dn(i,e.memoizedState)||(Dt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function WE(){}function KE(t,e){var n=De,r=nn(),s=e(),i=!dn(r.memoizedState,s);if(i&&(r.memoizedState=s,Dt=!0),r=r.queue,bp(QE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,fa(9,YE.bind(null,n,r,s,e),void 0,null),nt===null)throw Error(H(349));vs&30||JE(n,e,s)}return s}function JE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YE(t,e,n,r){e.value=n,e.getSnapshot=r,XE(e)&&ZE(t)}function QE(t,e,n){return n(function(){XE(e)&&ZE(t)})}function XE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function ZE(t){var e=$n(t,1);e!==null&&cn(e,t,1,-1)}function V0(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:t},e.queue=t,t=t.dispatch=YA.bind(null,De,t),[e.memoizedState,t]}function fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ex(){return nn().memoizedState}function Hl(t,e,n,r){var s=_n();De.flags|=t,s.memoizedState=fa(1|e,n,void 0,r===void 0?null:r)}function pc(t,e,n,r){var s=nn();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,r!==null&&kp(r,o.deps)){s.memoizedState=fa(e,n,i,r);return}}De.flags|=t,s.memoizedState=fa(1|e,n,i,r)}function L0(t,e){return Hl(8390656,8,t,e)}function bp(t,e){return pc(2048,8,t,e)}function tx(t,e){return pc(4,2,t,e)}function nx(t,e){return pc(4,4,t,e)}function rx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sx(t,e,n){return n=n!=null?n.concat([t]):null,pc(4,4,rx.bind(null,e,t),n)}function Pp(){}function ix(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ox(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ax(t,e,n){return vs&21?(dn(n,e)||(n=fE(),De.lanes|=n,_s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function KA(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=Od.transition;Od.transition={};try{t(!1),e()}finally{Ee=n,Od.transition=r}}function lx(){return nn().memoizedState}function JA(t,e,n){var r=kr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ux(t))cx(e,n);else if(n=zE(t,e,n,r),n!==null){var s=It();cn(n,t,r,s),dx(n,e,r)}}function YA(t,e,n){var r=kr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ux(t))cx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,dn(a,o)){var l=e.interleaved;l===null?(s.next=s,Tp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=zE(t,e,s,r),n!==null&&(s=It(),cn(n,t,r,s),dx(n,e,r))}}function ux(t){var e=t.alternate;return t===De||e!==null&&e===De}function cx(t,e){Fo=Iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}var Au={readContext:tn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},QA={readContext:tn,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:L0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hl(4194308,4,rx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hl(4,2,t,e)},useMemo:function(t,e){var n=_n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JA.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:V0,useDebugValue:Pp,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=V0(!1),e=t[0];return t=KA.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,s=_n();if(Pe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),nt===null)throw Error(H(349));vs&30||JE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,L0(QE.bind(null,r,i,t),[t]),r.flags|=2048,fa(9,YE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=_n(),e=nt.identifierPrefix;if(Pe){var n=On,r=Fn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ca++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XA={readContext:tn,useCallback:ix,useContext:tn,useEffect:bp,useImperativeHandle:sx,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:ox,useReducer:qd,useRef:ex,useState:function(){return qd(da)},useDebugValue:Pp,useDeferredValue:function(t){var e=nn();return ax(e,Ke.memoizedState,t)},useTransition:function(){var t=qd(da)[0],e=nn().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:KE,useId:lx,unstable_isNewReconciler:!1},ZA={readContext:tn,useCallback:ix,useContext:tn,useEffect:bp,useImperativeHandle:sx,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:ox,useReducer:Bd,useRef:ex,useState:function(){return Bd(da)},useDebugValue:Pp,useDeferredValue:function(t){var e=nn();return Ke===null?e.memoizedState=t:ax(e,Ke.memoizedState,t)},useTransition:function(){var t=Bd(da)[0],e=nn().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:KE,useId:lx,unstable_isNewReconciler:!1};function sn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mc={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),s=kr(t),i=Gn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ir(t,i,s),e!==null&&(cn(e,t,s,r),Bl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),s=kr(t),i=Gn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ir(t,i,s),e!==null&&(cn(e,t,s,r),Bl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=kr(t),s=Gn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ir(t,s,r),e!==null&&(cn(e,t,r,n),Bl(e,t,r))}};function U0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!sa(n,r)||!sa(s,i):!0}function fx(t,e,n){var r=!1,s=Fr,i=e.contextType;return typeof i=="object"&&i!==null?i=tn(i):(s=Lt(e)?gs:Et.current,r=e.contextTypes,i=(r=r!=null)?wi(t,s):Fr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function F0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mc.enqueueReplaceState(e,e.state,null)}function Gf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Sp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=tn(i):(i=Lt(e)?gs:Et.current,s.context=wi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mc.enqueueReplaceState(s,s.state,null),Su(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Si(t,e){try{var n="",r=e;do n+=A1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ek=typeof WeakMap=="function"?WeakMap:Map;function hx(t,e,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nu||(Nu=!0,Zf=r),Hf(t,e)},n}function px(t,e,n){n=Gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hf(t,e),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function O0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ek;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=pk.bind(null,t,e,n),e.then(t,t))}function q0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gn(-1,1),e.tag=2,Ir(n,e,1))),n.lanes|=1),t)}var tk=Zn.ReactCurrentOwner,Dt=!1;function Ct(t,e,n,r){e.child=t===null?HE(e,null,n,r):xi(e,t.child,n,r)}function G0(t,e,n,r,s){n=n.render;var i=e.ref;return li(e,s),r=Np(t,e,n,r,i,s),n=Rp(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(Pe&&n&&yp(e),e.flags|=1,Ct(t,e,r,s),e.child)}function H0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mx(t,e,i,r,s)):(t=Wl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(o,r)&&t.ref===e.ref)return jn(t,e,s)}return e.flags|=1,t=Nr(i,r),t.ref=e.ref,t.return=e,e.child=t}function mx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(sa(i,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,jn(t,e,s)}return zf(t,e,n,r,s)}function gx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(ti,Gt),Gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(ti,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ie(ti,Gt),Gt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ie(ti,Gt),Gt|=r;return Ct(t,e,s,n),e.child}function yx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zf(t,e,n,r,s){var i=Lt(n)?gs:Et.current;return i=wi(e,i),li(e,s),n=Np(t,e,n,r,i,s),r=Rp(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(Pe&&r&&yp(e),e.flags|=1,Ct(t,e,n,s),e.child)}function z0(t,e,n,r,s){if(Lt(n)){var i=!0;_u(e)}else i=!1;if(li(e,s),e.stateNode===null)zl(t,e),fx(e,n,r),Gf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=tn(c):(c=Lt(n)?gs:Et.current,c=wi(e,c));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&F0(e,o,r,c),fr=!1;var g=e.memoizedState;o.state=g,Su(e,r,o,s),l=e.memoizedState,a!==r||g!==l||Vt.current||fr?(typeof h=="function"&&(Bf(e,n,h,r),l=e.memoizedState),(a=fr||U0(e,n,a,r,g,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$E(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sn(e.type,a),o.props=c,m=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tn(l):(l=Lt(n)?gs:Et.current,l=wi(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||g!==l)&&F0(e,o,r,l),fr=!1,g=e.memoizedState,o.state=g,Su(e,r,o,s);var w=e.memoizedState;a!==m||g!==w||Vt.current||fr?(typeof v=="function"&&(Bf(e,n,v,r),w=e.memoizedState),(c=fr||U0(e,n,c,r,g,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return $f(t,e,n,r,i,s)}function $f(t,e,n,r,s,i){yx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&N0(e,n,!1),jn(t,e,i);r=e.stateNode,tk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xi(e,t.child,null,i),e.child=xi(e,null,a,i)):Ct(t,e,a,i),e.memoizedState=r.state,s&&N0(e,n,!0),e.child}function vx(t){var e=t.stateNode;e.pendingContext?k0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k0(t,e.context,!1),Cp(t,e.containerInfo)}function $0(t,e,n,r,s){return Ei(),_p(s),e.flags|=256,Ct(t,e,n,r),e.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Wf(t){return{baseLanes:t,cachePool:null,transitions:null}}function _x(t,e,n){var r=e.pendingProps,s=Me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ie(Me,s&1),t===null)return Of(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vc(o,r,0,null),t=hs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wf(n),e.memoizedState=jf,t):Mp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Nr(a,i):(i=hs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Wf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=jf,r}return i=t.child,t=i.sibling,r=Nr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mp(t,e){return e=vc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tl(t,e,n,r){return r!==null&&_p(r),xi(e,t.child,null,n),t=Mp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Gd(Error(H(422))),Tl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=vc({mode:"visible",children:r.children},s,0,null),i=hs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&xi(e,t.child,null,o),e.child.memoizedState=Wf(o),e.memoizedState=jf,i);if(!(e.mode&1))return Tl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Gd(i,r,void 0),Tl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dt||a){if(r=nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$n(t,s),cn(r,t,s,-1))}return Op(),r=Gd(Error(H(421))),Tl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=mk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ht=Cr(s.nextSibling),$t=e,Pe=!0,an=null,t!==null&&(Jt[Yt++]=Fn,Jt[Yt++]=On,Jt[Yt++]=ys,Fn=t.id,On=t.overflow,ys=e),e=Mp(e,r.children),e.flags|=4096,e)}function j0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qf(t.return,e,n)}function Hd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ct(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j0(t,n,e);else if(t.tag===19)j0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hd(e,!0,n,null,i);break;case"together":Hd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rk(t,e,n){switch(e.tag){case 3:vx(e),Ei();break;case 5:jE(e);break;case 1:Lt(e.type)&&_u(e);break;case 4:Cp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ie(xu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?_x(t,e,n):(Ie(Me,Me.current&1),t=jn(t,e,n),t!==null?t.sibling:null);Ie(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,gx(t,e,n)}return jn(t,e,n)}var Ex,Kf,xx,Tx;Ex=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kf=function(){};xx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,us(Cn.current);var i=null;switch(n){case"input":s=gf(t,s),r=gf(t,r),i=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),i=[];break;case"textarea":s=_f(t,s),r=_f(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yu)}Ef(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ke("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Tx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Eo(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sk(t,e,n){var r=e.pendingProps;switch(vp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return Lt(e.type)&&vu(),ht(e),null;case 3:return r=e.stateNode,Ti(),be(Vt),be(Et),Ap(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(El(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,an!==null&&(nh(an),an=null))),Kf(t,e),ht(e),null;case 5:Ip(e);var s=us(ua.current);if(n=e.type,t!==null&&e.stateNode!=null)xx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return ht(e),null}if(t=us(Cn.current),El(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[En]=e,r[aa]=i,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<ko.length;s++)ke(ko[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":t0(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":r0(r,i),ke("invalid",r)}Ef(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wl(r.textContent,a,t),s=["children",""+a]):Qo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":fl(r),n0(r,i,!0);break;case"textarea":fl(r),s0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[En]=e,t[aa]=r,Ex(t,e,!1,!1),e.stateNode=t;e:{switch(o=xf(n,r),n){case"dialog":ke("cancel",t),ke("close",t),s=r;break;case"iframe":case"object":case"embed":ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<ko.length;s++)ke(ko[s],t);s=r;break;case"source":ke("error",t),s=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),s=r;break;case"details":ke("toggle",t),s=r;break;case"input":t0(t,r),s=gf(t,r),ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),ke("invalid",t);break;case"textarea":r0(t,r),s=_f(t,r),ke("invalid",t);break;default:s=r}Ef(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?eE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xo(t,l):typeof l=="number"&&Xo(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ke("scroll",t):l!=null&&rp(t,i,l,o))}switch(n){case"input":fl(t),n0(t,r,!1);break;case"textarea":fl(t),s0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ur(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?si(t,!!r.multiple,i,!1):r.defaultValue!=null&&si(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)Tx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=us(ua.current),us(Cn.current),El(e)){if(r=e.stateNode,n=e.memoizedProps,r[En]=e,(i=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:wl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=e,e.stateNode=r}return ht(e),null;case 13:if(be(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Ht!==null&&e.mode&1&&!(e.flags&128))BE(),Ei(),e.flags|=98560,i=!1;else if(i=El(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[En]=e}else Ei(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),i=!1}else an!==null&&(nh(an),an=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?Je===0&&(Je=3):Op())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return Ti(),Kf(t,e),t===null&&ia(e.stateNode.containerInfo),ht(e),null;case 10:return xp(e.type._context),ht(e),null;case 17:return Lt(e.type)&&vu(),ht(e),null;case 19:if(be(Me),i=e.memoizedState,i===null)return ht(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Eo(i,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cu(t),o!==null){for(e.flags|=128,Eo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Ci&&(e.flags|=128,r=!0,Eo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Cu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return ht(e),null}else 2*Ge()-i.renderingStartTime>Ci&&n!==1073741824&&(e.flags|=128,r=!0,Eo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Me.current,Ie(Me,r?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return Fp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function ik(t,e){switch(vp(e),e.tag){case 1:return Lt(e.type)&&vu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ti(),be(Vt),be(Et),Ap(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ip(e),null;case 13:if(be(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ei()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Me),null;case 4:return Ti(),null;case 10:return xp(e.type._context),null;case 22:case 23:return Fp(),null;case 24:return null;default:return null}}var Sl=!1,yt=!1,ok=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ei(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Jf(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var W0=!1;function ak(t,e){if(Pf=pu,t=kE(),gp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,m=t,g=null;t:for(;;){for(var v;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)g=m,m=v;for(;;){if(m===t)break t;if(g===n&&++c===s&&(a=o),g===i&&++h===r&&(l=o),(v=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mf={focusedElem:t,selectionRange:n},pu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var I=w.memoizedProps,P=w.memoizedState,A=e.stateNode,x=A.getSnapshotBeforeUpdate(e.elementType===e.type?I:sn(e.type,I),P);A.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(D){Fe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return w=W0,W0=!1,w}function Oo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jf(e,n,i)}s=s.next}while(s!==r)}}function gc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sx(t){var e=t.alternate;e!==null&&(t.alternate=null,Sx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[En],delete e[aa],delete e[Lf],delete e[HA],delete e[zA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cx(t){return t.tag===5||t.tag===3||t.tag===4}function K0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yu));else if(r!==4&&(t=t.child,t!==null))for(Qf(t,e,n),t=t.sibling;t!==null;)Qf(t,e,n),t=t.sibling}function Xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}var st=null,on=!1;function ur(t,e,n){for(n=n.child;n!==null;)Ix(t,e,n),n=n.sibling}function Ix(t,e,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(lc,n)}catch{}switch(n.tag){case 5:yt||ei(n,e);case 6:var r=st,s=on;st=null,ur(t,e,n),st=r,on=s,st!==null&&(on?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(on?(t=st,n=n.stateNode,t.nodeType===8?Ld(t.parentNode,n):t.nodeType===1&&Ld(t,n),na(t)):Ld(st,n.stateNode));break;case 4:r=st,s=on,st=n.stateNode.containerInfo,on=!0,ur(t,e,n),st=r,on=s;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jf(n,e,o),s=s.next}while(s!==r)}ur(t,e,n);break;case 1:if(!yt&&(ei(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}ur(t,e,n);break;case 21:ur(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,ur(t,e,n),yt=r):ur(t,e,n);break;default:ur(t,e,n)}}function J0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ok),e.forEach(function(r){var s=gk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,on=!1;break e;case 3:st=a.stateNode.containerInfo,on=!0;break e;case 4:st=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(st===null)throw Error(H(160));Ix(i,o,s),st=null,on=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Fe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ax(e,t),e=e.sibling}function Ax(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),yn(t),r&4){try{Oo(3,t,t.return),gc(3,t)}catch(I){Fe(t,t.return,I)}try{Oo(5,t,t.return)}catch(I){Fe(t,t.return,I)}}break;case 1:rn(e,t),yn(t),r&512&&n!==null&&ei(n,n.return);break;case 5:if(rn(e,t),yn(t),r&512&&n!==null&&ei(n,n.return),t.flags&32){var s=t.stateNode;try{Xo(s,"")}catch(I){Fe(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Jw(s,i),xf(a,o);var c=xf(a,i);for(o=0;o<l.length;o+=2){var h=l[o],m=l[o+1];h==="style"?eE(s,m):h==="dangerouslySetInnerHTML"?Xw(s,m):h==="children"?Xo(s,m):rp(s,h,m,c)}switch(a){case"input":yf(s,i);break;case"textarea":Yw(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?si(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?si(s,!!i.multiple,i.defaultValue,!0):si(s,!!i.multiple,i.multiple?[]:"",!1))}s[aa]=i}catch(I){Fe(t,t.return,I)}}break;case 6:if(rn(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){Fe(t,t.return,I)}}break;case 3:if(rn(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{na(e.containerInfo)}catch(I){Fe(t,t.return,I)}break;case 4:rn(e,t),yn(t);break;case 13:rn(e,t),yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lp=Ge())),r&4&&J0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(c=yt)||h,rn(e,t),yt=c):rn(e,t),yn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(m=Q=h;Q!==null;){switch(g=Q,v=g.child,g.tag){case 0:case 11:case 14:case 15:Oo(4,g,g.return);break;case 1:ei(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(I){Fe(r,n,I)}}break;case 5:ei(g,g.return);break;case 22:if(g.memoizedState!==null){Q0(m);continue}}v!==null?(v.return=g,Q=v):Q0(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Zw("display",o))}catch(I){Fe(t,t.return,I)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(I){Fe(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:rn(e,t),yn(t),r&4&&J0(t);break;case 21:break;default:rn(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cx(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xo(s,""),r.flags&=-33);var i=K0(t);Xf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=K0(t);Qf(t,a,o);break;default:throw Error(H(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lk(t,e,n){Q=t,kx(t)}function kx(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||yt;a=Sl;var c=yt;if(Sl=o,(yt=l)&&!c)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?X0(s):l!==null?(l.return=o,Q=l):X0(s);for(;i!==null;)Q=i,kx(i),i=i.sibling;Q=s,Sl=a,yt=c}Y0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):Y0(t)}}function Y0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||gc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&D0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&na(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}yt||e.flags&512&&Yf(e)}catch(g){Fe(e,e.return,g)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Q0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function X0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gc(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Fe(e,s,l)}}var i=e.return;try{Yf(e)}catch(l){Fe(e,i,l)}break;case 5:var o=e.return;try{Yf(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var uk=Math.ceil,ku=Zn.ReactCurrentDispatcher,Dp=Zn.ReactCurrentOwner,Zt=Zn.ReactCurrentBatchConfig,ge=0,nt=null,ze=null,at=0,Gt=0,ti=jr(0),Je=0,ha=null,_s=0,yc=0,Vp=0,qo=null,Pt=null,Lp=0,Ci=1/0,Ln=null,Nu=!1,Zf=null,Ar=null,Cl=!1,wr=null,Ru=0,Bo=0,eh=null,$l=-1,jl=0;function It(){return ge&6?Ge():$l!==-1?$l:$l=Ge()}function kr(t){return t.mode&1?ge&2&&at!==0?at&-at:jA.transition!==null?(jl===0&&(jl=fE()),jl):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:_E(t.type)),t):1}function cn(t,e,n,r){if(50<Bo)throw Bo=0,eh=null,Error(H(185));ba(t,n,r),(!(ge&2)||t!==nt)&&(t===nt&&(!(ge&2)&&(yc|=n),Je===4&&pr(t,at)),Ut(t,r),n===1&&ge===0&&!(e.mode&1)&&(Ci=Ge()+500,hc&&Wr()))}function Ut(t,e){var n=t.callbackNode;j1(t,e);var r=hu(t,t===nt?at:0);if(r===0)n!==null&&a0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a0(n),e===1)t.tag===0?$A(Z0.bind(null,t)):FE(Z0.bind(null,t)),BA(function(){!(ge&6)&&Wr()}),n=null;else{switch(hE(r)){case 1:n=lp;break;case 4:n=cE;break;case 16:n=fu;break;case 536870912:n=dE;break;default:n=fu}n=Lx(n,Nx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nx(t,e){if($l=-1,jl=0,ge&6)throw Error(H(327));var n=t.callbackNode;if(ui()&&t.callbackNode!==n)return null;var r=hu(t,t===nt?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bu(t,r);else{e=r;var s=ge;ge|=2;var i=bx();(nt!==t||at!==e)&&(Ln=null,Ci=Ge()+500,fs(t,e));do try{fk();break}catch(a){Rx(t,a)}while(!0);Ep(),ku.current=i,ge=s,ze!==null?e=0:(nt=null,at=0,e=Je)}if(e!==0){if(e===2&&(s=Af(t),s!==0&&(r=s,e=th(t,s))),e===1)throw n=ha,fs(t,0),pr(t,r),Ut(t,Ge()),n;if(e===6)pr(t,r);else{if(s=t.current.alternate,!(r&30)&&!ck(s)&&(e=bu(t,r),e===2&&(i=Af(t),i!==0&&(r=i,e=th(t,i))),e===1))throw n=ha,fs(t,0),pr(t,r),Ut(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:is(t,Pt,Ln);break;case 3:if(pr(t,r),(r&130023424)===r&&(e=Lp+500-Ge(),10<e)){if(hu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vf(is.bind(null,t,Pt,Ln),e);break}is(t,Pt,Ln);break;case 4:if(pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-un(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uk(r/1960))-r,10<r){t.timeoutHandle=Vf(is.bind(null,t,Pt,Ln),r);break}is(t,Pt,Ln);break;case 5:is(t,Pt,Ln);break;default:throw Error(H(329))}}}return Ut(t,Ge()),t.callbackNode===n?Nx.bind(null,t):null}function th(t,e){var n=qo;return t.current.memoizedState.isDehydrated&&(fs(t,e).flags|=256),t=bu(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&nh(e)),t}function nh(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function ck(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pr(t,e){for(e&=~Vp,e&=~yc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function Z0(t){if(ge&6)throw Error(H(327));ui();var e=hu(t,0);if(!(e&1))return Ut(t,Ge()),null;var n=bu(t,e);if(t.tag!==0&&n===2){var r=Af(t);r!==0&&(e=r,n=th(t,r))}if(n===1)throw n=ha,fs(t,0),pr(t,e),Ut(t,Ge()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,Pt,Ln),Ut(t,Ge()),null}function Up(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Ci=Ge()+500,hc&&Wr())}}function ws(t){wr!==null&&wr.tag===0&&!(ge&6)&&ui();var e=ge;ge|=1;var n=Zt.transition,r=Ee;try{if(Zt.transition=null,Ee=1,t)return t()}finally{Ee=r,Zt.transition=n,ge=e,!(ge&6)&&Wr()}}function Fp(){Gt=ti.current,be(ti)}function fs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qA(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vu();break;case 3:Ti(),be(Vt),be(Et),Ap();break;case 5:Ip(r);break;case 4:Ti();break;case 13:be(Me);break;case 19:be(Me);break;case 10:xp(r.type._context);break;case 22:case 23:Fp()}n=n.return}if(nt=t,ze=t=Nr(t.current,null),at=Gt=e,Je=0,ha=null,Vp=yc=_s=0,Pt=qo=null,ls!==null){for(e=0;e<ls.length;e++)if(n=ls[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ls=null}return t}function Rx(t,e){do{var n=ze;try{if(Ep(),Gl.current=Au,Iu){for(var r=De.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Iu=!1}if(vs=0,tt=Ke=De=null,Fo=!1,ca=0,Dp.current=null,n===null||n.return===null){Je=1,ha=e,ze=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=q0(o);if(v!==null){v.flags&=-257,B0(v,o,a,i,e),v.mode&1&&O0(i,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var I=new Set;I.add(l),e.updateQueue=I}else w.add(l);break e}else{if(!(e&1)){O0(i,c,e),Op();break e}l=Error(H(426))}}else if(Pe&&a.mode&1){var P=q0(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),B0(P,o,a,i,e),_p(Si(l,a));break e}}i=l=Si(l,a),Je!==4&&(Je=2),qo===null?qo=[i]:qo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var A=hx(i,l,e);M0(i,A);break e;case 1:a=l;var x=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ar===null||!Ar.has(k)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=px(i,a,e);M0(i,D);break e}}i=i.return}while(i!==null)}Mx(n)}catch(U){e=U,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function bx(){var t=ku.current;return ku.current=Au,t===null?Au:t}function Op(){(Je===0||Je===3||Je===2)&&(Je=4),nt===null||!(_s&268435455)&&!(yc&268435455)||pr(nt,at)}function bu(t,e){var n=ge;ge|=2;var r=bx();(nt!==t||at!==e)&&(Ln=null,fs(t,e));do try{dk();break}catch(s){Rx(t,s)}while(!0);if(Ep(),ge=n,ku.current=r,ze!==null)throw Error(H(261));return nt=null,at=0,Je}function dk(){for(;ze!==null;)Px(ze)}function fk(){for(;ze!==null&&!U1();)Px(ze)}function Px(t){var e=Vx(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?Mx(t):ze=e,Dp.current=null}function Mx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ik(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,ze=null;return}}else if(n=sk(n,e,Gt),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);Je===0&&(Je=5)}function is(t,e,n){var r=Ee,s=Zt.transition;try{Zt.transition=null,Ee=1,hk(t,e,n,r)}finally{Zt.transition=s,Ee=r}return null}function hk(t,e,n,r){do ui();while(wr!==null);if(ge&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(W1(t,i),t===nt&&(ze=nt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cl||(Cl=!0,Lx(fu,function(){return ui(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zt.transition,Zt.transition=null;var o=Ee;Ee=1;var a=ge;ge|=4,Dp.current=null,ak(t,n),Ax(n,t),MA(Mf),pu=!!Pf,Mf=Pf=null,t.current=n,lk(n),F1(),ge=a,Ee=o,Zt.transition=i}else t.current=n;if(Cl&&(Cl=!1,wr=t,Ru=s),i=t.pendingLanes,i===0&&(Ar=null),B1(n.stateNode),Ut(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nu)throw Nu=!1,t=Zf,Zf=null,t;return Ru&1&&t.tag!==0&&ui(),i=t.pendingLanes,i&1?t===eh?Bo++:(Bo=0,eh=t):Bo=0,Wr(),null}function ui(){if(wr!==null){var t=hE(Ru),e=Zt.transition,n=Ee;try{if(Zt.transition=null,Ee=16>t?16:t,wr===null)var r=!1;else{if(t=wr,wr=null,Ru=0,ge&6)throw Error(H(331));var s=ge;for(ge|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Oo(8,h,i)}var m=h.child;if(m!==null)m.return=h,Q=m;else for(;Q!==null;){h=Q;var g=h.sibling,v=h.return;if(Sx(h),h===c){Q=null;break}if(g!==null){g.return=v,Q=g;break}Q=v}}}var w=i.alternate;if(w!==null){var I=w.child;if(I!==null){w.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oo(9,i,i.return)}var A=i.sibling;if(A!==null){A.return=i.return,Q=A;break e}Q=i.return}}var x=t.current;for(Q=x;Q!==null;){o=Q;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Q=k;else e:for(o=x;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gc(9,a)}}catch(U){Fe(a,a.return,U)}if(a===o){Q=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Q=D;break e}Q=a.return}}if(ge=s,Wr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(lc,t)}catch{}r=!0}return r}finally{Ee=n,Zt.transition=e}}return!1}function ey(t,e,n){e=Si(n,e),e=hx(t,e,1),t=Ir(t,e,1),e=It(),t!==null&&(ba(t,1,e),Ut(t,e))}function Fe(t,e,n){if(t.tag===3)ey(t,t,n);else for(;e!==null;){if(e.tag===3){ey(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){t=Si(n,t),t=px(e,t,1),e=Ir(e,t,1),t=It(),e!==null&&(ba(e,1,t),Ut(e,t));break}}e=e.return}}function pk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(at&n)===n&&(Je===4||Je===3&&(at&130023424)===at&&500>Ge()-Lp?fs(t,0):Vp|=n),Ut(t,e)}function Dx(t,e){e===0&&(t.mode&1?(e=ml,ml<<=1,!(ml&130023424)&&(ml=4194304)):e=1);var n=It();t=$n(t,e),t!==null&&(ba(t,e,n),Ut(t,n))}function mk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dx(t,n)}function gk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Dx(t,n)}var Vx;Vx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,rk(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Pe&&e.flags&1048576&&OE(e,Eu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zl(t,e),t=e.pendingProps;var s=wi(e,Et.current);li(e,n),s=Np(null,e,r,t,s,n);var i=Rp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(i=!0,_u(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sp(e),s.updater=mc,e.stateNode=s,s._reactInternals=e,Gf(e,r,t,n),e=$f(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&yp(e),Ct(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=vk(r),t=sn(r,t),s){case 0:e=zf(null,e,r,t,n);break e;case 1:e=z0(null,e,r,t,n);break e;case 11:e=G0(null,e,r,t,n);break e;case 14:e=H0(null,e,r,sn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),zf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),z0(t,e,r,s,n);case 3:e:{if(vx(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$E(t,e),Su(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Si(Error(H(423)),e),e=$0(t,e,r,n,s);break e}else if(r!==s){s=Si(Error(H(424)),e),e=$0(t,e,r,n,s);break e}else for(Ht=Cr(e.stateNode.containerInfo.firstChild),$t=e,Pe=!0,an=null,n=HE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ei(),r===s){e=jn(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return jE(e),t===null&&Of(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Df(r,s)?o=null:i!==null&&Df(r,i)&&(e.flags|=32),yx(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&Of(e),null;case 13:return _x(t,e,n);case 4:return Cp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xi(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),G0(t,e,r,s,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ie(xu,r._currentValue),r._currentValue=o,i!==null)if(dn(i.value,o)){if(i.children===s.children&&!Vt.current){e=jn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),qf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ct(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,li(e,n),s=tn(s),r=r(s),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,s=sn(r,e.pendingProps),s=sn(r.type,s),H0(t,e,r,s,n);case 15:return mx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),zl(t,e),e.tag=1,Lt(r)?(t=!0,_u(e)):t=!1,li(e,n),fx(e,r,s),Gf(e,r,s,n),$f(null,e,r,!0,t,n);case 19:return wx(t,e,n);case 22:return gx(t,e,n)}throw Error(H(156,e.tag))};function Lx(t,e){return uE(t,e)}function yk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new yk(t,e,n,r)}function qp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vk(t){if(typeof t=="function")return qp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ip)return 11;if(t===op)return 14}return 2}function Nr(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")qp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $s:return hs(n.children,s,i,e);case sp:o=8,s|=8;break;case ff:return t=Xt(12,n,e,s|2),t.elementType=ff,t.lanes=i,t;case hf:return t=Xt(13,n,e,s),t.elementType=hf,t.lanes=i,t;case pf:return t=Xt(19,n,e,s),t.elementType=pf,t.lanes=i,t;case jw:return vc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zw:o=10;break e;case $w:o=9;break e;case ip:o=11;break e;case op:o=14;break e;case dr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Xt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function hs(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function vc(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=jw,t.lanes=n,t.stateNode={isHidden:!1},t}function zd(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function $d(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _k(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bp(t,e,n,r,s,i,o,a,l){return t=new _k(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sp(i),t}function wk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ux(t){if(!t)return Fr;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Lt(n))return UE(t,n,e)}return e}function Fx(t,e,n,r,s,i,o,a,l){return t=Bp(n,r,!0,t,s,i,o,a,l),t.context=Ux(null),n=t.current,r=It(),s=kr(n),i=Gn(r,s),i.callback=e??null,Ir(n,i,s),t.current.lanes=s,ba(t,s,r),Ut(t,r),t}function _c(t,e,n,r){var s=e.current,i=It(),o=kr(s);return n=Ux(n),e.context===null?e.context=n:e.pendingContext=n,e=Gn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ir(s,e,o),t!==null&&(cn(t,s,o,i),Bl(t,s,o)),o}function Pu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ty(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gp(t,e){ty(t,e),(t=t.alternate)&&ty(t,e)}function Ek(){return null}var Ox=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hp(t){this._internalRoot=t}wc.prototype.render=Hp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));_c(t,e,null,null)};wc.prototype.unmount=Hp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){_c(null,t,null,null)}),e[zn]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=gE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hr.length&&e!==0&&e<hr[n].priority;n++);hr.splice(n,0,t),n===0&&vE(t)}};function zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ny(){}function xk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Pu(o);i.call(c)}}var o=Fx(e,r,t,0,null,!1,!1,"",ny);return t._reactRootContainer=o,t[zn]=o.current,ia(t.nodeType===8?t.parentNode:t),ws(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Pu(l);a.call(c)}}var l=Bp(t,0,!1,null,null,!1,!1,"",ny);return t._reactRootContainer=l,t[zn]=l.current,ia(t.nodeType===8?t.parentNode:t),ws(function(){_c(e,l,n,r)}),l}function xc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Pu(o);a.call(l)}}_c(e,o,t,s)}else o=xk(n,e,t,s,r);return Pu(o)}pE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ao(e.pendingLanes);n!==0&&(up(e,n|1),Ut(e,Ge()),!(ge&6)&&(Ci=Ge()+500,Wr()))}break;case 13:ws(function(){var r=$n(t,1);if(r!==null){var s=It();cn(r,t,1,s)}}),Gp(t,1)}};cp=function(t){if(t.tag===13){var e=$n(t,134217728);if(e!==null){var n=It();cn(e,t,134217728,n)}Gp(t,134217728)}};mE=function(t){if(t.tag===13){var e=kr(t),n=$n(t,e);if(n!==null){var r=It();cn(n,t,e,r)}Gp(t,e)}};gE=function(){return Ee};yE=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};Sf=function(t,e,n){switch(e){case"input":if(yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fc(r);if(!s)throw Error(H(90));Kw(r),yf(r,s)}}}break;case"textarea":Yw(t,n);break;case"select":e=n.value,e!=null&&si(t,!!n.multiple,e,!1)}};rE=Up;sE=ws;var Tk={usingClientEntryPoint:!1,Events:[Ma,Js,fc,tE,nE,Up]},xo={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sk={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aE(t),t===null?null:t.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||Ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{lc=Il.inject(Sk),Sn=Il}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zp(e))throw Error(H(200));return wk(t,e,null,n)};Wt.createRoot=function(t,e){if(!zp(t))throw Error(H(299));var n=!1,r="",s=Ox;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Bp(t,1,!1,null,null,n,!1,r,s),t[zn]=e.current,ia(t.nodeType===8?t.parentNode:t),new Hp(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=aE(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return ws(t)};Wt.hydrate=function(t,e,n){if(!Ec(e))throw Error(H(200));return xc(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!zp(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ox;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fx(e,null,t,1,n??null,s,!1,i,o),t[zn]=e.current,ia(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wc(e)};Wt.render=function(t,e,n){if(!Ec(e))throw Error(H(200));return xc(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!Ec(t))throw Error(H(40));return t._reactRootContainer?(ws(function(){xc(null,null,t,!1,function(){t._reactRootContainer=null,t[zn]=null})}),!0):!1};Wt.unstable_batchedUpdates=Up;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ec(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return xc(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qx)}catch(t){console.error(t)}}qx(),qw.exports=Wt;var Ck=qw.exports,ry=Ck;cf.createRoot=ry.createRoot,cf.hydrateRoot=ry.hydrateRoot;var Bt=(t=>(t.IDLE="IDLE",t.LOADING="LOADING",t.SUCCESS="SUCCESS",t.ERROR="ERROR",t))(Bt||{});const Bx=["Hindi","Gujarati","Marathi","Punjabi","Bengali","Telugu","Tamil","Kannada","Malayalam","Oriya"],sy=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],Ik=["Australia","Austria","Azerbaijan","Bahrain","Belgium","Bulgaria","Canada","China","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hong Kong","Hungary","Iceland","Indonesia","Ireland","Israel","Italy","Japan","Kazakhstan","Kuwait","Latvia","Liechtenstein","Lithuania","Luxembourg","Macau","Malaysia","Maldives","Malta","Mexico","Monaco","Netherlands","New Zealand","Norway","Oman","Poland","Portugal","Qatar","Romania","Russia","Saudi Arabia","Schengen Area","Singapore","Slovakia","Slovenia","South Korea","Spain","Sweden","Switzerland","Taiwan","Thailand","Turkey","United Arab Emirates","United Kingdom","United States","Uzbekistan","Vatican City","Vietnam"];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ak,kk;function Nk(){return{geminiUrl:Ak,vertexUrl:kk}}function Rk(t,e,n,r){var s,i;if(!(t!=null&&t.baseUrl)){const o=Nk();return e?(s=o.vertexUrl)!==null&&s!==void 0?s:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class er{}function K(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function d(t,e,n){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const a=o.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let c=0;c<l.length;c++){const h=l[c];d(h,e.slice(i+1),n[c])}else for(const c of l)d(c,e.slice(i+1),n)}return}else if(o.endsWith("[0]")){const a=o.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];d(l[0],e.slice(i+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function u(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(a=>u(a,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function bk(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),o=new Set;let a=-1;for(let l=0;l<s.length;l++)if(s[l]==="*"){a=l;break}if(a!==-1&&i.length>a)for(let l=a;l<i.length;l++){const c=i[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}rh(t,s,i,0,o)}}function rh(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2),a=t;if(o in a&&Array.isArray(a[o]))for(const l of a[o])rh(l,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,a=Object.keys(o).filter(c=>!c.startsWith("_")&&!s.has(c)),l={};for(const c of a)l[c]=o[c];for(const[c,h]of Object.entries(l)){const m=[];for(const g of n.slice(r))g==="*"?m.push(c):m.push(g);d(o,m,h)}for(const c of a)delete o[c]}}else{const o=t;i in o&&rh(o[i],e,n,r+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $p(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pk(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["operationName"],n);const r=u(t,["resourceName"]);return r!=null&&d(e,["_url","resourceName"],r),e}function Mk(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response","generateVideoResponse"]);return o!=null&&d(e,["response"],Vk(o)),e}function Dk(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],Lk(o)),e}function Vk(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Uk(o))),d(e,["generatedVideos"],i)}const r=u(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function Lk(t){const e={},n=u(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Fk(o))),d(e,["generatedVideos"],i)}const r=u(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function Uk(t){const e={},n=u(t,["video"]);return n!=null&&d(e,["video"],zk(n)),e}function Fk(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],$k(n)),e}function Ok(t){const e={},n=u(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function qk(t){const e={},n=u(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function Bk(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],Gk(o)),e}function Gk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["parent"]);r!=null&&d(e,["parent"],r);const s=u(t,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function Gx(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],Hk(o)),e}function Hk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["parent"]);r!=null&&d(e,["parent"],r);const s=u(t,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function zk(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["uri"],n);const r=u(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],$p(r));const s=u(t,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function $k(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=u(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],$p(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var iy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(iy||(iy={}));var oy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(oy||(oy={}));var ay;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ay||(ay={}));var mt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mt||(mt={}));var ly;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ly||(ly={}));var uy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(uy||(uy={}));var cy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(cy||(cy={}));var dy;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dy||(dy={}));var fy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(fy||(fy={}));var hy;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(hy||(hy={}));var py;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(py||(py={}));var my;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(my||(my={}));var gy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(gy||(gy={}));var yy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(yy||(yy={}));var vy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(vy||(vy={}));var _y;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_y||(_y={}));var wy;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wy||(wy={}));var Ey;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Ey||(Ey={}));var xy;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xy||(xy={}));var Mu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Mu||(Mu={}));var Ty;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ty||(Ty={}));var Sy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Sy||(Sy={}));var Cy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cy||(Cy={}));var sh;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sh||(sh={}));var Iy;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Iy||(Iy={}));var Ay;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ay||(Ay={}));var ky;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ky||(ky={}));var Ny;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ny||(Ny={}));var Ry;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ry||(Ry={}));var by;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(by||(by={}));var Py;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Py||(Py={}));var My;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(My||(My={}));var Dy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Dy||(Dy={}));var Vy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Vy||(Vy={}));var Ly;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ly||(Ly={}));var Uy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Uy||(Uy={}));var Fy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Fy||(Fy={}));var Oy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Oy||(Oy={}));var qy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(qy||(qy={}));var By;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(By||(By={}));var Gy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Gy||(Gy={}));var Hy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Hy||(Hy={}));var zy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(zy||(zy={}));var $y;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})($y||($y={}));var jy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(jy||(jy={}));var Wy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Wy||(Wy={}));var Ky;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ky||(Ky={}));var Jy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Jy||(Jy={}));var Yy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Yy||(Yy={}));var Qy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Qy||(Qy={}));var Xy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Xy||(Xy={}));var Zy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Zy||(Zy={}));var ev;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ev||(ev={}));var tv;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(tv||(tv={}));var ni;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ni||(ni={}));class ih{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class To{get text(){var e,n,r,s,i,o,a,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",h=!1;const m=[];for(const g of(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[v,w]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(w!==null||w!==void 0)&&m.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,c+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?c:void 0}get data(){var e,n,r,s,i,o,a,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const h=[];for(const m of(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(m))g!=="inlineData"&&(v!==null||v!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,s,i,o,a,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,s,i,o,a,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,s,i,o,a,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.output}}class nv{}class rv{}class jk{}class Wk{}class Kk{}class Jk{}class sv{}class iv{}class ov{}class Yk{}class Du{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Du;let s;const i=e;return n?s=Dk(i):s=Mk(i),Object.assign(r,s),r}}class av{}class lv{}class uv{}class Qk{}class Xk{}class Zk{}class jp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new jp,i=Bk(e);return Object.assign(r,i),r}}class eN{}class tN{}class nN{}class cv{}class rN{get text(){var e,n,r;let s="",i=!1;const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,s+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&i.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(s+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class sN{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Wp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Wp,i=Gx(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Hx(t,e){const n=ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function zx(t){return Array.isArray(t)?t.map(e=>Vu(e)):[Vu(t)]}function Vu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function $x(t){const e=Vu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jx(t){const e=Vu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dv(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Wx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>dv(e)):[dv(t)]}function oh(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function fv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function hv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function wt(t){if(t==null)throw new Error("ContentUnion is required");return oh(t)?t:{role:"user",parts:Wx(t)}}function Kp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=wt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=wt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>wt(n)):[wt(e)]}function en(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(fv(t)||hv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wt(t)]}const e=[],n=[],r=oh(t[0]);for(const s of t){const i=oh(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(fv(s)||hv(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:Wx(n)}),e}function iN(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(mt).includes(n[0].toUpperCase())?n[0].toUpperCase():mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(mt).includes(r.toUpperCase())?r.toUpperCase():mt.TYPE_UNSPECIFIED})}}function ci(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&iN(t.type,e);for(const[o,a]of Object.entries(t))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(mt).includes(a.toUpperCase())?a.toUpperCase():mt.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=ci(a);else if(r.includes(o)){const l=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}l.push(ci(c))}e[o]=l}else if(s.includes(o)){const l={};for(const[c,h]of Object.entries(a))l[c]=ci(h);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=a}return e}function Jp(t){return ci(t)}function Yp(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Qp(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Oi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ci(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ci(e.response));return t}function qi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function oN(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function tr(t,e){if(typeof e!="string")throw new Error("name must be a string");return oN(t,e,"cachedContents")}function Kx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Kr(t){return $p(t)}function aN(t){return t!=null&&typeof t=="object"&&"name"in t}function lN(t){return t!=null&&typeof t=="object"&&"video"in t}function uN(t){return t!=null&&typeof t=="object"&&"uri"in t}function Jx(t){var e;let n;if(aN(t)&&(n=t.name),!(uN(t)&&(n=t.uri,n===void 0))&&!(lN(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Yx(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Qx(t){for(const e of["models","tunedModels","publisherModels"])if(cN(t,e))return t[e];return[]}function cN(t,e){return t!==null&&typeof t=="object"&&e in t}function dN(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function fN(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=dN(s,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Xx(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function hN(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Zx(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const o of s){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Bi(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function eT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pN(t){const e={},n=u(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const r=u(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>KN(o))),d(e,["inlinedResponses"],i)}const s=u(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["inlinedEmbedContentResponses"],i)}return e}function mN(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const r=u(t,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const s=u(t,["bigqueryDestination","outputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function gN(t){const e={},n=u(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const r=u(t,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const s=u(t,["bigqueryUri"]);if(s!=null&&d(e,["bigqueryDestination","outputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Kl(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const s=u(t,["metadata","state"]);s!=null&&d(e,["state"],eT(s));const i=u(t,["metadata","createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["metadata","endTime"]);o!=null&&d(e,["endTime"],o);const a=u(t,["metadata","updateTime"]);a!=null&&d(e,["updateTime"],a);const l=u(t,["metadata","model"]);l!=null&&d(e,["model"],l);const c=u(t,["metadata","output"]);return c!=null&&d(e,["dest"],pN(Zx(c))),e}function ah(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["displayName"]);r!=null&&d(e,["displayName"],r);const s=u(t,["state"]);s!=null&&d(e,["state"],eT(s));const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["startTime"]);a!=null&&d(e,["startTime"],a);const l=u(t,["endTime"]);l!=null&&d(e,["endTime"],l);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["model"]);h!=null&&d(e,["model"],h);const m=u(t,["inputConfig"]);m!=null&&d(e,["src"],yN(m));const g=u(t,["outputConfig"]);g!=null&&d(e,["dest"],mN(Zx(g)));const v=u(t,["completionStats"]);return v!=null&&d(e,["completionStats"],v),e}function yN(t){const e={},n=u(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const r=u(t,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const s=u(t,["bigquerySource","inputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function vN(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=u(e,["fileName"]);r!=null&&d(n,["fileName"],r);const s=u(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>WN(t,o))),d(n,["requests","requests"],i)}return n}function _N(t){const e={},n=u(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const r=u(t,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const s=u(t,["bigqueryUri"]);if(s!=null&&d(e,["bigquerySource","inputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function wN(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function EN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Bi(t,r)),n}function xN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Bi(t,r)),n}function TN(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],n);const r=u(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],SN(r));const s=u(t,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const i=u(t,["finishReason"]);i!=null&&d(e,["finishReason"],i);const o=u(t,["avgLogprobs"]);o!=null&&d(e,["avgLogprobs"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const l=u(t,["index"]);l!=null&&d(e,["index"],l);const c=u(t,["logprobsResult"]);c!=null&&d(e,["logprobsResult"],c);const h=u(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),d(e,["safetyRatings"],g)}const m=u(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function SN(t){const e={},n=u(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),d(e,["citations"],r)}return e}function tT(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>tR(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function CN(t,e){const n={},r=u(t,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function IN(t,e){const n={},r=u(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const s=u(t,["dest"]);return e!==void 0&&s!=null&&d(e,["outputConfig"],gN(hN(s))),n}function pv(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["src"]);s!=null&&d(n,["batch","inputConfig"],vN(t,Xx(t,s)));const i=u(e,["config"]);return i!=null&&CN(i,n),n}function AN(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["model"],ve(t,r));const s=u(e,["src"]);s!=null&&d(n,["inputConfig"],_N(Xx(t,s)));const i=u(e,["config"]);return i!=null&&IN(i,n),n}function kN(t,e){const n={},r=u(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["batch","displayName"],r),n}function NN(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["src"]);s!=null&&d(n,["batch","inputConfig"],LN(t,s));const i=u(e,["config"]);return i!=null&&kN(i,n),n}function RN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Bi(t,r)),n}function bN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Bi(t,r)),n}function PN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);return i!=null&&d(e,["error"],i),e}function MN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);return i!=null&&d(e,["error"],i),e}function DN(t,e){const n={},r=u(e,["contents"]);if(r!=null){let i=Kp(t,r);Array.isArray(i)&&(i=i.map(o=>o)),d(n,["requests[]","request","content"],i)}const s=u(e,["config"]);return s!=null&&(d(n,["_self"],VN(s,n)),bk(n,{"requests[].*":"requests[].request.*"})),n}function VN(t,e){const n={},r=u(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const s=u(t,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const i=u(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&d(e,["requests[]","outputDimensionality"],i),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function LN(t,e){const n={},r=u(e,["fileName"]);r!=null&&d(n,["file_name"],r);const s=u(e,["inlinedRequests"]);return s!=null&&d(n,["requests"],DN(t,s)),n}function UN(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function FN(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ON(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const r=u(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),u(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qN(t,e,n){const r={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],tT(wt(s)));const i=u(e,["temperature"]);i!=null&&d(r,["temperature"],i);const o=u(e,["topP"]);o!=null&&d(r,["topP"],o);const a=u(e,["topK"]);a!=null&&d(r,["topK"],a);const l=u(e,["candidateCount"]);l!=null&&d(r,["candidateCount"],l);const c=u(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const h=u(e,["stopSequences"]);h!=null&&d(r,["stopSequences"],h);const m=u(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const g=u(e,["logprobs"]);g!=null&&d(r,["logprobs"],g);const v=u(e,["presencePenalty"]);v!=null&&d(r,["presencePenalty"],v);const w=u(e,["frequencyPenalty"]);w!=null&&d(r,["frequencyPenalty"],w);const I=u(e,["seed"]);I!=null&&d(r,["seed"],I);const P=u(e,["responseMimeType"]);P!=null&&d(r,["responseMimeType"],P);const A=u(e,["responseSchema"]);A!=null&&d(r,["responseSchema"],Jp(A));const x=u(e,["responseJsonSchema"]);if(x!=null&&d(r,["responseJsonSchema"],x),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(e,["safetySettings"]);if(n!==void 0&&k!=null){let M=k;Array.isArray(M)&&(M=M.map(R=>nR(R))),d(n,["safetySettings"],M)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let M=qi(D);Array.isArray(M)&&(M=M.map(R=>sR(Oi(R)))),d(n,["tools"],M)}const U=u(e,["toolConfig"]);if(n!==void 0&&U!=null&&d(n,["toolConfig"],rR(U)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&d(n,["cachedContent"],tr(t,V));const T=u(e,["responseModalities"]);T!=null&&d(r,["responseModalities"],T);const E=u(e,["mediaResolution"]);E!=null&&d(r,["mediaResolution"],E);const S=u(e,["speechConfig"]);if(S!=null&&d(r,["speechConfig"],Yp(S)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=u(e,["thinkingConfig"]);b!=null&&d(r,["thinkingConfig"],b);const N=u(e,["imageConfig"]);return N!=null&&d(r,["imageConfig"],jN(N)),r}function BN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>TN(c))),d(e,["candidates"],l)}const s=u(t,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const i=u(t,["promptFeedback"]);i!=null&&d(e,["promptFeedback"],i);const o=u(t,["responseId"]);o!=null&&d(e,["responseId"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function GN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Bi(t,r)),n}function HN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Bi(t,r)),n}function zN(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function $N(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function jN(t){const e={},n=u(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=u(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),u(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function WN(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["request","model"],ve(t,r));const s=u(e,["contents"]);if(s!=null){let a=en(s);Array.isArray(a)&&(a=a.map(l=>tT(l))),d(n,["request","contents"],a)}const i=u(e,["metadata"]);i!=null&&d(n,["metadata"],i);const o=u(e,["config"]);return o!=null&&d(n,["request","generationConfig"],qN(t,o,u(n,["request"],{}))),n}function KN(t){const e={},n=u(t,["response"]);n!=null&&d(e,["response"],BN(n));const r=u(t,["error"]);return r!=null&&d(e,["error"],r),e}function JN(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);if(e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function YN(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&d(e,["_query","pageToken"],s);const i=u(t,["filter"]);return e!==void 0&&i!=null&&d(e,["_query","filter"],i),n}function QN(t){const e={},n=u(t,["config"]);return n!=null&&JN(n,e),e}function XN(t){const e={},n=u(t,["config"]);return n!=null&&YN(n,e),e}function ZN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>Kl(o))),d(e,["batchJobs"],i)}return e}function eR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>ah(o))),d(e,["batchJobs"],i)}return e}function tR(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],UN(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],FN(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],wN(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function nR(t){const e={},n=u(t,["category"]);if(n!=null&&d(e,["category"],n),u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function rR(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],ON(n));const r=u(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function sR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],zN(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],$N(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Wn||(Wn={}));class Ns{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(s=o.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iR extends er{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Ns(Wn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=pv(this.apiClient,e),r=n._url,s=K("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,c=[];for(const h of l){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const v=m.request;v.systemInstruction=g,m.request=v}c.push(m)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),o=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(o)r.dest=`${o}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=AN(this.apiClient,e);return a=K("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>ah(h))}else{const c=pv(this.apiClient,e);return a=K("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Kl(h))}}async createEmbeddingsInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=NN(this.apiClient,e);return i=K("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>Kl(l))}}async get(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=HN(this.apiClient,e);return a=K("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>ah(h))}else{const c=GN(this.apiClient,e);return a=K("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Kl(h))}}async cancel(e){var n,r,s,i;let o="",a={};if(this.apiClient.isVertexAI()){const l=xN(this.apiClient,e);o=K("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=EN(this.apiClient,e);o=K("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=XN(e);return a=K("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=eR(h),g=new cv;return Object.assign(g,m),g})}else{const c=QN(e);return a=K("batches",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=ZN(h),g=new cv;return Object.assign(g,m),g})}}async delete(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=bN(this.apiClient,e);return a=K("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>MN(h))}else{const c=RN(this.apiClient,e);return a=K("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>PN(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oR(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function mv(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>NR(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function aR(t,e){const n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["contents"]);if(e!==void 0&&o!=null){let h=en(o);Array.isArray(h)&&(h=h.map(m=>mv(m))),d(e,["contents"],h)}const a=u(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],mv(wt(a)));const l=u(t,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(m=>bR(m))),d(e,["tools"],h)}const c=u(t,["toolConfig"]);if(e!==void 0&&c!=null&&d(e,["toolConfig"],RR(c)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lR(t,e){const n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["contents"]);if(e!==void 0&&o!=null){let m=en(o);Array.isArray(m)&&(m=m.map(g=>g)),d(e,["contents"],m)}const a=u(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],wt(a));const l=u(t,["tools"]);if(e!==void 0&&l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>PR(g))),d(e,["tools"],m)}const c=u(t,["toolConfig"]);e!==void 0&&c!=null&&d(e,["toolConfig"],c);const h=u(t,["kmsKeyName"]);return e!==void 0&&h!=null&&d(e,["encryption_spec","kmsKeyName"],h),n}function uR(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["model"],Hx(t,r));const s=u(e,["config"]);return s!=null&&aR(s,n),n}function cR(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["model"],Hx(t,r));const s=u(e,["config"]);return s!=null&&lR(s,n),n}function dR(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],tr(t,r)),n}function fR(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],tr(t,r)),n}function hR(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function pR(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function mR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function gR(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const r=u(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),u(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vR(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["parameters"]);s!=null&&d(e,["parameters"],s);const i=u(t,["parametersJsonSchema"]);i!=null&&d(e,["parametersJsonSchema"],i);const o=u(t,["response"]);o!=null&&d(e,["response"],o);const a=u(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function _R(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],tr(t,r)),n}function wR(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],tr(t,r)),n}function ER(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function xR(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function TR(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function SR(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function CR(t){const e={},n=u(t,["config"]);return n!=null&&TR(n,e),e}function IR(t){const e={},n=u(t,["config"]);return n!=null&&SR(n,e),e}function AR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["cachedContents"],i)}return e}function kR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["cachedContents"],i)}return e}function NR(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],mR(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],gR(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],oR(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function RR(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],yR(n));const r=u(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function bR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],ER(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],xR(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function PR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>vR(g))),d(e,["functionDeclarations"],m)}const r=u(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const s=u(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const i=u(t,["computerUse"]);if(i!=null&&d(e,["computerUse"],i),u(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=u(t,["codeExecution"]);o!=null&&d(e,["codeExecution"],o);const a=u(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const l=u(t,["googleMaps"]);l!=null&&d(e,["googleMaps"],l);const c=u(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const h=u(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function MR(t,e){const n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),n}function DR(t,e){const n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),n}function VR(t,e){const n={},r=u(e,["name"]);r!=null&&d(n,["_url","name"],tr(t,r));const s=u(e,["config"]);return s!=null&&MR(s,n),n}function LR(t,e){const n={},r=u(e,["name"]);r!=null&&d(n,["_url","name"],tr(t,r));const s=u(e,["config"]);return s!=null&&DR(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UR extends er{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ns(Wn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=cR(this.apiClient,e);return a=K("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const c=uR(this.apiClient,e);return a=K("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=wR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const c=_R(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=fR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=pR(h),g=new lv;return Object.assign(g,m),g})}else{const c=dR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=hR(h),g=new lv;return Object.assign(g,m),g})}}async update(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=LR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const c=VR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async listInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=IR(e);return a=K("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=kR(h),g=new uv;return Object.assign(g,m),g})}else{const c=CR(e);return a=K("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=AR(h),g=new uv;return Object.assign(g,m),g})}}}function gv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(t){return this instanceof Ne?(this.v=t,this):new Ne(t)}function di(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(w){return Promise.resolve(w).then(v,m)}}function a(v,w){r[v]&&(s[v]=function(I){return new Promise(function(P,A){i.push([v,I,P,A])>1||l(v,I)})},w&&(s[v]=w(s[v])))}function l(v,w){try{c(r[v](w))}catch(I){g(i[0][3],I)}}function c(v){v.value instanceof Ne?Promise.resolve(v.value.v).then(h,m):g(i[0][2],v)}function h(v){l("next",v)}function m(v){l("throw",v)}function g(v,w){v(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Go(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gv=="function"?gv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FR(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:nT(n)}function nT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function OR(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function yv(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!nT(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class qR{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new BR(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class BR{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),OR(i)}async sendMessage(e){var n;await this.sendPromise;const r=wt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,a;const l=await s,c=(o=(i=l.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,h=l.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(a=h.slice(m))!==null&&a!==void 0?a:[]);const v=c?[c]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=wt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?yv(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,s;return di(this,arguments,function*(){var o,a,l,c;const h=[];try{for(var m=!0,g=Go(e),v;v=yield Ne(g.next()),o=v.done,!o;m=!0){c=v.value,m=!1;const w=c;if(FR(w)){const I=(s=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;I!==void 0&&h.push(I)}yield yield Ne(w)}}catch(w){a={error:w}}finally{try{!m&&!o&&(l=g.return)&&(yield Ne(l.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...yv(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tc extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Tc.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GR(t){const e={},n=u(t,["file"]);return n!=null&&d(e,["file"],n),e}function HR(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function zR(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","file"],Jx(n)),e}function $R(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function jR(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","file"],Jx(n)),e}function WR(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function KR(t){const e={},n=u(t,["config"]);return n!=null&&WR(n,e),e}function JR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YR extends er{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ns(Wn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=KR(e);return i=K("files",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=JR(l),h=new eN;return Object.assign(h,c),h})}}async createInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=GR(e);return i=K("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=HR(l),h=new tN;return Object.assign(h,c),h})}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jR(e);return i=K("files/{file}",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async delete(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zR(e);return i=K("files/{file}",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=$R(l),h=new nN;return Object.assign(h,c),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jl(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function QR(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>hb(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function XR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function ZR(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eb(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["parameters"]);s!=null&&d(e,["parameters"],s);const i=u(t,["parametersJsonSchema"]);i!=null&&d(e,["parametersJsonSchema"],i);const o=u(t,["response"]);o!=null&&d(e,["response"],o);const a=u(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function tb(t){const e={},n=u(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=u(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const s=u(t,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const i=u(t,["candidateCount"]);i!=null&&d(e,["candidateCount"],i);const o=u(t,["enableAffectiveDialog"]);o!=null&&d(e,["enableAffectiveDialog"],o);const a=u(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const l=u(t,["logprobs"]);l!=null&&d(e,["logprobs"],l);const c=u(t,["maxOutputTokens"]);c!=null&&d(e,["maxOutputTokens"],c);const h=u(t,["mediaResolution"]);h!=null&&d(e,["mediaResolution"],h);const m=u(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const g=u(t,["responseLogprobs"]);g!=null&&d(e,["responseLogprobs"],g);const v=u(t,["responseMimeType"]);v!=null&&d(e,["responseMimeType"],v);const w=u(t,["responseModalities"]);w!=null&&d(e,["responseModalities"],w);const I=u(t,["responseSchema"]);I!=null&&d(e,["responseSchema"],I);const P=u(t,["routingConfig"]);P!=null&&d(e,["routingConfig"],P);const A=u(t,["seed"]);A!=null&&d(e,["seed"],A);const x=u(t,["speechConfig"]);x!=null&&d(e,["speechConfig"],rT(x));const k=u(t,["stopSequences"]);k!=null&&d(e,["stopSequences"],k);const D=u(t,["temperature"]);D!=null&&d(e,["temperature"],D);const U=u(t,["thinkingConfig"]);U!=null&&d(e,["thinkingConfig"],U);const V=u(t,["topK"]);V!=null&&d(e,["topK"],V);const T=u(t,["topP"]);if(T!=null&&d(e,["topP"],T),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nb(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function rb(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function sb(t,e){const n={},r=u(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const i=u(t,["temperature"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","temperature"],i);const o=u(t,["topP"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","topP"],o);const a=u(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const l=u(t,["maxOutputTokens"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","maxOutputTokens"],l);const c=u(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","seed"],h);const m=u(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Qp(m));const g=u(t,["thinkingConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","thinkingConfig"],g);const v=u(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],QR(wt(w)));const I=u(t,["tools"]);if(e!==void 0&&I!=null){let V=qi(I);Array.isArray(V)&&(V=V.map(T=>mb(Oi(T)))),d(e,["setup","tools"],V)}const P=u(t,["sessionResumption"]);e!==void 0&&P!=null&&d(e,["setup","sessionResumption"],pb(P));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],A);const x=u(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&d(e,["setup","outputAudioTranscription"],x);const k=u(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&d(e,["setup","realtimeInputConfig"],k);const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],D);const U=u(t,["proactivity"]);return e!==void 0&&U!=null&&d(e,["setup","proactivity"],U),n}function ib(t,e){const n={},r=u(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],tb(r));const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const i=u(t,["temperature"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","temperature"],i);const o=u(t,["topP"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","topP"],o);const a=u(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const l=u(t,["maxOutputTokens"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","maxOutputTokens"],l);const c=u(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","seed"],h);const m=u(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],rT(Qp(m)));const g=u(t,["thinkingConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","thinkingConfig"],g);const v=u(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],wt(w));const I=u(t,["tools"]);if(e!==void 0&&I!=null){let V=qi(I);Array.isArray(V)&&(V=V.map(T=>gb(Oi(T)))),d(e,["setup","tools"],V)}const P=u(t,["sessionResumption"]);e!==void 0&&P!=null&&d(e,["setup","sessionResumption"],P);const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],A);const x=u(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&d(e,["setup","outputAudioTranscription"],x);const k=u(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&d(e,["setup","realtimeInputConfig"],k);const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],D);const U=u(t,["proactivity"]);return e!==void 0&&U!=null&&d(e,["setup","proactivity"],U),n}function ob(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["setup","model"],ve(t,r));const s=u(e,["config"]);return s!=null&&d(n,["config"],sb(s,n)),n}function ab(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["setup","model"],ve(t,r));const s=u(e,["config"]);return s!=null&&d(n,["config"],ib(s,n)),n}function lb(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],n),e}function ub(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),d(e,["weightedPrompts"],r)}return e}function cb(t){const e={},n=u(t,["media"]);if(n!=null){let c=zx(n);Array.isArray(c)&&(c=c.map(h=>Jl(h))),d(e,["mediaChunks"],c)}const r=u(t,["audio"]);r!=null&&d(e,["audio"],Jl(jx(r)));const s=u(t,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const i=u(t,["video"]);i!=null&&d(e,["video"],Jl($x(i)));const o=u(t,["text"]);o!=null&&d(e,["text"],o);const a=u(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const l=u(t,["activityEnd"]);return l!=null&&d(e,["activityEnd"],l),e}function db(t){const e={},n=u(t,["media"]);if(n!=null){let c=zx(n);Array.isArray(c)&&(c=c.map(h=>h)),d(e,["mediaChunks"],c)}const r=u(t,["audio"]);r!=null&&d(e,["audio"],jx(r));const s=u(t,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const i=u(t,["video"]);i!=null&&d(e,["video"],$x(i));const o=u(t,["text"]);o!=null&&d(e,["text"],o);const a=u(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const l=u(t,["activityEnd"]);return l!=null&&d(e,["activityEnd"],l),e}function fb(t){const e={},n=u(t,["setupComplete"]);n!=null&&d(e,["setupComplete"],n);const r=u(t,["serverContent"]);r!=null&&d(e,["serverContent"],r);const s=u(t,["toolCall"]);s!=null&&d(e,["toolCall"],s);const i=u(t,["toolCallCancellation"]);i!=null&&d(e,["toolCallCancellation"],i);const o=u(t,["usageMetadata"]);o!=null&&d(e,["usageMetadata"],yb(o));const a=u(t,["goAway"]);a!=null&&d(e,["goAway"],a);const l=u(t,["sessionResumptionUpdate"]);return l!=null&&d(e,["sessionResumptionUpdate"],l),e}function hb(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],XR(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],ZR(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],Jl(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function pb(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rT(t){const e={},n=u(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=u(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function mb(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],nb(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],rb(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function gb(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>eb(g))),d(e,["functionDeclarations"],m)}const r=u(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const s=u(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const i=u(t,["computerUse"]);if(i!=null&&d(e,["computerUse"],i),u(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=u(t,["codeExecution"]);o!=null&&d(e,["codeExecution"],o);const a=u(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const l=u(t,["googleMaps"]);l!=null&&d(e,["googleMaps"],l);const c=u(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const h=u(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function yb(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=u(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const s=u(t,["candidatesTokenCount"]);s!=null&&d(e,["responseTokenCount"],s);const i=u(t,["toolUsePromptTokenCount"]);i!=null&&d(e,["toolUsePromptTokenCount"],i);const o=u(t,["thoughtsTokenCount"]);o!=null&&d(e,["thoughtsTokenCount"],o);const a=u(t,["totalTokenCount"]);a!=null&&d(e,["totalTokenCount"],a);const l=u(t,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(w=>w)),d(e,["promptTokensDetails"],v)}const c=u(t,["cacheTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(w=>w)),d(e,["cacheTokensDetails"],v)}const h=u(t,["candidatesTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),d(e,["responseTokensDetails"],v)}const m=u(t,["toolUsePromptTokensDetails"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(w=>w)),d(e,["toolUsePromptTokensDetails"],v)}const g=u(t,["trafficType"]);return g!=null&&d(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vb(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function _b(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],n);const r=u(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],wb(r));const s=u(t,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const i=u(t,["finishReason"]);i!=null&&d(e,["finishReason"],i);const o=u(t,["avgLogprobs"]);o!=null&&d(e,["avgLogprobs"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const l=u(t,["index"]);l!=null&&d(e,["index"],l);const c=u(t,["logprobsResult"]);c!=null&&d(e,["logprobsResult"],c);const h=u(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),d(e,["safetyRatings"],g)}const m=u(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function wb(t){const e={},n=u(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),d(e,["citations"],r)}return e}function Eb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["contents"]);if(s!=null){let i=en(s);Array.isArray(i)&&(i=i.map(o=>o)),d(n,["contents"],i)}return n}function xb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),d(e,["tokensInfo"],s)}return e}function Tb(t){const e={},n=u(t,["values"]);n!=null&&d(e,["values"],n);const r=u(t,["statistics"]);return r!=null&&d(e,["statistics"],Sb(r)),e}function Sb(t){const e={},n=u(t,["truncated"]);n!=null&&d(e,["truncated"],n);const r=u(t,["token_count"]);return r!=null&&d(e,["tokenCount"],r),e}function Sc(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>MP(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function Cb(t){const e={},n=u(t,["controlType"]);n!=null&&d(e,["controlType"],n);const r=u(t,["enableControlImageComputation"]);return r!=null&&d(e,["computeControl"],r),e}function Ib(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ab(t,e){const n={},r=u(t,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],wt(r));const s=u(t,["tools"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>lT(a))),d(e,["tools"],o)}const i=u(t,["generationConfig"]);return e!==void 0&&i!=null&&d(e,["generationConfig"],vP(i)),n}function kb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["contents"]);if(s!=null){let o=en(s);Array.isArray(o)&&(o=o.map(a=>Sc(a))),d(n,["contents"],o)}const i=u(e,["config"]);return i!=null&&Ib(i),n}function Nb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["contents"]);if(s!=null){let o=en(s);Array.isArray(o)&&(o=o.map(a=>a)),d(n,["contents"],o)}const i=u(e,["config"]);return i!=null&&Ab(i,n),n}function Rb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["totalTokens"]);r!=null&&d(e,["totalTokens"],r);const s=u(t,["cachedContentTokenCount"]);return s!=null&&d(e,["cachedContentTokenCount"],s),e}function bb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["totalTokens"]);return r!=null&&d(e,["totalTokens"],r),e}function Pb(t,e){const n={},r=u(e,["model"]);return r!=null&&d(n,["_url","name"],ve(t,r)),n}function Mb(t,e){const n={},r=u(e,["model"]);return r!=null&&d(n,["_url","name"],ve(t,r)),n}function Db(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Vb(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Lb(t,e){const n={},r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const a=u(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const l=u(t,["seed"]);e!==void 0&&l!=null&&d(e,["parameters","seed"],l);const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const m=u(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const g=u(t,["includeRaiReason"]);e!==void 0&&g!=null&&d(e,["parameters","includeRaiReason"],g);const v=u(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","mimeType"],w);const I=u(t,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const P=u(t,["addWatermark"]);e!==void 0&&P!=null&&d(e,["parameters","addWatermark"],P);const A=u(t,["labels"]);e!==void 0&&A!=null&&d(e,["labels"],A);const x=u(t,["editMode"]);e!==void 0&&x!=null&&d(e,["parameters","editMode"],x);const k=u(t,["baseSteps"]);return e!==void 0&&k!=null&&d(e,["parameters","editConfig","baseSteps"],k),n}function Ub(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>OP(l))),d(n,["instances[0]","referenceImages"],a)}const o=u(e,["config"]);return o!=null&&Lb(o,n),n}function Fb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Cc(i))),d(e,["generatedImages"],s)}return e}function Ob(t,e){const n={},r=u(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const s=u(t,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const i=u(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&d(e,["requests[]","outputDimensionality"],i),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qb(t,e){const n={},r=u(t,["taskType"]);e!==void 0&&r!=null&&d(e,["instances[]","task_type"],r);const s=u(t,["title"]);e!==void 0&&s!=null&&d(e,["instances[]","title"],s);const i=u(t,["outputDimensionality"]);e!==void 0&&i!=null&&d(e,["parameters","outputDimensionality"],i);const o=u(t,["mimeType"]);e!==void 0&&o!=null&&d(e,["instances[]","mimeType"],o);const a=u(t,["autoTruncate"]);return e!==void 0&&a!=null&&d(e,["parameters","autoTruncate"],a),n}function Bb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["contents"]);if(s!=null){let a=Kp(t,s);Array.isArray(a)&&(a=a.map(l=>l)),d(n,["requests[]","content"],a)}const i=u(e,["config"]);i!=null&&Ob(i,n);const o=u(e,["model"]);return o!==void 0&&d(n,["requests[]","model"],ve(t,o)),n}function Gb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["contents"]);if(s!=null){let o=Kp(t,s);Array.isArray(o)&&(o=o.map(a=>a)),d(n,["instances[]","content"],o)}const i=u(e,["config"]);return i!=null&&qb(i,n),n}function Hb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["embeddings"],i)}const s=u(t,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function zb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Tb(o))),d(e,["embeddings"],i)}const s=u(t,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function $b(t){const e={},n=u(t,["endpoint"]);n!=null&&d(e,["name"],n);const r=u(t,["deployedModelId"]);return r!=null&&d(e,["deployedModelId"],r),e}function jb(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Wb(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kb(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const r=u(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),u(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Jb(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["parameters"]);s!=null&&d(e,["parameters"],s);const i=u(t,["parametersJsonSchema"]);i!=null&&d(e,["parametersJsonSchema"],i);const o=u(t,["response"]);o!=null&&d(e,["response"],o);const a=u(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function Yb(t,e,n){const r={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],Sc(wt(s)));const i=u(e,["temperature"]);i!=null&&d(r,["temperature"],i);const o=u(e,["topP"]);o!=null&&d(r,["topP"],o);const a=u(e,["topK"]);a!=null&&d(r,["topK"],a);const l=u(e,["candidateCount"]);l!=null&&d(r,["candidateCount"],l);const c=u(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const h=u(e,["stopSequences"]);h!=null&&d(r,["stopSequences"],h);const m=u(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const g=u(e,["logprobs"]);g!=null&&d(r,["logprobs"],g);const v=u(e,["presencePenalty"]);v!=null&&d(r,["presencePenalty"],v);const w=u(e,["frequencyPenalty"]);w!=null&&d(r,["frequencyPenalty"],w);const I=u(e,["seed"]);I!=null&&d(r,["seed"],I);const P=u(e,["responseMimeType"]);P!=null&&d(r,["responseMimeType"],P);const A=u(e,["responseSchema"]);A!=null&&d(r,["responseSchema"],Jp(A));const x=u(e,["responseJsonSchema"]);if(x!=null&&d(r,["responseJsonSchema"],x),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(e,["safetySettings"]);if(n!==void 0&&k!=null){let M=k;Array.isArray(M)&&(M=M.map(R=>qP(R))),d(n,["safetySettings"],M)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let M=qi(D);Array.isArray(M)&&(M=M.map(R=>WP(Oi(R)))),d(n,["tools"],M)}const U=u(e,["toolConfig"]);if(n!==void 0&&U!=null&&d(n,["toolConfig"],jP(U)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&d(n,["cachedContent"],tr(t,V));const T=u(e,["responseModalities"]);T!=null&&d(r,["responseModalities"],T);const E=u(e,["mediaResolution"]);E!=null&&d(r,["mediaResolution"],E);const S=u(e,["speechConfig"]);if(S!=null&&d(r,["speechConfig"],Yp(S)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=u(e,["thinkingConfig"]);b!=null&&d(r,["thinkingConfig"],b);const N=u(e,["imageConfig"]);return N!=null&&d(r,["imageConfig"],TP(N)),r}function Qb(t,e,n){const r={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],wt(s));const i=u(e,["temperature"]);i!=null&&d(r,["temperature"],i);const o=u(e,["topP"]);o!=null&&d(r,["topP"],o);const a=u(e,["topK"]);a!=null&&d(r,["topK"],a);const l=u(e,["candidateCount"]);l!=null&&d(r,["candidateCount"],l);const c=u(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const h=u(e,["stopSequences"]);h!=null&&d(r,["stopSequences"],h);const m=u(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const g=u(e,["logprobs"]);g!=null&&d(r,["logprobs"],g);const v=u(e,["presencePenalty"]);v!=null&&d(r,["presencePenalty"],v);const w=u(e,["frequencyPenalty"]);w!=null&&d(r,["frequencyPenalty"],w);const I=u(e,["seed"]);I!=null&&d(r,["seed"],I);const P=u(e,["responseMimeType"]);P!=null&&d(r,["responseMimeType"],P);const A=u(e,["responseSchema"]);A!=null&&d(r,["responseSchema"],Jp(A));const x=u(e,["responseJsonSchema"]);x!=null&&d(r,["responseJsonSchema"],x);const k=u(e,["routingConfig"]);k!=null&&d(r,["routingConfig"],k);const D=u(e,["modelSelectionConfig"]);D!=null&&d(r,["modelConfig"],D);const U=u(e,["safetySettings"]);if(n!==void 0&&U!=null){let pe=U;Array.isArray(pe)&&(pe=pe.map(ye=>ye)),d(n,["safetySettings"],pe)}const V=u(e,["tools"]);if(n!==void 0&&V!=null){let pe=qi(V);Array.isArray(pe)&&(pe=pe.map(ye=>lT(Oi(ye)))),d(n,["tools"],pe)}const T=u(e,["toolConfig"]);n!==void 0&&T!=null&&d(n,["toolConfig"],T);const E=u(e,["labels"]);n!==void 0&&E!=null&&d(n,["labels"],E);const S=u(e,["cachedContent"]);n!==void 0&&S!=null&&d(n,["cachedContent"],tr(t,S));const b=u(e,["responseModalities"]);b!=null&&d(r,["responseModalities"],b);const N=u(e,["mediaResolution"]);N!=null&&d(r,["mediaResolution"],N);const M=u(e,["speechConfig"]);M!=null&&d(r,["speechConfig"],aT(Yp(M)));const R=u(e,["audioTimestamp"]);R!=null&&d(r,["audioTimestamp"],R);const X=u(e,["thinkingConfig"]);X!=null&&d(r,["thinkingConfig"],X);const _e=u(e,["imageConfig"]);return _e!=null&&d(r,["imageConfig"],SP(_e)),r}function vv(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["contents"]);if(s!=null){let o=en(s);Array.isArray(o)&&(o=o.map(a=>Sc(a))),d(n,["contents"],o)}const i=u(e,["config"]);return i!=null&&d(n,["generationConfig"],Yb(t,i,n)),n}function _v(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["contents"]);if(s!=null){let o=en(s);Array.isArray(o)&&(o=o.map(a=>a)),d(n,["contents"],o)}const i=u(e,["config"]);return i!=null&&d(n,["generationConfig"],Qb(t,i,n)),n}function wv(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>_b(c))),d(e,["candidates"],l)}const s=u(t,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const i=u(t,["promptFeedback"]);i!=null&&d(e,["promptFeedback"],i);const o=u(t,["responseId"]);o!=null&&d(e,["responseId"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function Ev(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),d(e,["candidates"],c)}const s=u(t,["createTime"]);s!=null&&d(e,["createTime"],s);const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["responseId"]);a!=null&&d(e,["responseId"],a);const l=u(t,["usageMetadata"]);return l!=null&&d(e,["usageMetadata"],l),e}function Xb(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const s=u(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const i=u(t,["guidanceScale"]);if(e!==void 0&&i!=null&&d(e,["parameters","guidanceScale"],i),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=u(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&d(e,["parameters","safetySetting"],o);const a=u(t,["personGeneration"]);e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a);const l=u(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&d(e,["parameters","includeSafetyAttributes"],l);const c=u(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const h=u(t,["language"]);e!==void 0&&h!=null&&d(e,["parameters","language"],h);const m=u(t,["outputMimeType"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","mimeType"],m);const g=u(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=u(t,["imageSize"]);if(e!==void 0&&v!=null&&d(e,["parameters","sampleImageSize"],v),u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Zb(t,e){const n={},r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const a=u(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const l=u(t,["seed"]);e!==void 0&&l!=null&&d(e,["parameters","seed"],l);const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const m=u(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const g=u(t,["includeRaiReason"]);e!==void 0&&g!=null&&d(e,["parameters","includeRaiReason"],g);const v=u(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","mimeType"],w);const I=u(t,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const P=u(t,["addWatermark"]);e!==void 0&&P!=null&&d(e,["parameters","addWatermark"],P);const A=u(t,["labels"]);e!==void 0&&A!=null&&d(e,["labels"],A);const x=u(t,["imageSize"]);e!==void 0&&x!=null&&d(e,["parameters","sampleImageSize"],x);const k=u(t,["enhancePrompt"]);return e!==void 0&&k!=null&&d(e,["parameters","enhancePrompt"],k),n}function eP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["config"]);return i!=null&&Xb(i,n),n}function tP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["config"]);return i!=null&&Zb(i,n),n}function nP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>pP(o))),d(e,["generatedImages"],i)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],iT(s)),e}function rP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Cc(o))),d(e,["generatedImages"],i)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],oT(s)),e}function sP(t,e){const n={},r=u(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=u(t,["durationSeconds"]);if(e!==void 0&&s!=null&&d(e,["parameters","durationSeconds"],s),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=u(t,["aspectRatio"]);e!==void 0&&i!=null&&d(e,["parameters","aspectRatio"],i);const o=u(t,["resolution"]);e!==void 0&&o!=null&&d(e,["parameters","resolution"],o);const a=u(t,["personGeneration"]);if(e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=u(t,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const c=u(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&d(e,["parameters","enhancePrompt"],c),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=u(t,["lastFrame"]);e!==void 0&&h!=null&&d(e,["instances[0]","lastFrame"],Ic(h));const m=u(t,["referenceImages"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(v=>o2(v))),d(e,["instances[0]","referenceImages"],g)}if(u(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function iP(t,e){const n={},r=u(t,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const s=u(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const i=u(t,["fps"]);e!==void 0&&i!=null&&d(e,["parameters","fps"],i);const o=u(t,["durationSeconds"]);e!==void 0&&o!=null&&d(e,["parameters","durationSeconds"],o);const a=u(t,["seed"]);e!==void 0&&a!=null&&d(e,["parameters","seed"],a);const l=u(t,["aspectRatio"]);e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l);const c=u(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const m=u(t,["pubsubTopic"]);e!==void 0&&m!=null&&d(e,["parameters","pubsubTopic"],m);const g=u(t,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const v=u(t,["enhancePrompt"]);e!==void 0&&v!=null&&d(e,["parameters","enhancePrompt"],v);const w=u(t,["generateAudio"]);e!==void 0&&w!=null&&d(e,["parameters","generateAudio"],w);const I=u(t,["lastFrame"]);e!==void 0&&I!=null&&d(e,["instances[0]","lastFrame"],hn(I));const P=u(t,["referenceImages"]);if(e!==void 0&&P!=null){let k=P;Array.isArray(k)&&(k=k.map(D=>a2(D))),d(e,["instances[0]","referenceImages"],k)}const A=u(t,["mask"]);e!==void 0&&A!=null&&d(e,["instances[0]","mask"],i2(A));const x=u(t,["compressionQuality"]);return e!==void 0&&x!=null&&d(e,["parameters","compressionQuality"],x),n}function oP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response","generateVideoResponse"]);return o!=null&&d(e,["response"],cP(o)),e}function aP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],dP(o)),e}function lP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["image"]);i!=null&&d(n,["instances[0]","image"],Ic(i));const o=u(e,["video"]);o!=null&&d(n,["instances[0]","video"],uT(o));const a=u(e,["source"]);a!=null&&fP(a,n);const l=u(e,["config"]);return l!=null&&sP(l,n),n}function uP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["image"]);i!=null&&d(n,["instances[0]","image"],hn(i));const o=u(e,["video"]);o!=null&&d(n,["instances[0]","video"],cT(o));const a=u(e,["source"]);a!=null&&hP(a,n);const l=u(e,["config"]);return l!=null&&iP(l,n),n}function cP(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gP(o))),d(e,["generatedVideos"],i)}const r=u(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function dP(t){const e={},n=u(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yP(o))),d(e,["generatedVideos"],i)}const r=u(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function fP(t,e){const n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const s=u(t,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Ic(s));const i=u(t,["video"]);return e!==void 0&&i!=null&&d(e,["instances[0]","video"],uT(i)),n}function hP(t,e){const n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const s=u(t,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],hn(s));const i=u(t,["video"]);return e!==void 0&&i!=null&&d(e,["instances[0]","video"],cT(i)),n}function pP(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],CP(n));const r=u(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const s=u(t,["_self"]);return s!=null&&d(e,["safetyAttributes"],iT(s)),e}function Cc(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],sT(n));const r=u(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const s=u(t,["_self"]);s!=null&&d(e,["safetyAttributes"],oT(s));const i=u(t,["prompt"]);return i!=null&&d(e,["enhancedPrompt"],i),e}function mP(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["mask"],sT(n));const r=u(t,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),d(e,["labels"],s)}return e}function gP(t){const e={},n=u(t,["video"]);return n!=null&&d(e,["video"],r2(n)),e}function yP(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],s2(n)),e}function vP(t){const e={},n=u(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=u(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const s=u(t,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const i=u(t,["candidateCount"]);i!=null&&d(e,["candidateCount"],i);const o=u(t,["enableAffectiveDialog"]);o!=null&&d(e,["enableAffectiveDialog"],o);const a=u(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const l=u(t,["logprobs"]);l!=null&&d(e,["logprobs"],l);const c=u(t,["maxOutputTokens"]);c!=null&&d(e,["maxOutputTokens"],c);const h=u(t,["mediaResolution"]);h!=null&&d(e,["mediaResolution"],h);const m=u(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const g=u(t,["responseLogprobs"]);g!=null&&d(e,["responseLogprobs"],g);const v=u(t,["responseMimeType"]);v!=null&&d(e,["responseMimeType"],v);const w=u(t,["responseModalities"]);w!=null&&d(e,["responseModalities"],w);const I=u(t,["responseSchema"]);I!=null&&d(e,["responseSchema"],I);const P=u(t,["routingConfig"]);P!=null&&d(e,["routingConfig"],P);const A=u(t,["seed"]);A!=null&&d(e,["seed"],A);const x=u(t,["speechConfig"]);x!=null&&d(e,["speechConfig"],aT(x));const k=u(t,["stopSequences"]);k!=null&&d(e,["stopSequences"],k);const D=u(t,["temperature"]);D!=null&&d(e,["temperature"],D);const U=u(t,["thinkingConfig"]);U!=null&&d(e,["thinkingConfig"],U);const V=u(t,["topK"]);V!=null&&d(e,["topK"],V);const T=u(t,["topP"]);if(T!=null&&d(e,["topP"],T),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _P(t,e){const n={},r=u(e,["model"]);return r!=null&&d(n,["_url","name"],ve(t,r)),n}function wP(t,e){const n={},r=u(e,["model"]);return r!=null&&d(n,["_url","name"],ve(t,r)),n}function EP(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function xP(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function TP(t){const e={},n=u(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=u(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),u(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function SP(t){const e={},n=u(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=u(t,["imageSize"]);r!=null&&d(e,["imageSize"],r);const s=u(t,["outputMimeType"]);s!=null&&d(e,["imageOutputOptions","mimeType"],s);const i=u(t,["outputCompressionQuality"]);return i!=null&&d(e,["imageOutputOptions","compressionQuality"],i),e}function CP(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],Kr(n));const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function sT(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=u(t,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],Kr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Ic(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],Kr(n));const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function hn(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=u(t,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],Kr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function IP(t,e,n){const r={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const i=u(e,["pageToken"]);n!==void 0&&i!=null&&d(n,["_query","pageToken"],i);const o=u(e,["filter"]);n!==void 0&&o!=null&&d(n,["_query","filter"],o);const a=u(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],Yx(t,a)),r}function AP(t,e,n){const r={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const i=u(e,["pageToken"]);n!==void 0&&i!=null&&d(n,["_query","pageToken"],i);const o=u(e,["filter"]);n!==void 0&&o!=null&&d(n,["_query","filter"],o);const a=u(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],Yx(t,a)),r}function kP(t,e){const n={},r=u(e,["config"]);return r!=null&&IP(t,r,n),n}function NP(t,e){const n={},r=u(e,["config"]);return r!=null&&AP(t,r,n),n}function RP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["_self"]);if(s!=null){let i=Qx(s);Array.isArray(i)&&(i=i.map(o=>lh(o))),d(e,["models"],i)}return e}function bP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["_self"]);if(s!=null){let i=Qx(s);Array.isArray(i)&&(i=i.map(o=>uh(o))),d(e,["models"],i)}return e}function PP(t){const e={},n=u(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const r=u(t,["segmentationClasses"]);r!=null&&d(e,["maskClasses"],r);const s=u(t,["maskDilation"]);return s!=null&&d(e,["dilation"],s),e}function lh(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["displayName"]);r!=null&&d(e,["displayName"],r);const s=u(t,["description"]);s!=null&&d(e,["description"],s);const i=u(t,["version"]);i!=null&&d(e,["version"],i);const o=u(t,["_self"]);o!=null&&d(e,["tunedModelInfo"],KP(o));const a=u(t,["inputTokenLimit"]);a!=null&&d(e,["inputTokenLimit"],a);const l=u(t,["outputTokenLimit"]);l!=null&&d(e,["outputTokenLimit"],l);const c=u(t,["supportedGenerationMethods"]);c!=null&&d(e,["supportedActions"],c);const h=u(t,["temperature"]);h!=null&&d(e,["temperature"],h);const m=u(t,["maxTemperature"]);m!=null&&d(e,["maxTemperature"],m);const g=u(t,["topP"]);g!=null&&d(e,["topP"],g);const v=u(t,["topK"]);v!=null&&d(e,["topK"],v);const w=u(t,["thinking"]);return w!=null&&d(e,["thinking"],w),e}function uh(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["displayName"]);r!=null&&d(e,["displayName"],r);const s=u(t,["description"]);s!=null&&d(e,["description"],s);const i=u(t,["versionId"]);i!=null&&d(e,["version"],i);const o=u(t,["deployedModels"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(g=>$b(g))),d(e,["endpoints"],m)}const a=u(t,["labels"]);a!=null&&d(e,["labels"],a);const l=u(t,["_self"]);l!=null&&d(e,["tunedModelInfo"],JP(l));const c=u(t,["defaultCheckpointId"]);c!=null&&d(e,["defaultCheckpointId"],c);const h=u(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),d(e,["checkpoints"],m)}return e}function MP(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],jb(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],Wb(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],vb(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function DP(t){const e={},n=u(t,["productImage"]);return n!=null&&d(e,["image"],hn(n)),e}function VP(t,e){const n={},r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const s=u(t,["baseSteps"]);e!==void 0&&s!=null&&d(e,["parameters","baseSteps"],s);const i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["seed"]);e!==void 0&&o!=null&&d(e,["parameters","seed"],o);const a=u(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const l=u(t,["personGeneration"]);e!==void 0&&l!=null&&d(e,["parameters","personGeneration"],l);const c=u(t,["addWatermark"]);e!==void 0&&c!=null&&d(e,["parameters","addWatermark"],c);const h=u(t,["outputMimeType"]);e!==void 0&&h!=null&&d(e,["parameters","outputOptions","mimeType"],h);const m=u(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","compressionQuality"],m);const g=u(t,["enhancePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","enhancePrompt"],g);const v=u(t,["labels"]);return e!==void 0&&v!=null&&d(e,["labels"],v),n}function LP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["source"]);s!=null&&FP(s,n);const i=u(e,["config"]);return i!=null&&VP(i,n),n}function UP(t){const e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Cc(s))),d(e,["generatedImages"],r)}return e}function FP(t,e){const n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const s=u(t,["personImage"]);e!==void 0&&s!=null&&d(e,["instances[0]","personImage","image"],hn(s));const i=u(t,["productImages"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>DP(a))),d(e,["instances[0]","productImages"],o)}return n}function OP(t){const e={},n=u(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],hn(n));const r=u(t,["referenceId"]);r!=null&&d(e,["referenceId"],r);const s=u(t,["referenceType"]);s!=null&&d(e,["referenceType"],s);const i=u(t,["maskImageConfig"]);i!=null&&d(e,["maskImageConfig"],PP(i));const o=u(t,["controlImageConfig"]);o!=null&&d(e,["controlImageConfig"],Cb(o));const a=u(t,["styleImageConfig"]);a!=null&&d(e,["styleImageConfig"],a);const l=u(t,["subjectImageConfig"]);return l!=null&&d(e,["subjectImageConfig"],l),e}function iT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=u(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const s=u(t,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function oT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=u(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const s=u(t,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function qP(t){const e={},n=u(t,["category"]);if(n!=null&&d(e,["category"],n),u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function BP(t){const e={},n=u(t,["image"]);return n!=null&&d(e,["image"],hn(n)),e}function GP(t,e){const n={},r=u(t,["mode"]);e!==void 0&&r!=null&&d(e,["parameters","mode"],r);const s=u(t,["maxPredictions"]);e!==void 0&&s!=null&&d(e,["parameters","maxPredictions"],s);const i=u(t,["confidenceThreshold"]);e!==void 0&&i!=null&&d(e,["parameters","confidenceThreshold"],i);const o=u(t,["maskDilation"]);e!==void 0&&o!=null&&d(e,["parameters","maskDilation"],o);const a=u(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&d(e,["parameters","binaryColorThreshold"],a);const l=u(t,["labels"]);return e!==void 0&&l!=null&&d(e,["labels"],l),n}function HP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["source"]);s!=null&&$P(s,n);const i=u(e,["config"]);return i!=null&&GP(i,n),n}function zP(t){const e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>mP(s))),d(e,["generatedMasks"],r)}return e}function $P(t,e){const n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const s=u(t,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],hn(s));const i=u(t,["scribbleImage"]);return e!==void 0&&i!=null&&d(e,["instances[0]","scribble"],BP(i)),n}function aT(t){const e={},n=u(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=u(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function jP(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],Kb(n));const r=u(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function WP(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],EP(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],xP(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function lT(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>Jb(g))),d(e,["functionDeclarations"],m)}const r=u(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const s=u(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const i=u(t,["computerUse"]);if(i!=null&&d(e,["computerUse"],i),u(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=u(t,["codeExecution"]);o!=null&&d(e,["codeExecution"],o);const a=u(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const l=u(t,["googleMaps"]);l!=null&&d(e,["googleMaps"],l);const c=u(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const h=u(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function KP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=u(t,["createTime"]);r!=null&&d(e,["createTime"],r);const s=u(t,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function JP(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const r=u(t,["createTime"]);r!=null&&d(e,["createTime"],r);const s=u(t,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function YP(t,e){const n={},r=u(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const s=u(t,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const i=u(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&d(e,["defaultCheckpointId"],i),n}function QP(t,e){const n={},r=u(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const s=u(t,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const i=u(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&d(e,["defaultCheckpointId"],i),n}function XP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","name"],ve(t,r));const s=u(e,["config"]);return s!=null&&YP(s,n),n}function ZP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["config"]);return s!=null&&QP(s,n),n}function e2(t,e){const n={},r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const s=u(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const i=u(t,["personGeneration"]);e!==void 0&&i!=null&&d(e,["parameters","personGeneration"],i);const o=u(t,["includeRaiReason"]);e!==void 0&&o!=null&&d(e,["parameters","includeRaiReason"],o);const a=u(t,["outputMimeType"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","mimeType"],a);const l=u(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&d(e,["parameters","outputOptions","compressionQuality"],l);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=u(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const g=u(t,["numberOfImages"]);e!==void 0&&g!=null&&d(e,["parameters","sampleCount"],g);const v=u(t,["mode"]);return e!==void 0&&v!=null&&d(e,["parameters","mode"],v),n}function t2(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ve(t,r));const s=u(e,["image"]);s!=null&&d(n,["instances[0]","image"],hn(s));const i=u(e,["upscaleFactor"]);i!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=u(e,["config"]);return o!=null&&e2(o,n),n}function n2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Cc(i))),d(e,["generatedImages"],s)}return e}function r2(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["uri"],n);const r=u(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],Kr(r));const s=u(t,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function s2(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=u(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],Kr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function i2(t){const e={},n=u(t,["image"]);n!=null&&d(e,["_self"],hn(n));const r=u(t,["maskMode"]);return r!=null&&d(e,["maskMode"],r),e}function o2(t){const e={},n=u(t,["image"]);n!=null&&d(e,["image"],Ic(n));const r=u(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function a2(t){const e={},n=u(t,["image"]);n!=null&&d(e,["image"],hn(n));const r=u(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function uT(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["uri"],n);const r=u(t,["videoBytes"]);r!=null&&d(e,["encodedVideo"],Kr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["encoding"],s),e}function cT(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const r=u(t,["videoBytes"]);r!=null&&d(e,["bytesBase64Encoded"],Kr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l2="Content-Type",u2="X-Server-Timeout",c2="User-Agent",ch="x-goog-api-client",d2="1.30.0",f2=`google-genai-sdk/${d2}`,h2="v1beta1",p2="v1beta",xv=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class m2{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:h2,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:p2,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,a]of Object.entries(e.queryParams))s.searchParams.append(o,String(a));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&g2(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Tv(s),new ih(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Tv(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return di(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let o="";for(;;){const{done:a,value:l}=yield Ne(s.read());if(a){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(l,{stream:!0});try{const m=JSON.parse(c);if("error"in m){const g=JSON.parse(JSON.stringify(m.error)),v=g.status,w=g.code,I=`got status: ${v}. ${JSON.stringify(m)}`;if(w>=400&&w<600)throw new Tc({message:I,status:w})}}catch(m){if(m.name==="ApiError")throw m}o+=c;let h=o.match(xv);for(;h;){const m=h[1];try{const g=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ne(new ih(g)),o=o.slice(h[0].length),h=o.match(xv)}catch(g){throw new Error(`exception parsing stream chunk ${m}. ${g}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=f2+" "+this.clientOptions.userAgentExtra;return e[c2]=n,e[ch]=n,e[l2]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(u2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);s.sizeBytes=String(o.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=a;const l={file:s},c=this.getFileName(e),h=K("upload/v1beta/files",l._url),m=await this.fetchUploadUrl(h,s.sizeBytes,s.mimeType,c,l,n==null?void 0:n.httpOptions);return i.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,o=await i.stat(n),a=String(o.size),l=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const g=await this.fetchUploadUrl(c,a,l,h,m,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,o){var a;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const c=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Tv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new Tc({message:s,status:n}):new Error(s)}}function g2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const a=Object.assign({},i);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const c=o[l],h=a[l];c&&typeof c=="object"&&!Array.isArray(c)&&h&&typeof h=="object"&&!Array.isArray(h)?a[l]=r(h,c):(h&&c&&typeof h!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof h}, New type: ${typeof c}. Overwriting.`),a[l]=c)}return a}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y2="mcp_used/unknown";let v2=!1;function dT(t){for(const e of t)if(_2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return v2}function fT(t){var e;const n=(e=t[ch])!==null&&e!==void 0?e:"";t[ch]=(n+` ${y2}`).trimStart()}function _2(t){return t!==null&&typeof t=="object"&&t instanceof Xp}function w2(t,e=100){return di(this,arguments,function*(){let r,s=0;for(;s<e;){const i=yield Ne(t.listTools({cursor:r}));for(const o of i.tools)yield yield Ne(o),s++;if(!i.nextCursor)break;r=i.nextCursor}})}class Xp{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Xp(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},o=[];for(const h of this.mcpClients)try{for(var a=!0,l=(n=void 0,Go(w2(h))),c;c=await l.next(),e=c.done,!e;a=!0){s=c.value,a=!1;const m=s;o.push(m);const g=m.name;if(i[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);i[g]=h}}catch(m){n={error:m}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),fN(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function E2(t,e,n){const r=new sN;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class x2{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=C2(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const h=new Promise(k=>{c=k}),m=e.callbacks,g=function(){c({})},v=this.apiClient,w={onopen:g,onmessage:k=>{E2(v,m.onmessage,k)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(k){}},I=this.webSocketFactory.create(l,S2(o),w);I.connect(),await h;const x={setup:{model:ve(this.apiClient,e.model)}};return I.send(JSON.stringify(x)),new T2(I,this.apiClient)}}class T2{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=ub(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=lb(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ni.PLAY)}pause(){this.sendPlaybackControl(ni.PAUSE)}stop(){this.sendPlaybackControl(ni.STOP)}resetContext(){this.sendPlaybackControl(ni.RESET_CONTEXT)}close(){this.conn.close()}}function S2(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function C2(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function A2(t,e,n){const r=new rN;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const o=fb(i);Object.assign(r,o)}else Object.assign(r,i);e(r)}class k2{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new x2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&dT(e.config.tools)&&fT(m);const g=P2(m);if(this.apiClient.isVertexAI())h=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const S=this.apiClient.getApiKey();let b="BidiGenerateContent",N="key";S!=null&&S.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),b="BidiGenerateContentConstrained",N="access_token"),h=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${b}?${N}=${S}`}let v=()=>{};const w=new Promise(S=>{v=S}),I=e.callbacks,P=function(){var S;(S=I==null?void 0:I.onopen)===null||S===void 0||S.call(I),v({})},A=this.apiClient,x={onopen:P,onmessage:S=>{A2(A,I.onmessage,S)},onerror:(n=I==null?void 0:I.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=I==null?void 0:I.onclose)!==null&&r!==void 0?r:function(S){}},k=this.webSocketFactory.create(h,b2(g),x);k.connect(),await w;let D=ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const S=this.apiClient.getProject(),b=this.apiClient.getLocation();D=`projects/${S}/locations/${b}/`+D}let U={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Mu.AUDIO]}:e.config.responseModalities=[Mu.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],T=[];for(const S of V)if(this.isCallableTool(S)){const b=S;T.push(await b.tool())}else T.push(S);T.length>0&&(e.config.tools=T);const E={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=ab(this.apiClient,E):U=ob(this.apiClient,E),delete U.config,k.send(JSON.stringify(U)),new R2(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const N2={turnComplete:!0};class R2{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=en(n.turns),e.isVertexAI()||(r=r.map(s=>Sc(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(I2)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},N2),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:db(e)}:n={realtimeInput:cb(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function b2(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function P2(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sv=10;function Cv(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(fi(o)){s=!0;break}if(!s)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function fi(t){return"callTool"in t&&typeof t.callTool=="function"}function M2(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>fi(s)))!==null&&r!==void 0?r:!1}function Iv(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(fi(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function Av(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D2 extends er{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,o,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!M2(n)||Cv(n.config))return await this.generateContentInternal(l);const c=Iv(n);if(c.length>0){const I=c.map(P=>`tools[${P}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let h,m;const g=en(l.contents),v=(i=(s=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:Sv;let w=0;for(;w<v&&(h=await this.generateContentInternal(l),!(!h.functionCalls||h.functionCalls.length===0));){const I=h.candidates[0].content,P=[];for(const A of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(fi(A)){const k=await A.callTool(h.functionCalls);P.push(...k)}w++,m={role:"user",parts:P},l.contents=en(l.contents),l.contents.push(I),l.contents.push(m),Av(l.config)&&(g.push(I),g.push(m))}return Av(l.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,s,i,o,a;if(this.maybeMoveToResponseJsonSchem(n),Cv(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const l=Iv(n);if(l.length>0){const m=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(s=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,h=(a=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((s=l==null?void 0:l.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=l==null?void 0:l.safetyAttributes:o.push(l);let a;return i?a={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Ns(Wn.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,o,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(i=n.source)===null||i===void 0?void 0:i.video)===null||o===void 0)&&o.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const o=await Promise.all(i.map(async l=>fi(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&dT(e.config.tools)){const l=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),fT(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(fi(o)){const a=o,l=await a.tool();for(const c of(s=l.functionDeclarations)!==null&&s!==void 0?s:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,a)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:Sv;let o=!1,a=0;const l=await this.initAfcToolsMap(e);return function(c,h,m){var g,v;return di(this,arguments,function*(){for(var w,I,P,A;a<i;){o&&(a++,o=!1);const U=yield Ne(c.processParamsMaybeAddMcpUsage(m)),V=yield Ne(c.generateContentStreamInternal(U)),T=[],E=[];try{for(var x=!0,k=(I=void 0,Go(V)),D;D=yield Ne(k.next()),w=D.done,!w;x=!0){A=D.value,x=!1;const S=A;if(yield yield Ne(S),S.candidates&&(!((g=S.candidates[0])===null||g===void 0)&&g.content)){E.push(S.candidates[0].content);for(const b of(v=S.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(a<i&&b.functionCall){if(!b.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(b.functionCall.name)){const N=yield Ne(h.get(b.functionCall.name).callTool([b.functionCall]));T.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${b.functionCall.name}`)}}}}catch(S){I={error:S}}finally{try{!x&&!w&&(P=k.return)&&(yield Ne(P.call(k)))}finally{if(I)throw I.error}}if(T.length>0){o=!0;const S=new To;S.candidates=[{content:{role:"user",parts:T}}],yield yield Ne(S);const b=[];b.push(...E),b.push({role:"user",parts:T});const N=en(m.contents).concat(b);m.contents=N}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=_v(this.apiClient,e);return a=K("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Ev(h),g=new To;return Object.assign(g,m),g})}else{const c=vv(this.apiClient,e);return a=K("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=wv(h),g=new To;return Object.assign(g,m),g})}}async generateContentStreamInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=_v(this.apiClient,e);return a=K("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(m){return di(this,arguments,function*(){var g,v,w,I;try{for(var P=!0,A=Go(m),x;x=yield Ne(A.next()),g=x.done,!g;P=!0){I=x.value,P=!1;const k=I,D=Ev(yield Ne(k.json()));D.sdkHttpResponse={headers:k.headers};const U=new To;Object.assign(U,D),yield yield Ne(U)}}catch(k){v={error:k}}finally{try{!P&&!g&&(w=A.return)&&(yield Ne(w.call(A)))}finally{if(v)throw v.error}}})})}else{const c=vv(this.apiClient,e);return a=K("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(m){return di(this,arguments,function*(){var g,v,w,I;try{for(var P=!0,A=Go(m),x;x=yield Ne(A.next()),g=x.done,!g;P=!0){I=x.value,P=!1;const k=I,D=wv(yield Ne(k.json()));D.sdkHttpResponse={headers:k.headers};const U=new To;Object.assign(U,D),yield yield Ne(U)}}catch(k){v={error:k}}finally{try{!P&&!g&&(w=A.return)&&(yield Ne(w.call(A)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Gb(this.apiClient,e);return a=K("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=zb(h),g=new nv;return Object.assign(g,m),g})}else{const c=Bb(this.apiClient,e);return a=K("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Hb(h),g=new nv;return Object.assign(g,m),g})}}async generateImagesInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=tP(this.apiClient,e);return a=K("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=rP(h),g=new rv;return Object.assign(g,m),g})}else{const c=eP(this.apiClient,e);return a=K("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=nP(h),g=new rv;return Object.assign(g,m),g})}}async editImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=Ub(this.apiClient,e);return i=K("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=Fb(l),h=new jk;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=t2(this.apiClient,e);return i=K("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=n2(l),h=new Wk;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=LP(this.apiClient,e);return i=K("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=UP(l),h=new Kk;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=HP(this.apiClient,e);return i=K("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=zP(l),h=new Jk;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=wP(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>uh(h))}else{const c=_P(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>lh(h))}}async listInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=NP(this.apiClient,e);return a=K("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=bP(h),g=new sv;return Object.assign(g,m),g})}else{const c=kP(this.apiClient,e);return a=K("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=RP(h),g=new sv;return Object.assign(g,m),g})}}async update(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=ZP(this.apiClient,e);return a=K("{model}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>uh(h))}else{const c=XP(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>lh(h))}}async delete(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Mb(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Vb(h),g=new iv;return Object.assign(g,m),g})}else{const c=Pb(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Db(h),g=new iv;return Object.assign(g,m),g})}}async countTokens(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Nb(this.apiClient,e);return a=K("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=bb(h),g=new ov;return Object.assign(g,m),g})}else{const c=kb(this.apiClient,e);return a=K("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Rb(h),g=new ov;return Object.assign(g,m),g})}}async computeTokens(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=Eb(this.apiClient,e);return i=K("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=xb(l),h=new Yk;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=uP(this.apiClient,e);return a=K("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const m=aP(h),g=new Du;return Object.assign(g,m),g})}else{const c=lP(this.apiClient,e);return a=K("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const m=oP(h),g=new Du;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V2 extends er{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=qk(e);return a=K("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o}else{const c=Ok(e);return a=K("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=Pk(e);return i=K("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L2(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function U2(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>j2(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function F2(t,e,n){const r={},s=u(e,["expireTime"]);n!==void 0&&s!=null&&d(n,["expireTime"],s);const i=u(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&d(n,["newSessionExpireTime"],i);const o=u(e,["uses"]);n!==void 0&&o!=null&&d(n,["uses"],o);const a=u(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&d(n,["bidiGenerateContentSetup"],$2(t,a));const l=u(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&d(n,["fieldMask"],l),r}function O2(t,e){const n={},r=u(e,["config"]);return r!=null&&d(n,["config"],F2(t,r,n)),n}function q2(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function B2(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function G2(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function H2(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function z2(t,e){const n={},r=u(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const i=u(t,["temperature"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","temperature"],i);const o=u(t,["topP"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","topP"],o);const a=u(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const l=u(t,["maxOutputTokens"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","maxOutputTokens"],l);const c=u(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","seed"],h);const m=u(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Qp(m));const g=u(t,["thinkingConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","thinkingConfig"],g);const v=u(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],U2(wt(w)));const I=u(t,["tools"]);if(e!==void 0&&I!=null){let V=qi(I);Array.isArray(V)&&(V=V.map(T=>K2(Oi(T)))),d(e,["setup","tools"],V)}const P=u(t,["sessionResumption"]);e!==void 0&&P!=null&&d(e,["setup","sessionResumption"],W2(P));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],A);const x=u(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&d(e,["setup","outputAudioTranscription"],x);const k=u(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&d(e,["setup","realtimeInputConfig"],k);const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],D);const U=u(t,["proactivity"]);return e!==void 0&&U!=null&&d(e,["setup","proactivity"],U),n}function $2(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["setup","model"],ve(t,r));const s=u(e,["config"]);return s!=null&&d(n,["config"],z2(s,n)),n}function j2(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],q2(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],B2(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],L2(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function W2(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function K2(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],G2(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],H2(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J2(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function Y2(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=J2(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];s.length>0&&(a=s.map(c=>o.includes(c)?`generationConfig.${c}`:c));const l=[];i&&l.push(i),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class Q2 extends er{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=O2(this.apiClient,e);i=K("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const l=Y2(a,e.config);return s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X2(t,e){const n={},r=u(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["displayName"],r),n}function Z2(t){const e={},n=u(t,["config"]);return n!=null&&X2(n,e),e}function eM(t,e){const n={},r=u(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function tM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=u(t,["config"]);return r!=null&&eM(r,e),e}function nM(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function rM(t,e){const n={},r=u(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["customMetadata"],i)}const s=u(t,["chunkingConfig"]);return e!==void 0&&s!=null&&d(e,["chunkingConfig"],s),n}function sM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],oM(o)),e}function iM(t){const e={},n=u(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=u(t,["fileName"]);r!=null&&d(e,["fileName"],r);const s=u(t,["config"]);return s!=null&&rM(s,e),e}function oM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["parent"]);r!=null&&d(e,["parent"],r);const s=u(t,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function aM(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function lM(t){const e={},n=u(t,["config"]);return n!=null&&aM(n,e),e}function uM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["fileSearchStores"],i)}return e}function cM(t,e){const n={},r=u(t,["mimeType"]);e!==void 0&&r!=null&&d(e,["mimeType"],r);const s=u(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const i=u(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),d(e,["customMetadata"],a)}const o=u(t,["chunkingConfig"]);return e!==void 0&&o!=null&&d(e,["chunkingConfig"],o),n}function dM(t){const e={},n=u(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=u(t,["config"]);return r!=null&&cM(r,e),e}function fM(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hM(t,e){const n={},r=u(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function pM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=u(t,["config"]);return r!=null&&hM(r,e),e}function mM(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function gM(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function yM(t){const e={},n=u(t,["parent"]);n!=null&&d(e,["_url","parent"],n);const r=u(t,["config"]);return r!=null&&gM(r,e),e}function vM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _M extends er{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ns(Wn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=mM(e);return i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=pM(e);s=K("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yM(e);return i=K("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=vM(l),h=new Qk;return Object.assign(h,c),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wM extends er{constructor(e,n=new _M(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ns(Wn.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Z2(e);return i=K("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=nM(e);return i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=tM(e);s=K("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=lM(e);return i=K("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=uM(l),h=new Xk;return Object.assign(h,c),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dM(e);return i=K("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=fM(l),h=new Zk;return Object.assign(h,c),h})}}async importFile(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=iM(e);return i=K("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=sM(l),h=new jp;return Object.assign(h,c),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(t,e){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function xM(t,e){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function TM(t,e,n){const r={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=u(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&d(e,["displayName"],s),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=u(t,["epochCount"]);e!==void 0&&i!=null&&d(e,["tuningTask","hyperparameters","epochCount"],i);const o=u(t,["learningRateMultiplier"]);if(o!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=u(t,["batchSize"]);e!==void 0&&a!=null&&d(e,["tuningTask","hyperparameters","batchSize"],a);const l=u(t,["learningRate"]);if(e!==void 0&&l!=null&&d(e,["tuningTask","hyperparameters","learningRate"],l),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function SM(t,e,n){const r={};let s=u(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const v=u(t,["validationDataset"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec"],kv(v))}else if(s==="PREFERENCE_TUNING"){const v=u(t,["validationDataset"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec"],kv(v))}const i=u(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&d(e,["tunedModelDisplayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);let a=u(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const v=u(t,["epochCount"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(a==="PREFERENCE_TUNING"){const v=u(t,["epochCount"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=u(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=u(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=u(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let c=u(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=u(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(c==="PREFERENCE_TUNING"){const v=u(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let h=u(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const v=u(t,["adapterSize"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(h==="PREFERENCE_TUNING"){const v=u(t,["adapterSize"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=u(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const g=u(t,["beta"]);return e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function CM(t,e){const n={},r=u(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const s=u(t,["preTunedModel"]);s!=null&&d(n,["preTunedModel"],s);const i=u(t,["trainingDataset"]);i!=null&&LM(i);const o=u(t,["config"]);return o!=null&&TM(o,n),n}function IM(t,e){const n={},r=u(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const s=u(t,["preTunedModel"]);s!=null&&d(n,["preTunedModel"],s);const i=u(t,["trainingDataset"]);i!=null&&UM(i,n,e);const o=u(t,["config"]);return o!=null&&SM(o,n,e),n}function AM(t,e){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function kM(t,e){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function NM(t,e,n){const r={},s=u(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const i=u(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=u(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),r}function RM(t,e,n){const r={},s=u(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const i=u(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=u(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),r}function bM(t,e){const n={},r=u(t,["config"]);return r!=null&&NM(r,n),n}function PM(t,e){const n={},r=u(t,["config"]);return r!=null&&RM(r,n),n}function MM(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const i=u(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>hT(a))),d(n,["tuningJobs"],o)}return n}function DM(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const i=u(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>dh(a))),d(n,["tuningJobs"],o)}return n}function VM(t,e){const n={},r=u(t,["name"]);r!=null&&d(n,["model"],r);const s=u(t,["name"]);return s!=null&&d(n,["endpoint"],s),n}function LM(t,e){const n={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=u(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),d(n,["examples","examples"],s)}return n}function UM(t,e,n){const r={};let s=u(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=u(t,["gcsUri"]);e!==void 0&&o!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=u(t,["gcsUri"]);e!==void 0&&o!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let i=u(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=u(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=u(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function hT(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["name"]);s!=null&&d(n,["name"],s);const i=u(t,["state"]);i!=null&&d(n,["state"],Kx(i));const o=u(t,["createTime"]);o!=null&&d(n,["createTime"],o);const a=u(t,["tuningTask","startTime"]);a!=null&&d(n,["startTime"],a);const l=u(t,["tuningTask","completeTime"]);l!=null&&d(n,["endTime"],l);const c=u(t,["updateTime"]);c!=null&&d(n,["updateTime"],c);const h=u(t,["description"]);h!=null&&d(n,["description"],h);const m=u(t,["baseModel"]);m!=null&&d(n,["baseModel"],m);const g=u(t,["_self"]);return g!=null&&d(n,["tunedModel"],VM(g)),n}function dh(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["name"]);s!=null&&d(n,["name"],s);const i=u(t,["state"]);i!=null&&d(n,["state"],Kx(i));const o=u(t,["createTime"]);o!=null&&d(n,["createTime"],o);const a=u(t,["startTime"]);a!=null&&d(n,["startTime"],a);const l=u(t,["endTime"]);l!=null&&d(n,["endTime"],l);const c=u(t,["updateTime"]);c!=null&&d(n,["updateTime"],c);const h=u(t,["error"]);h!=null&&d(n,["error"],h);const m=u(t,["description"]);m!=null&&d(n,["description"],m);const g=u(t,["baseModel"]);g!=null&&d(n,["baseModel"],g);const v=u(t,["tunedModel"]);v!=null&&d(n,["tunedModel"],v);const w=u(t,["preTunedModel"]);w!=null&&d(n,["preTunedModel"],w);const I=u(t,["supervisedTuningSpec"]);I!=null&&d(n,["supervisedTuningSpec"],I);const P=u(t,["preferenceOptimizationSpec"]);P!=null&&d(n,["preferenceOptimizationSpec"],P);const A=u(t,["tuningDataStats"]);A!=null&&d(n,["tuningDataStats"],A);const x=u(t,["encryptionSpec"]);x!=null&&d(n,["encryptionSpec"],x);const k=u(t,["partnerModelTuningSpec"]);k!=null&&d(n,["partnerModelTuningSpec"],k);const D=u(t,["customBaseModel"]);D!=null&&d(n,["customBaseModel"],D);const U=u(t,["experiment"]);U!=null&&d(n,["experiment"],U);const V=u(t,["labels"]);V!=null&&d(n,["labels"],V);const T=u(t,["outputUri"]);T!=null&&d(n,["outputUri"],T);const E=u(t,["pipelineJob"]);E!=null&&d(n,["pipelineJob"],E);const S=u(t,["serviceAccount"]);S!=null&&d(n,["serviceAccount"],S);const b=u(t,["tunedModelDisplayName"]);b!=null&&d(n,["tunedModelDisplayName"],b);const N=u(t,["veoTuningSpec"]);return N!=null&&d(n,["veoTuningSpec"],N),n}function FM(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["name"]);s!=null&&d(n,["name"],s);const i=u(t,["metadata"]);i!=null&&d(n,["metadata"],i);const o=u(t,["done"]);o!=null&&d(n,["done"],o);const a=u(t,["error"]);return a!=null&&d(n,["error"],a),n}function kv(t,e){const n={},r=u(t,["gcsUri"]);r!=null&&d(n,["validationDatasetUri"],r);const s=u(t,["vertexDatasetResource"]);return s!=null&&d(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OM extends er{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ns(Wn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:sh.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=kM(e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>dh(h))}else{const c=AM(e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>hT(h))}}async listInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=PM(e);return a=K("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=DM(h),g=new av;return Object.assign(g,m),g})}else{const c=bM(e);return a=K("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=MM(h),g=new av;return Object.assign(g,m),g})}}async cancel(e){var n,r,s,i;let o="",a={};if(this.apiClient.isVertexAI()){const l=xM(e);o=K("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=EM(e);o=K("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=IM(e,e);return i=K("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>dh(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=CM(e);return i=K("tunedModels",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>FM(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BM=1024*1024*8,GM=3,HM=1e3,zM=2,Lu="x-goog-upload-status";async function $M(t,e,n){var r;const s=await pT(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Lu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function jM(t,e,n){var r;const s=await pT(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Lu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=Gx(i),a=new Wp;return Object.assign(a,o),a}async function pT(t,e,n){var r,s;let i=0,o=0,a=new ih(new Response),l="upload";for(i=t.size;o<i;){const c=Math.min(BM,i-o),h=t.slice(o,o+c);o+c>=i&&(l+=", finalize");let m=0,g=HM;for(;m<GM&&(a=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(c)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Lu]));)m++,await KM(g),g=g*zM;if(o+=c,((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Lu])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function WM(t){return{size:t.size,type:t.type}}function KM(t){return new Promise(e=>setTimeout(e,t))}class JM{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $M(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jM(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YM{create(e,n,r){return new QM(e,n,r)}}class QM{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nv="x-goog-api-key";class XM{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Nv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Nv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZM="gl-node/";class eD{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Rk(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new XM(this.apiKey);this.apiClient=new m2({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:ZM+"web",uploader:new JM,downloader:new qM}),this.models=new D2(this.apiClient),this.live=new k2(this.apiClient,s,new YM),this.batches=new iR(this.apiClient),this.chats=new qR(this.models,this.apiClient),this.caches=new UR(this.apiClient),this.files=new YR(this.apiClient),this.operations=new V2(this.apiClient),this.authTokens=new Q2(this.apiClient),this.tunings=new OM(this.apiClient),this.fileSearchStores=new wM(this.apiClient)}}const Rs=()=>{const t="AIzaSyCDqgY7dR_dDcY_UpFUh3rPrxk6v50sd1k";return new eD({apiKey:t})},Zp=()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),mT=()=>new Date().getFullYear(),Mn={Ireland:["irishimmigration.ie","justice.ie","visa.vfsglobal.com/ind/en/irl"],"United Kingdom":["gov.uk","visa.vfsglobal.com/ind/en/gbr"],"United States":["travel.state.gov","ustraveldocs.com","ceac.state.gov","dhs.gov"],Canada:["canada.ca","ircc.canada.ca","visa.vfsglobal.com/ind/en/can"],Australia:["immi.homeaffairs.gov.au","india.highcommission.gov.au"],"New Zealand":["immigration.govt.nz","visa.vfsglobal.com/ind/en/nzl"],Germany:["india.diplo.de","make-it-in-germany.com","visa.vfsglobal.com/ind/en/deu"],France:["france-visas.gouv.fr","in.ambafrance.org","visa.vfsglobal.com/ind/en/fra"],Netherlands:["netherlandsworldwide.nl","ind.nl","visa.vfsglobal.com/ind/en/nld"],Italy:["vistoperitalia.esteri.it","ambnewdelhi.esteri.it","visa.vfsglobal.com/ind/en/ita"],Spain:["exteriores.gob.es","india.blsspainvisa.com"],Switzerland:["sem.admin.ch","eda.admin.ch","visa.vfsglobal.com/ind/en/che"],Austria:["bmeia.gv.at","migration.gv.at","visa.vfsglobal.com/ind/en/aut"],Malta:["identita.gov.mt","foreign.gov.mt","visa.vfsglobal.com/ind/en/mlt"],Finland:["migri.fi","finlandabroad.fi","visa.vfsglobal.com/ind/en/fin"],Sweden:["migrationsverket.se","swedenabroad.se","visa.vfsglobal.com/ind/en/swe"],Denmark:["nyidanmark.dk","um.dk","applyvisa.um.dk","visa.vfsglobal.com/ind/en/dnk"],Latvia:["pmlp.gov.lv","mfa.gov.lv","visa.vfsglobal.com/ind/en/lva"],Hungary:["oif.gov.hu","konzuliszolgalat.kormany.hu","visa.vfsglobal.com/ind/en/hun"],Portugal:["vistos.mne.gov.pt","visa.vfsglobal.com/ind/en/prt"],Belgium:["dofi.ibz.be","visa.vfsglobal.com/ind/en/bel","diplomatie.belgium.be"],Poland:["gov.pl","visa.vfsglobal.com/ind/en/pol"],"United Arab Emirates":["u.ae","icp.gov.ae","gdrfad.gov.ae"],Singapore:["ica.gov.sg","mfa.gov.sg"],"Schengen Area":["ec.europa.eu"]},fh=(t,e)=>{if(!t)return!1;const n=(e||"").toLowerCase().trim(),r=String(t).toLowerCase();if(["atlys","ivisa","wikipedia","quora","reddit","tripadvisor","makemytrip","cleartrip","goibibo","easemytrip","handyvisas","skyscanner","kayak","booking.com","agoda","travel.usnews","visaguide.world","thomascook","akbartravels","schengenvisainfo"].some(o=>r.includes(o)))return!1;const i=Object.keys(Mn).find(o=>n.includes(o.toLowerCase()));return!!(i&&Mn[i].some(a=>r.includes(a))||r.includes(".gov")||r.includes("gov.")||r.includes(".go.")||r.includes(".gc.ca")||r.includes(".europa.eu")||r.includes(".mil")||r.includes(".nic.in")||r.includes(".gouv")||r.includes(".gob")||r.includes(".diplo")||r.includes("mfa.")||r.includes(".int")||r.includes("vfsglobal")||r.includes("blsinternational")||r.includes("tlscontact")||r.includes("ustraveldocs")||r.includes("ceac.state.gov")||r.includes("gvcworld"))},tD=(t,e)=>{let n=50,r=[];const s=(e||"").toLowerCase().trim(),o=(t.officialSources||[]).filter(v=>fh(v.url,s)),a=Object.keys(Mn).find(v=>s.includes(v.toLowerCase())),l=a?Mn[a]:[];(l.length>0?o.some(v=>l.some(w=>(v.url||"").toLowerCase().includes(w))):!1)?(n+=35,r.push("Verified against official Government allow-list.")):o.length>0?(n+=25,r.push(a?"Sourced from partner domains.":"Verified via official Government TLDs.")):(n-=30,r.push(" No official government sources verified."));const h=String(t.cost||"").toLowerCase();h&&/\d/.test(h)&&!h.includes("vary")&&(n+=5);const m=String(t.processingTime||"");m&&/\d/.test(m)&&(n+=5);const g=String(t.notes||"").toLowerCase();return(g.includes("vfs")||g.includes("bls"))&&(n+=5),n=Math.min(Math.max(n,10),99),{score:n,analysis:r.join(" ")}},Rv=(t,e)=>{const n=(e||"").toLowerCase(),r=Object.keys(Mn).find(s=>n.includes(s.toLowerCase()));return r&&Mn[r].some(i=>String(t).toLowerCase().includes(i))?"Gold":t.includes(".gov")||t.includes(".europa.eu")?"Silver":"Bronze"},qe=(t,e="")=>t==null?e:String(t).trim(),nD=async(t,e,n,r)=>{var P,A,x,k,D,U;const s=Rs(),i=(n||"").trim(),o=Zp(),a=mT(),l=Object.keys(Mn).find(V=>i.toLowerCase().includes(V.toLowerCase())),c=l?Mn[l].join(", "):"Official government websites, embassies, or consulates",h=`
    You are the "EEC Chief Immigration Officer", a specialized AI for Indian citizens.
    Current Date: ${o}.
    
    CRITICAL E-E-A-T MANDATE:
    1.  LEGAL CITATIONS: You MUST cite specific immigration acts where possible (e.g. "Section 214(b) of INA" for USA, "Immigration Rules Appendix V" for UK).
    2.  SOURCE TRUTH: Prioritize specific government sources if available. For ${i}, look for: ${c}.
    3.  IGNORE AGGREGATORS: Do not look at Atlys, iVisa, Wikipedia.
    4.  CONTEXT: User is an Indian Citizen from ${e}.
    5.  OUTPUT: Return raw JSON ONLY matching the provided structure.
  `,m=`
    Report on ${r} visa for ${i} (Indian Passport).
    Context: Today is ${o}. Ensure all data (fees, processing times) is current as of ${a}.
    Search Query: "Official ${i} visa requirements for Indian citizens ${e} government consulate ${a}"
    Search Query: "Official visa fees ${i} India ${a}"
    Search Query: "${i} visa rejection reasons for Indian students ${a}"

    Return the response as a VALID JSON Object with the following structure:
    {
        "visaName": "string",
        "status": "string",
        "duration": "string",
        "validity": "string",
        "cost": "string",
        "processingTime": "string",
        "summary": "string",
        "documents": ["string", "string"],
        "processSteps": ["string", "string"],
        "difficulty": "Easy" | "Medium" | "Hard",
        "financialReqs": "string",
        "photoReqs": "string",
        "insuranceReqs": "string",
        "accommodationReqs": "string",
        "notes": "string",
        "embassyContact": "string",
        "officialSources": [{ "title": "string", "url": "string" }],
        "lastUpdate": "string",
        "confidenceScore": number,
        "aiAnalysis": "string",
        "legalCitations": ["string"],
        "rejectionRisk": {
            "probability": "Low" | "Moderate" | "High",
            "primaryReason": "string",
            "mitigationTip": "string"
        }
    }
  `;let g;try{g=await s.models.generateContent({model:"gemini-2.5-flash",contents:m,config:{systemInstruction:h,tools:[{googleSearch:{}}]}})}catch(V){throw console.error("API Error during fetch:",V),new Error("Unable to connect to visa intelligence service.")}let v={visaName:`${r} Visa for ${i}`,status:"Manual Verification Required",summary:"We could not automatically verify requirements for this specific destination at this time. Please check official embassy sources directly.",documents:[],processSteps:[],officialSources:[],difficulty:"Medium",confidenceScore:0,aiAnalysis:"Data generation failed or was incomplete.",cost:"Check Embassy",validity:"Check Embassy",processingTime:"Check Embassy",duration:"Check Embassy",financialReqs:"",photoReqs:"",insuranceReqs:"",accommodationReqs:"",notes:"Automated verification failed."};try{let V="";if(g&&g.candidates&&g.candidates.length>0)try{V=(g.text||"{}").trim()}catch{V=((x=(A=(P=g.candidates[0].content)==null?void 0:P.parts)==null?void 0:A[0])==null?void 0:x.text)||"{}"}else V="{}";const T=V.match(/```json([\s\S]*?)```/)||V.match(/```([\s\S]*?)```/);if(T)V=T[1];else{const S=V.indexOf("{"),b=V.lastIndexOf("}");S!==-1&&b!==-1&&(V=V.substring(S,b+1))}const E=JSON.parse(V);E&&typeof E=="object"&&!Array.isArray(E)&&(v={...v,...E})}catch(V){console.warn("Gemini returned invalid JSON. Using partial fallback.",V)}v.documents=Array.isArray(v.documents)?v.documents.filter(V=>V!=null).map(String):[],v.processSteps=Array.isArray(v.processSteps)?v.processSteps.filter(V=>V!=null).map(String):[],v.legalCitations=Array.isArray(v.legalCitations)?v.legalCitations.filter(V=>V!=null).map(String):[],Array.isArray(v.officialSources)?v.officialSources=v.officialSources.filter(V=>V&&typeof V=="object").map(V=>({title:qe(V.title,"Official Source"),url:qe(V.url,""),authorityLevel:V.authorityLevel})):v.officialSources=[],v.processingTime=qe(v.processingTime,"Check Embassy"),v.cost=qe(v.cost,"Check Embassy"),v.validity=qe(v.validity,"Check Embassy"),v.duration=qe(v.duration,"Check Embassy"),v.status=qe(v.status,"Check Embassy"),v.visaName=qe(v.visaName,`${r} Visa`),v.notes=qe(v.notes),v.embassyContact=qe(v.embassyContact),v.summary=qe(v.summary,"Details unavailable."),v.financialReqs=qe(v.financialReqs),v.photoReqs=qe(v.photoReqs),v.insuranceReqs=qe(v.insuranceReqs),v.accommodationReqs=qe(v.accommodationReqs),v.aiAnalysis=qe(v.aiAnalysis),v.difficulty=["Easy","Medium","Hard"].includes(v.difficulty)?v.difficulty:"Medium",v.confidenceScore=typeof v.confidenceScore=="number"?v.confidenceScore:50,!v.rejectionRisk||typeof v.rejectionRisk!="object"?v.rejectionRisk={probability:"Moderate",primaryReason:"Generic Documentation Errors",mitigationTip:"Ensure all documents are original and verifiable."}:(v.rejectionRisk.probability=qe(v.rejectionRisk.probability,"Moderate"),v.rejectionRisk.primaryReason=qe(v.rejectionRisk.primaryReason,"Standard Scrutiny"),v.rejectionRisk.mitigationTip=qe(v.rejectionRisk.mitigationTip,"Check official guidelines."));let w=[];g&&((U=(D=(k=g.candidates)==null?void 0:k[0])==null?void 0:D.groundingMetadata)!=null&&U.groundingChunks)&&(w=(g.candidates[0].groundingMetadata.groundingChunks||[]).filter(T=>{var E,S;return((E=T.web)==null?void 0:E.uri)&&((S=T.web)==null?void 0:S.title)}).map(T=>({title:String(T.web.title),url:String(T.web.uri),authorityLevel:Rv(String(T.web.uri),i)})).filter(T=>fh(T.url,i))),v.officialSources&&v.officialSources.filter(T=>fh(T.url,i)).forEach(T=>{w.some(E=>E.url===T.url)||w.push({...T,authorityLevel:Rv(T.url,i)})}),v.officialSources=w;const I=tD(v,i);return v.confidenceScore=I.score,v.aiAnalysis=I.analysis,v},rD=async(t,e)=>{const n=Rs(),r=`Identify the Indian State for these coordinates: Latitude ${t}, Longitude ${e}. Return ONLY the state name.`,s=await n.models.generateContent({model:"gemini-2.5-flash",contents:r});return qe(s.text).replace(/['".]/g,"")||""},sD=async(t,e)=>{const n=Rs(),r=`Translate values to ${e}. Keep keys English. Object: ${JSON.stringify(t)}`,s=await n.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}});let i={};try{i=JSON.parse(s.text||"{}")}catch{i={}}const o={...t,...i};return o.documents=Array.isArray(o.documents)?o.documents.map(String):t.documents,o.processSteps=Array.isArray(o.processSteps)?o.processSteps.map(String):t.processSteps,o},iD=async(t,e,n,r)=>{const s=Rs(),i=`Create a strict "Forensic Document Checklist" for ${r} visa to ${n} for a resident of ${e}, ${t}. Focus on rejection reasons.`,o=await s.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:mt.ARRAY,items:{type:mt.OBJECT,properties:{categoryName:{type:mt.STRING},items:{type:mt.ARRAY,items:{type:mt.OBJECT,properties:{item:{type:mt.STRING},description:{type:mt.STRING},isCritical:{type:mt.BOOLEAN}}}}}}}}});try{const a=JSON.parse(o.text||"[]");return Array.isArray(a)?a:[]}catch{return[]}},oD=async(t,e,n,r,s)=>{const i=Rs(),o=qe(s).toLowerCase(),a=Zp(),l=Object.keys(Mn).find(w=>o.includes(w.toLowerCase())),c=l?Mn[l]:[];let h="";c.length>0?h=`
        STRICT GROUNDING RULE:
        You must prioritize and verify information against these OFFICIAL domains: ${c.join(", ")}.
        If you need to search for new information, REJECT any source that is not a government (.gov) site or one of the listed domains.
        `:h=`
        STRICT GROUNDING RULE:
        As specific URL rules are not pre-configured for ${s}, you must strictly adhere to this heuristic:
        1. TRUST ONLY: Websites ending in .gov, .gob, .gouv, .mil, .int, or official VFS/BLS/TLS partner sites.
        2. REJECT: Blogs, News sites, Wikipedia, iVisa, Atlys, and other aggregators.
        3. TRANSPARENCY: If you cannot find the answer on an official government site, explicitly state: "I cannot verify this with an official government source."
        `;const m=`
    You are the **EEC Expert Visa Consultant** from **Enbee Education Center (EEC)**, Gujarat's premier study abroad consultancy (Est. 1997).
    Current Date: ${a}.
    
    Context Data: ${JSON.stringify(n)}.
    User Language: ${r}.
    Destination: ${s}.
    
    ${h}

    BEHAVIOR:
    1. BRAND AUTHORITY: Always speak with the senior authority of EEC. You are NOT a generic AI. You are a consultant with 27 years of legacy.
    2. FORENSIC TONE: Use terms like "Consular Protocol", "Risk Assessment", "Financial Forensics", and "Documentation Integrity".
    3. SOURCE CITATION: When providing facts (fees, documents), cite the source domain in brackets e.g. [travel.state.gov].
    4. JURISDICTION AWARENESS: Always check the user's state (${n.embassyContact}) before advising on where to apply.
    5. If the user asks a NEW question, use the Google Search tool.
    6. ALWAYS apply the STRICT GROUNDING RULE to search results.
    `;return(await i.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:m,tools:[{googleSearch:{}}]},history:t}).sendMessage({message:e})).text||"No response generated."},aD=async(t,e)=>{const n=Rs();if(e==="English")return t;const r=`Translate to ${e}: ${t}`;return(await n.models.generateContent({model:"gemini-2.5-flash",contents:r})).text||t},lD=async(t,e)=>{const n=Rs(),r=Zp(),s=mT(),i=`
    Act as the Chief Consular Officer for Enbee Education Center (Est 1997).
    Generate a strict "Internal Visa Bulletin" for ${t} ${e} Visa for Indian applicants.
    Context: Today is ${r}.
    
    Return VALID JSON ONLY:
    {
      "bulletinId": "EEC-${s}-[RANDOM_4_DIGIT]",
      "riskLevel": "Low" | "Medium" | "High",
      "economicTiesAnalysis": "2 sentences on what proves 'Economic Ties' specifically for ${t}.",
      "consularPsychology": "2 sentences on what the Visa Officer is subconsciously looking for in the interview.",
      "documentForensics": {
          "document": "Name of 1 specific sensitive document (e.g. Bank Statement)",
          "forgeryErrorReason": "1 common forensic error or forgery reason to avoid"
      },
      "recentPolicyShift": "Mention 1 recent or upcoming policy change/trend for ${s}."
    }
    `;try{const o=await n.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json"}}),a=JSON.parse(o.text||"{}");return a.riskLevel&&!["Low","Medium","High"].includes(a.riskLevel)&&(a.riskLevel="Medium"),a}catch(o){return console.error("Bulletin Gen Error",o),{bulletinId:"EEC-AUTO-FAIL",riskLevel:"Medium",economicTiesAnalysis:"Standard financial proof required.",consularPsychology:"Confidence and clarity are key.",documentForensics:"Ensure all bank statements are original.",recentPolicyShift:"Standard scrutiny applies."}}},Uu=[{"@type":"EducationalOrganization",name:"EEC Alkapuri",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor,B-Wing,Windsor Plaza, Rc Dutt Rd, Alkapuri, Vadodara",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8000506539",url:"https://Wa.Me/918000506539"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750036",url:"https://Wa.Me/918758750036"}],counselors:[{name:"Tabassum Khan",phone:"8758750036",email:"eeccouns009@gmail.com"},{name:"Tanvi Pathak",phone:"8758880430",email:"eeccouns60@gmail.com"}],hasMap:"https://maps.app.goo.gl/2Fw9ZqQ2cxPnc7oG7",identifier:"1"},{"@type":"EducationalOrganization",name:"EEC Nizampura",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Procube Complex, Nizampura Rd, Above Gsrtc Bus Station, Nizampura Main Road, Vadodara.",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758753333",url:"https://Wa.Me/918758753333"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 9375974748",url:"https://Wa.Me/919375974748"}],counselors:[{name:"Janvi Mahajan",phone:"8758880045",email:"eecapply15@gmail.com"},{name:"Riddhesh Vyas",phone:"8758880590",email:"eeccouns57@gmail.com"},{name:"Kedar Bhatt",phone:"8758880073",email:"eeccouns58@gmail.com"},{name:"Jeel Patel",phone:"",email:"eecapply14@gmail.com"}],hasMap:"https://maps.app.goo.gl/YdvZNZxtHWd2yc8c6",identifier:"2"},{"@type":"EducationalOrganization",name:"EEC Manjalpur",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Infinity Arcade Opposite Pratapnagar Police Hq Ongc Dairy Road, Manjalpur, Vadodara.",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750037",url:"https://Wa.Me/918758750037"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758884882",url:"https://Wa.Me/918758884882"}],counselors:[{name:"Nilay Kapadiya",phone:"8758880015",email:"eeccouns39@gmail.com"}],hasMap:"https://maps.app.goo.gl/UnPqodGxMcrEo3Fz5",identifier:"3"},{"@type":"EducationalOrganization",name:"EEC Manjalpur",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Infinity Arcade Opposite Pratapnagar Police Hq Ongc Dairy Road, Manjalpur, Vadodara.",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750037",url:"https://Wa.Me/918758750037"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758884882",url:"https://Wa.Me/918758884882"}],counselors:[{name:"Himani Soni",phone:"8758884882",email:"eeccouns026@gmail.com"}],hasMap:"https://maps.app.goo.gl/UnPqodGxMcrEo3Fz5",identifier:"11"},{"@type":"EducationalOrganization",name:"EEC New Vip Road",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Shree Siddheshwar Plaza, New Vip Rd, Sheshnarayan Society, Sardar Estate, Sayaji Park Society, Vadodara.",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750040",url:"https://Wa.Me/918758750040"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880034",url:"https://Wa.Me/918758880034"}],counselors:[{name:"Jaymika Patel",phone:"8758880034",email:"eeccouns005@gmail.com"}],hasMap:"https://maps.app.goo.gl/KuJKjF8j3HPnjaDf6",identifier:"4"},{"@type":"EducationalOrganization",name:"EEC Nadiad",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Nexus 2, College Rd, Opposite Mcdonalds, Nadiad",addressLocality:"Nadiad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880010",url:"https://Wa.Me/918758880010"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880670",url:"https://Wa.Me/918758880670"}],counselors:[{name:"Ayushi Makwana",phone:"8758880010",email:"eeccouns34@gmail.com"},{name:"Dhruti Kabra",phone:"87588 80670",email:"eecaustralia01@gmail.com"}],hasMap:"https://maps.app.goo.gl/RTNfRzf4G8Tdejrz5",identifier:"5"},{"@type":"EducationalOrganization",name:"EEC Vallabh Vidyanagar Anand",address:{"@type":"PostalAddress",streetAddress:"1St Floor, Sigma Prime Complex, Above Royal Enfield, Sardar Patel Statue Circle, Janta Road, Vallabh Vidyanagar, Anand",addressLocality:"Anand",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758882884",url:"https://Wa.Me/918758882884"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758882884",url:"https://Wa.Me/918758882884"}],counselors:[{name:"Anuj Sir",phone:"8758750014",email:"eecvvnusa@gmail.com"},{name:"Kavita Pillai",phone:"8758882884",email:"eeccouns35@gmail.com"}],hasMap:"https://maps.app.goo.gl/DQ6cuxAXGSncLrYbA",identifier:"6"},{"@type":"EducationalOrganization",name:"EEC Parvat Patia (Dumbhal)",address:{"@type":"PostalAddress",streetAddress:"Ug10, Ams, Shri Vardhan Textile Market Above Zudio & Opp. Samrat International School, Dumbhal, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880210",url:"https://Wa.Me/918758880210"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880210",url:"https://Wa.Me/918758880210"}],counselors:[{name:"Vidhi Vaghela",phone:"8758880210",email:"eecparvatpatiya@gmail.com"}],hasMap:"https://maps.app.goo.gl/v4X4Xn9drJngRj2h9",identifier:"7"},{"@type":"EducationalOrganization",name:"EEC Mota Varachha",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Opera Business Hub, Lajamni Chowk, Mota Varachha, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750018",url:"https://Wa.Me/918758750018"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880035",url:"https://Wa.Me/918758880035"}],counselors:[{name:"Priya Parsaniya",phone:"8758880035",email:"eecvarachacanada@gmail.com"}],hasMap:"https://maps.app.goo.gl/zhgM8HA2CjJu8c6m9",identifier:"8"},{"@type":"EducationalOrganization",name:"EEC Katargam",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Neeru Farms, Rajhans Flamingo, Gajera Rd, Priya Park Society, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880160",url:"https://Wa.Me/918758880160"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880630",url:"https://Wa.Me/918758880630"}],counselors:[{name:"Gaurang Badhivala",phone:"8758880630",email:"eeccouns49@gmail.com"}],hasMap:"https://maps.app.goo.gl/6NfEPdx7ThDbkjtm8",identifier:"9"},{"@type":"EducationalOrganization",name:"EEC Ghod Dod Road",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Jade Blue Union Square, Ghod Dod Rd, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758757777",url:"https://Wa.Me/918758757777"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880170",url:"https://Wa.Me/918758880170"}],counselors:[{name:"Sejal Chavda",phone:"9227112456",email:"eeccouns59@gmail.com"},{name:"Foram Umrigar",phone:"8758880170",email:"eeccouns017@gmail.com"}],hasMap:"https://maps.app.goo.gl/C3wzygXWeAHW6b8t5",identifier:"10"},{"@type":"EducationalOrganization",name:"EEC Vesu",address:{"@type":"PostalAddress",streetAddress:"1St Floor, International Finance Centre, Ifc, Vip Rd, Vesu, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750029",url:"https://Wa.Me/918758750029"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750029",url:"https://Wa.Me/918758750029"}],counselors:[{name:"Prachi Jain",phone:"8758750029",email:"eecvesu@gmail.com"}],hasMap:"https://maps.app.goo.gl/dNUVu7cD7nE4mbcBA",identifier:"11"},{"@type":"EducationalOrganization",name:"EEC Vapi",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Eec, Isquare Building, Daman Rd, Opposite Axis Bank, Daulat Nagar,Vapi",addressLocality:"Vapi",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880040",url:"https://Wa.Me/918758880040"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880040",url:"https://Wa.Me/918758880040"}],counselors:[{name:"Aditya Singh",phone:"8758880040",email:"eecvisavapi@gmail.com"}],hasMap:"https://maps.app.goo.gl/YiLTBLZhCm6rBdnD8",identifier:"12"},{"@type":"EducationalOrganization",name:"EEC Navsari",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Sachi Arcade Opp. Prajapati Ashram, Khumbharwad, Navsari",addressLocality:"Navsari",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880055",url:"https://Wa.Me/918758880055"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880055",url:"https://Wa.Me/918758880055"}],counselors:[{name:"Shrushti Lad",phone:"8758880055",email:"eeccouns48@gmail.com"},{name:"",phone:"",email:"eecnavsarivisa@gmail.com"},{name:"Shrushti Gandhi",phone:"6355511406",email:"eeccouns42@gmail.com"}],hasMap:"https://maps.app.goo.gl/MS9E6Rc53e8LA9Ly7",identifier:"13"},{"@type":"EducationalOrganization",name:"EEC Bharuch",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Shalimar Complex, Above Reliance Mart, Station Road, Bharuch",addressLocality:"Bharuch",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758884889",url:"https://Wa.Me/918758884889"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758884889",url:"https://Wa.Me/918758884889"}],counselors:[{name:"Darshan Raj",phone:"8758884889",email:"eecbharuchvisa@gmail.com"}],hasMap:"https://maps.app.goo.gl/VBAtqRoL3PiH4oBL9",identifier:"14"},{"@type":"EducationalOrganization",name:"EEC Memnagar",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Satya One, Opp. Manav Mandir, Helmet Circle, Memnagar, Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758883889",url:"https://Wa.Me/918758883889"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880310",url:"https://Wa.Me/918758880310"}],counselors:[{name:"Vishwa Shah",phone:"8758880100",email:"eecukahmvisa@gmail.com"},{name:"Krima Nayak",phone:"8758880490",email:"eeccouns54@gmail.com"},{name:"Sumit Ahuja",phone:"8758880310",email:"eeccouns032@gmail.com"},{name:"Harshil Desai",phone:"8758880510",email:"eecghatlodiyavisa01@gmail.com"}],hasMap:"https://maps.app.goo.gl/HabxCB5xTpg2CDwg6",identifier:"15"},{"@type":"EducationalOrganization",name:"EEC Ghatlodiya",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Shayona Sarvopari Shayona City, R.C. Technical Road Shayona City, Road, Ghatlodiya, Chanakyapuri, Ahmedabad,",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880710",url:"https://Wa.Me/918758880710"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880510",url:"https://Wa.Me/918758880510"}],counselors:[{name:"Astha Dhrangu",phone:"8758880018",email:"eecghatlodiyavisa@gmail.com"}],hasMap:"https://maps.app.goo.gl/svz3SdkthSb6k1Kd6",identifier:"16"},{"@type":"EducationalOrganization",name:"EEC Chandkheda",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Sigma Arcade, Above Vijay Sales, Near Visat Circle, Chandkheda , Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750010",url:"https://Wa.Me/918758750010"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750010",url:"https://Wa.Me/918758750010"}],counselors:[{name:"Sonal Shah",phone:"8758750010",email:"eecchandkheda@gmail.com"}],hasMap:"https://maps.app.goo.gl/y1ARGMfmyjMxun728",identifier:"17"},{"@type":"EducationalOrganization",name:"EEC Maninagar",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Prism Building, Below Apple Cinema, Shah Alam Tolnaka, Kankaria, Ahmedabad.",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 7096083333",url:"https://Wa.Me/917096083333"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880015",url:"https://Wa.Me/918758880015"}],counselors:[{name:"Nilay Kapadiya",phone:"8758880015",email:"eeccouns39@gmail.com"}],hasMap:"https://maps.app.goo.gl/zHAm836PeUWRQDDh7",identifier:"18"},{"@type":"EducationalOrganization",name:"EEC Odhav",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Kahan Commercial Complex, Sardar Patel Ring Rd, Above Vijay Sales, Gokul Nagar, Adinath Nagar, Odhav, Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758881885",url:"https://Wa.Me/918758881885"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758881885",url:"https://Wa.Me/918758881885"}],counselors:[{name:"Akib Vahora",phone:"8758881885",email:"eeccouns55@gmail.com"},{name:"Gurpreet Khalsa",phone:"8758880570",email:"eeccouns38@gmail.com"}],hasMap:"https://maps.app.goo.gl/AM2hxunaJJw1mQes5",identifier:"19"},{"@type":"EducationalOrganization",name:"EEC Nikol",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Suvas Scala, Opp. Nikol Police Station, Nikol, Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880700",url:"https://Wa.Me/918758880700"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880700",url:"https://Wa.Me/918758880700"}],counselors:[{name:"Vaibhavi Gajjar",phone:"8758880700",email:"eecnikolvisa@gmail.com"}],hasMap:"https://maps.app.goo.gl/wmFoU7EjVnZ6fUBU6",identifier:"20"},{"@type":"EducationalOrganization",name:"EEC Bapunagar",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, White House, India Colony Road, Opposite Swaminarayan Mandir,Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880320",url:"https://Wa.Me/918758880320"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880390",url:"https://Wa.Me/918758880390"}],counselors:[{name:"Simmy Pandey",phone:"8758880390",email:"eecbapunagarvisa01@gmail.com"},{name:"Jeel Jain",phone:"8758880390",email:"eecbapunagarvisa01@gmail.com"}],hasMap:"https://maps.app.goo.gl/TrwUQNXy2u2QA7vWA",identifier:"21"},{"@type":"EducationalOrganization",name:"EEC Naroda",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Sahitya Hills & Icon, Above Style Up Store, Muktidham Char Rasta, Vasant Vihar 2, Naroda, Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880730",url:"https://Wa.Me/918758880730"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880730",url:"https://Wa.Me/918758880730"}],counselors:[{name:"Rachita Vyas",phone:"8758880032",email:"eecnarodavisa@gmail.com"}],hasMap:"https://maps.app.goo.gl/Ec65JHFzi4cy1e459",identifier:"22"},{"@type":"EducationalOrganization",name:"EEC Kalol",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Above Raymond, Near Hdfc Bank, Navjivan Mill Compound, Memon Market, Kalol",addressLocality:"Kalol",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750090",url:"https://Wa.Me/918758750090"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750090",url:"https://Wa.Me/918758750090"}],counselors:[{name:"Hiral Barot",phone:"8758750090",email:"eeckalol@gmail.com"}],hasMap:"https://maps.app.goo.gl/J7JbtSYwE9rRkXbi9",identifier:"23"},{"@type":"EducationalOrganization",name:"EEC Himatnagar",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Platinum Square Building, Opposite Post Office, Himatnagar",addressLocality:"Himatnagar",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750080",url:"https://Wa.Me/918758750080"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880080",url:"https://Wa.Me/918758880080"}],counselors:[{name:"Nishank Doshi",phone:"8758750080",email:"eechimatnagar@gmail.com"}],hasMap:"https://maps.app.goo.gl/KcBi8DfDZ4mzsnnu5",identifier:"24"},{"@type":"EducationalOrganization",name:"EEC Mehsana",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Perfect Plaza, Near Aayush Hospital, Radhanpur Road, Mehsana",addressLocality:"Mehsana",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880886",url:"https://Wa.Me/918758880886"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880069",url:"https://Wa.Me/918758880069"}],counselors:[{name:"Honey",phone:"8758880069",email:"eecahmusa@gmail.com"}],hasMap:"https://maps.app.goo.gl/HACNeuMnYg56HdTf6",identifier:"25"},{"@type":"EducationalOrganization",name:"EEC Visnagar",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Above Shukan Restaurant Visnagar Kheralu Road, Visnagar",addressLocality:"Visnagar",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750086",url:"https://Wa.Me/918758750086"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750086",url:"https://Wa.Me/918758750086"}],counselors:[{name:"No counselor listed",phone:"8758750086",email:""}],hasMap:"https://maps.app.goo.gl/WYhAJgDMYTwbLHUY6",identifier:"26"}],uD=()=>{};var bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,m=(i&3)<<4|a>>4;let g=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(g=64)),r.push(n[h],n[m],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||m==null)throw new dD;const g=i<<2|a>>4;if(r.push(g),c!==64){const v=a<<4&240|c>>2;if(r.push(v),m!==64){const w=c<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fD=function(t){const e=gT(t);return yT.encodeByteArray(e,!0)},Fu=function(t){return fD(t).replace(/\./g,"")},vT=function(t){try{return yT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=()=>hD().__FIREBASE_DEFAULTS__,mD=()=>{if(typeof process>"u"||typeof bv>"u")return;const t=bv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vT(t[1]);return e&&JSON.parse(e)},Ac=()=>{try{return uD()||pD()||mD()||gD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_T=t=>{var e,n;return(n=(e=Ac())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yD=t=>{const e=_T(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wT=()=>{var t;return(t=Ac())==null?void 0:t.config},ET=t=>{var e;return(e=Ac())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fu(JSON.stringify(n)),Fu(JSON.stringify(o)),""].join(".")}const Ho={};function wD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ho))Ho[e]?t.emulator.push(e):t.prod.push(e);return t}function ED(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Pv=!1;function TT(t,e){if(typeof window>"u"||typeof document>"u"||!Gi(window.location.host)||Ho[t]===e||Ho[t]||Pv)return;Ho[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=wD().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Pv=!0,o()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=ED(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),I=n("learnmore"),P=document.getElementById(I)||document.createElement("a"),A=n("preprendIcon"),x=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;a(k),h(P,I);const D=c();l(x,A),k.append(x,w,P,D),document.body.appendChild(k)}i?(w.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function TD(){var e;const t=(e=Ac())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ID(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AD(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kD(){return!TD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ND(){try{return typeof indexedDB=="object"}catch{return!1}}function RD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="FirebaseError";class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bD,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?PD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new nr(s,a,r)}}function PD(t,e){return t.replace(MD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MD=/\{\$([^}]+)}/g;function DD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Es(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Mv(i)&&Mv(o)){if(!Es(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Mv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function VD(t,e){const n=new LD(t,e);return n.subscribe.bind(n)}class LD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jd),s.error===void 0&&(s.error=jd),s.complete===void 0&&(s.complete=jd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qD(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OD(t){return t===os?void 0:t}function qD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const GD={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},HD=de.INFO,zD={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},$D=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=zD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=HD,this._logHandler=$D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const jD=(t,e)=>e.some(n=>t instanceof n);let Dv,Vv;function WD(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KD(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,hh=new WeakMap,CT=new WeakMap,Wd=new WeakMap,tm=new WeakMap;function JD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Rr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ST.set(n,t)}).catch(()=>{}),tm.set(e,t),e}function YD(t){if(hh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hh.set(t,e)}let ph={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QD(t){ph=t(ph)}function XD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kd(this),e,...n);return CT.set(r,e.sort?e.sort():[e]),Rr(r)}:KD().includes(t)?function(...e){return t.apply(Kd(this),e),Rr(ST.get(this))}:function(...e){return Rr(t.apply(Kd(this),e))}}function ZD(t){return typeof t=="function"?XD(t):(t instanceof IDBTransaction&&YD(t),jD(t,WD())?new Proxy(t,ph):t)}function Rr(t){if(t instanceof IDBRequest)return JD(t);if(Wd.has(t))return Wd.get(t);const e=ZD(t);return e!==t&&(Wd.set(t,e),tm.set(e,t)),e}const Kd=t=>tm.get(t);function e4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Rr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Rr(o.result),l.oldVersion,l.newVersion,Rr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const t4=["get","getKey","getAll","getAllKeys","count"],n4=["put","add","delete","clear"],Jd=new Map;function Lv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=n4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||t4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Jd.set(e,i),i}QD(t=>({...t,get:(e,n,r)=>Lv(e,n)||t.get(e,n,r),has:(e,n)=>!!Lv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mh="@firebase/app",Uv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new em("@firebase/app"),i4="@firebase/app-compat",o4="@firebase/analytics-compat",a4="@firebase/analytics",l4="@firebase/app-check-compat",u4="@firebase/app-check",c4="@firebase/auth",d4="@firebase/auth-compat",f4="@firebase/database",h4="@firebase/data-connect",p4="@firebase/database-compat",m4="@firebase/functions",g4="@firebase/functions-compat",y4="@firebase/installations",v4="@firebase/installations-compat",_4="@firebase/messaging",w4="@firebase/messaging-compat",E4="@firebase/performance",x4="@firebase/performance-compat",T4="@firebase/remote-config",S4="@firebase/remote-config-compat",C4="@firebase/storage",I4="@firebase/storage-compat",A4="@firebase/firestore",k4="@firebase/ai",N4="@firebase/firestore-compat",R4="firebase",b4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="[DEFAULT]",P4={[mh]:"fire-core",[i4]:"fire-core-compat",[a4]:"fire-analytics",[o4]:"fire-analytics-compat",[u4]:"fire-app-check",[l4]:"fire-app-check-compat",[c4]:"fire-auth",[d4]:"fire-auth-compat",[f4]:"fire-rtdb",[h4]:"fire-data-connect",[p4]:"fire-rtdb-compat",[m4]:"fire-fn",[g4]:"fire-fn-compat",[y4]:"fire-iid",[v4]:"fire-iid-compat",[_4]:"fire-fcm",[w4]:"fire-fcm-compat",[E4]:"fire-perf",[x4]:"fire-perf-compat",[T4]:"fire-rc",[S4]:"fire-rc-compat",[C4]:"fire-gcs",[I4]:"fire-gcs-compat",[A4]:"fire-fst",[N4]:"fire-fst-compat",[k4]:"fire-vertex","fire-js":"fire-js",[R4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,M4=new Map,yh=new Map;function Fv(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ii(t){const e=t.name;if(yh.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;yh.set(e,t);for(const n of Ou.values())Fv(n,t);for(const n of M4.values())Fv(n,t);return!0}function nm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Va("app","Firebase",D4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=b4;function IT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw br.create("bad-app-name",{appName:String(s)});if(n||(n=wT()),!n)throw br.create("no-options");const i=Ou.get(s);if(i){if(Es(n,i.options)&&Es(r,i.config))return i;throw br.create("duplicate-app",{appName:s})}const o=new BD(s);for(const l of yh.values())o.addComponent(l);const a=new V4(n,r,o);return Ou.set(s,a),a}function AT(t=gh){const e=Ou.get(t);if(!e&&t===gh&&wT())return IT();if(!e)throw br.create("no-app",{appName:t});return e}function Pr(t,e,n){let r=P4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(o.join(" "));return}Ii(new xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="firebase-heartbeat-database",U4=1,pa="firebase-heartbeat-store";let Yd=null;function kT(){return Yd||(Yd=e4(L4,U4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Yd}async function F4(t){try{const n=(await kT()).transaction(pa),r=await n.objectStore(pa).get(NT(t));return await n.done,r}catch(e){if(e instanceof nr)Kn.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kn.warn(n.message)}}}async function Ov(t,e){try{const r=(await kT()).transaction(pa,"readwrite");await r.objectStore(pa).put(e,NT(t)),await r.done}catch(n){if(n instanceof nr)Kn.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kn.warn(r.message)}}}function NT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=1024,q4=30;class B4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>q4){const o=z4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qv(),{heartbeatsToSend:r,unsentEntries:s}=G4(this._heartbeatsCache.heartbeats),i=Fu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Kn.warn(n),""}}}function qv(){return new Date().toISOString().substring(0,10)}function G4(t,e=O4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Bv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Bv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ND()?RD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Bv(t){return Fu(JSON.stringify({version:2,heartbeats:t})).length}function z4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){Ii(new xs("platform-logger",e=>new r4(e),"PRIVATE")),Ii(new xs("heartbeat",e=>new B4(e),"PRIVATE")),Pr(mh,Uv,t),Pr(mh,Uv,"esm2020"),Pr("fire-js","")}$4("");var j4="firebase",W4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(j4,W4,"app");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,RT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function S(){}S.prototype=E.prototype,T.F=E.prototype,T.prototype=new S,T.prototype.constructor=T,T.D=function(b,N,M){for(var R=Array(arguments.length-2),X=2;X<arguments.length;X++)R[X-2]=arguments[X];return E.prototype[N].apply(b,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,S){S||(S=0);const b=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)b[N]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(N=0;N<16;++N)b[N]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=T.g[0],S=T.g[1],N=T.g[2];let M=T.g[3],R;R=E+(M^S&(N^M))+b[0]+3614090360&4294967295,E=S+(R<<7&4294967295|R>>>25),R=M+(N^E&(S^N))+b[1]+3905402710&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(S^M&(E^S))+b[2]+606105819&4294967295,N=M+(R<<17&4294967295|R>>>15),R=S+(E^N&(M^E))+b[3]+3250441966&4294967295,S=N+(R<<22&4294967295|R>>>10),R=E+(M^S&(N^M))+b[4]+4118548399&4294967295,E=S+(R<<7&4294967295|R>>>25),R=M+(N^E&(S^N))+b[5]+1200080426&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(S^M&(E^S))+b[6]+2821735955&4294967295,N=M+(R<<17&4294967295|R>>>15),R=S+(E^N&(M^E))+b[7]+4249261313&4294967295,S=N+(R<<22&4294967295|R>>>10),R=E+(M^S&(N^M))+b[8]+1770035416&4294967295,E=S+(R<<7&4294967295|R>>>25),R=M+(N^E&(S^N))+b[9]+2336552879&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(S^M&(E^S))+b[10]+4294925233&4294967295,N=M+(R<<17&4294967295|R>>>15),R=S+(E^N&(M^E))+b[11]+2304563134&4294967295,S=N+(R<<22&4294967295|R>>>10),R=E+(M^S&(N^M))+b[12]+1804603682&4294967295,E=S+(R<<7&4294967295|R>>>25),R=M+(N^E&(S^N))+b[13]+4254626195&4294967295,M=E+(R<<12&4294967295|R>>>20),R=N+(S^M&(E^S))+b[14]+2792965006&4294967295,N=M+(R<<17&4294967295|R>>>15),R=S+(E^N&(M^E))+b[15]+1236535329&4294967295,S=N+(R<<22&4294967295|R>>>10),R=E+(N^M&(S^N))+b[1]+4129170786&4294967295,E=S+(R<<5&4294967295|R>>>27),R=M+(S^N&(E^S))+b[6]+3225465664&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^S&(M^E))+b[11]+643717713&4294967295,N=M+(R<<14&4294967295|R>>>18),R=S+(M^E&(N^M))+b[0]+3921069994&4294967295,S=N+(R<<20&4294967295|R>>>12),R=E+(N^M&(S^N))+b[5]+3593408605&4294967295,E=S+(R<<5&4294967295|R>>>27),R=M+(S^N&(E^S))+b[10]+38016083&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^S&(M^E))+b[15]+3634488961&4294967295,N=M+(R<<14&4294967295|R>>>18),R=S+(M^E&(N^M))+b[4]+3889429448&4294967295,S=N+(R<<20&4294967295|R>>>12),R=E+(N^M&(S^N))+b[9]+568446438&4294967295,E=S+(R<<5&4294967295|R>>>27),R=M+(S^N&(E^S))+b[14]+3275163606&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^S&(M^E))+b[3]+4107603335&4294967295,N=M+(R<<14&4294967295|R>>>18),R=S+(M^E&(N^M))+b[8]+1163531501&4294967295,S=N+(R<<20&4294967295|R>>>12),R=E+(N^M&(S^N))+b[13]+2850285829&4294967295,E=S+(R<<5&4294967295|R>>>27),R=M+(S^N&(E^S))+b[2]+4243563512&4294967295,M=E+(R<<9&4294967295|R>>>23),R=N+(E^S&(M^E))+b[7]+1735328473&4294967295,N=M+(R<<14&4294967295|R>>>18),R=S+(M^E&(N^M))+b[12]+2368359562&4294967295,S=N+(R<<20&4294967295|R>>>12),R=E+(S^N^M)+b[5]+4294588738&4294967295,E=S+(R<<4&4294967295|R>>>28),R=M+(E^S^N)+b[8]+2272392833&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^S)+b[11]+1839030562&4294967295,N=M+(R<<16&4294967295|R>>>16),R=S+(N^M^E)+b[14]+4259657740&4294967295,S=N+(R<<23&4294967295|R>>>9),R=E+(S^N^M)+b[1]+2763975236&4294967295,E=S+(R<<4&4294967295|R>>>28),R=M+(E^S^N)+b[4]+1272893353&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^S)+b[7]+4139469664&4294967295,N=M+(R<<16&4294967295|R>>>16),R=S+(N^M^E)+b[10]+3200236656&4294967295,S=N+(R<<23&4294967295|R>>>9),R=E+(S^N^M)+b[13]+681279174&4294967295,E=S+(R<<4&4294967295|R>>>28),R=M+(E^S^N)+b[0]+3936430074&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^S)+b[3]+3572445317&4294967295,N=M+(R<<16&4294967295|R>>>16),R=S+(N^M^E)+b[6]+76029189&4294967295,S=N+(R<<23&4294967295|R>>>9),R=E+(S^N^M)+b[9]+3654602809&4294967295,E=S+(R<<4&4294967295|R>>>28),R=M+(E^S^N)+b[12]+3873151461&4294967295,M=E+(R<<11&4294967295|R>>>21),R=N+(M^E^S)+b[15]+530742520&4294967295,N=M+(R<<16&4294967295|R>>>16),R=S+(N^M^E)+b[2]+3299628645&4294967295,S=N+(R<<23&4294967295|R>>>9),R=E+(N^(S|~M))+b[0]+4096336452&4294967295,E=S+(R<<6&4294967295|R>>>26),R=M+(S^(E|~N))+b[7]+1126891415&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~S))+b[14]+2878612391&4294967295,N=M+(R<<15&4294967295|R>>>17),R=S+(M^(N|~E))+b[5]+4237533241&4294967295,S=N+(R<<21&4294967295|R>>>11),R=E+(N^(S|~M))+b[12]+1700485571&4294967295,E=S+(R<<6&4294967295|R>>>26),R=M+(S^(E|~N))+b[3]+2399980690&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~S))+b[10]+4293915773&4294967295,N=M+(R<<15&4294967295|R>>>17),R=S+(M^(N|~E))+b[1]+2240044497&4294967295,S=N+(R<<21&4294967295|R>>>11),R=E+(N^(S|~M))+b[8]+1873313359&4294967295,E=S+(R<<6&4294967295|R>>>26),R=M+(S^(E|~N))+b[15]+4264355552&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~S))+b[6]+2734768916&4294967295,N=M+(R<<15&4294967295|R>>>17),R=S+(M^(N|~E))+b[13]+1309151649&4294967295,S=N+(R<<21&4294967295|R>>>11),R=E+(N^(S|~M))+b[4]+4149444226&4294967295,E=S+(R<<6&4294967295|R>>>26),R=M+(S^(E|~N))+b[11]+3174756917&4294967295,M=E+(R<<10&4294967295|R>>>22),R=N+(E^(M|~S))+b[2]+718787259&4294967295,N=M+(R<<15&4294967295|R>>>17),R=S+(M^(N|~E))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.v=function(T,E){E===void 0&&(E=T.length);const S=E-this.blockSize,b=this.C;let N=this.h,M=0;for(;M<E;){if(N==0)for(;M<=S;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<E;)if(b[N++]=T.charCodeAt(M++),N==this.blockSize){s(this,b),N=0;break}}else for(;M<E;)if(b[N++]=T[M++],N==this.blockSize){s(this,b),N=0;break}}this.h=N,this.o+=E},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;E=this.o*8;for(var S=T.length-8;S<T.length;++S)T[S]=E&255,E/=256;for(this.v(T),T=Array(16),E=0,S=0;S<4;++S)for(let b=0;b<32;b+=8)T[E++]=this.g[S]>>>b&255;return T};function i(T,E){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=E(T)}function o(T,E){this.h=E;const S=[];let b=!0;for(let N=T.length-1;N>=0;N--){const M=T[N]|0;b&&M==E||(S[N]=M,b=!1)}this.g=S}var a={};function l(T){return-128<=T&&T<128?i(T,function(E){return new o([E|0],E<0?-1:0)}):new o([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return P(c(-T));const E=[];let S=1;for(let b=0;T>=S;b++)E[b]=T/S|0,S*=4294967296;return new o(E,0)}function h(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return P(h(T.substring(1),E));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(E,8));let b=m;for(let M=0;M<T.length;M+=8){var N=Math.min(8,T.length-M);const R=parseInt(T.substring(M,M+N),E);N<8?(N=c(Math.pow(E,N)),b=b.j(N).add(c(R))):(b=b.j(S),b=b.add(c(R)))}return b}var m=l(0),g=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-P(this).m();let T=0,E=1;for(let S=0;S<this.g.length;S++){const b=this.i(S);T+=(b>=0?b:4294967296+b)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(I(this))return"-"+P(this).toString(T);const E=c(Math.pow(T,6));var S=this;let b="";for(;;){const N=D(S,E).g;S=A(S,N.j(E));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(T);if(S=N,w(S))return M+b;for(;M.length<6;)M="0"+M;b=M+b}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(let E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=A(this,T),I(T)?-1:w(T)?0:1};function P(T){const E=T.g.length,S=[];for(let b=0;b<E;b++)S[b]=~T.g[b];return new o(S,~T.h).add(g)}t.abs=function(){return I(this)?P(this):this},t.add=function(T){const E=Math.max(this.g.length,T.g.length),S=[];let b=0;for(let N=0;N<=E;N++){let M=b+(this.i(N)&65535)+(T.i(N)&65535),R=(M>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);b=R>>>16,M&=65535,R&=65535,S[N]=R<<16|M}return new o(S,S[S.length-1]&-2147483648?-1:0)};function A(T,E){return T.add(P(E))}t.j=function(T){if(w(this)||w(T))return m;if(I(this))return I(T)?P(this).j(P(T)):P(P(this).j(T));if(I(T))return P(this.j(P(T)));if(this.l(v)<0&&T.l(v)<0)return c(this.m()*T.m());const E=this.g.length+T.g.length,S=[];for(var b=0;b<2*E;b++)S[b]=0;for(b=0;b<this.g.length;b++)for(let N=0;N<T.g.length;N++){const M=this.i(b)>>>16,R=this.i(b)&65535,X=T.i(N)>>>16,_e=T.i(N)&65535;S[2*b+2*N]+=R*_e,x(S,2*b+2*N),S[2*b+2*N+1]+=M*_e,x(S,2*b+2*N+1),S[2*b+2*N+1]+=R*X,x(S,2*b+2*N+1),S[2*b+2*N+2]+=M*X,x(S,2*b+2*N+2)}for(T=0;T<E;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=E;T<2*E;T++)S[T]=0;return new o(S,0)};function x(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function k(T,E){this.g=T,this.h=E}function D(T,E){if(w(E))throw Error("division by zero");if(w(T))return new k(m,m);if(I(T))return E=D(P(T),E),new k(P(E.g),P(E.h));if(I(E))return E=D(T,P(E)),new k(P(E.g),E.h);if(T.g.length>30){if(I(T)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var S=g,b=E;b.l(T)<=0;)S=U(S),b=U(b);var N=V(S,1),M=V(b,1);for(b=V(b,2),S=V(S,2);!w(b);){var R=M.add(b);R.l(T)<=0&&(N=N.add(S),M=R),b=V(b,1),S=V(S,1)}return E=A(T,N.j(E)),new k(N,E)}for(N=m;T.l(E)>=0;){for(S=Math.max(1,Math.floor(T.m()/E.m())),b=Math.ceil(Math.log(S)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),M=c(S),R=M.j(E);I(R)||R.l(T)>0;)S-=b,M=c(S),R=M.j(E);w(M)&&(M=g),N=N.add(M),T=A(T,R)}return new k(N,T)}t.B=function(T){return D(this,T).h},t.and=function(T){const E=Math.max(this.g.length,T.g.length),S=[];for(let b=0;b<E;b++)S[b]=this.i(b)&T.i(b);return new o(S,this.h&T.h)},t.or=function(T){const E=Math.max(this.g.length,T.g.length),S=[];for(let b=0;b<E;b++)S[b]=this.i(b)|T.i(b);return new o(S,this.h|T.h)},t.xor=function(T){const E=Math.max(this.g.length,T.g.length),S=[];for(let b=0;b<E;b++)S[b]=this.i(b)^T.i(b);return new o(S,this.h^T.h)};function U(T){const E=T.g.length+1,S=[];for(let b=0;b<E;b++)S[b]=T.i(b)<<1|T.i(b-1)>>>31;return new o(S,T.h)}function V(T,E){const S=E>>5;E%=32;const b=T.g.length-S,N=[];for(let M=0;M<b;M++)N[M]=E>0?T.i(M+S)>>>E|T.i(M+S+1)<<32-E:T.i(M+S);return new o(N,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Mr=o}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bT,No,PT,Yl,vh,MT,DT,VT;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Al=="object"&&Al];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(f,y){if(y)e:{var _=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var L=f[C];if(!(L in _))break e;_=_[L]}f=f[f.length-1],C=_[f],y=y(C),y!=C&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(y){var _=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&_.push([C,y[C]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function l(f,y,_){return f.call.apply(f.bind,arguments)}function c(f,y,_){return c=l,c.apply(null,arguments)}function h(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function m(f,y){function _(){}_.prototype=y.prototype,f.Z=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Ob=function(C,L,O){for(var W=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)W[ue-2]=arguments[ue];return y.prototype[L].apply(C,W)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function v(f){const y=f.length;if(y>0){const _=Array(y);for(let C=0;C<y;C++)_[C]=f[C];return _}return[]}function w(f,y){for(let C=1;C<arguments.length;C++){const L=arguments[C];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=f.length||0;const O=L.length||0;f.length=_+O;for(let W=0;W<O;W++)f[_+W]=L[W]}else f.push(L)}}class I{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(f){o.setTimeout(()=>{throw f},0)}function A(){var f=T;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class x{constructor(){this.h=this.g=null}add(y,_){const C=k.get();C.set(y,_),this.h?this.h.next=C:this.g=C,this.h=C}}var k=new I(()=>new D,f=>f.reset());class D{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let U,V=!1,T=new x,E=()=>{const f=Promise.resolve(void 0);U=()=>{f.then(S)}};function S(){for(var f;f=A();){try{f.h.call(f.g)}catch(_){P(_)}var y=k;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}V=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};o.addEventListener("test",_,y),o.removeEventListener("test",_,y)}catch{}return f}();function R(f){return/^[\s\xa0]*$/.test(f)}function X(f,y){N.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}m(X,N),X.prototype.init=function(f,y){const _=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(_=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),pe=0;function ye(f,y,_,C,L){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!C,this.ha=L,this.key=++pe,this.da=this.fa=!1}function q(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function z(f,y,_){for(const C in f)y.call(_,f[C],C,f)}function $(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function ee(f){const y={};for(const _ in f)y[_]=f[_];return y}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rt(f,y){let _,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(_ in C)f[_]=C[_];for(let O=0;O<le.length;O++)_=le[O],Object.prototype.hasOwnProperty.call(C,_)&&(f[_]=C[_])}}function xe(f){this.src=f,this.g={},this.h=0}xe.prototype.add=function(f,y,_,C,L){const O=f.toString();f=this.g[O],f||(f=this.g[O]=[],this.h++);const W=ie(f,y,C,L);return W>-1?(y=f[W],_||(y.fa=!1)):(y=new ye(y,this.src,O,!!C,L),y.fa=_,f.push(y)),y};function Xe(f,y){const _=y.type;if(_ in f.g){var C=f.g[_],L=Array.prototype.indexOf.call(C,y,void 0),O;(O=L>=0)&&Array.prototype.splice.call(C,L,1),O&&(q(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function ie(f,y,_,C){for(let L=0;L<f.length;++L){const O=f[L];if(!O.da&&O.listener==y&&O.capture==!!_&&O.ha==C)return L}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),rt={};function ct(f,y,_,C,L){if(Array.isArray(y)){for(let O=0;O<y.length;O++)ct(f,y[O],_,C,L);return null}return _=eg(_),f&&f[_e]?f.J(y,_,a(C)?!!C.capture:!1,L):Zc(f,y,_,!1,C,L)}function Zc(f,y,_,C,L,O){if(!y)throw Error("Invalid event type");const W=a(L)?!!L.capture:!!L;let ue=td(f);if(ue||(f[Se]=ue=new xe(f)),_=ue.add(y,_,C,W,O),_.proxy)return _;if(C=CI(),_.proxy=C,C.src=f,C.listener=_,f.addEventListener)M||(L=W),L===void 0&&(L=!1),f.addEventListener(y.toString(),C,L);else if(f.attachEvent)f.attachEvent(Zm(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function CI(){function f(_){return y.call(f.src,f.listener,_)}const y=II;return f}function Xm(f,y,_,C,L){if(Array.isArray(y))for(var O=0;O<y.length;O++)Xm(f,y[O],_,C,L);else C=a(C)?!!C.capture:!!C,_=eg(_),f&&f[_e]?(f=f.i,O=String(y).toString(),O in f.g&&(y=f.g[O],_=ie(y,_,C,L),_>-1&&(q(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete f.g[O],f.h--)))):f&&(f=td(f))&&(y=f.g[y.toString()],f=-1,y&&(f=ie(y,_,C,L)),(_=f>-1?y[f]:null)&&ed(_))}function ed(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[_e])Xe(y.i,f);else{var _=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(_,C,f.capture):y.detachEvent?y.detachEvent(Zm(_),C):y.addListener&&y.removeListener&&y.removeListener(C),(_=td(y))?(Xe(_,f),_.h==0&&(_.src=null,y[Se]=null)):q(f)}}}function Zm(f){return f in rt?rt[f]:rt[f]="on"+f}function II(f,y){if(f.da)f=!0;else{y=new X(y,this);const _=f.listener,C=f.ha||f.src;f.fa&&ed(f),f=_.call(C,y)}return f}function td(f){return f=f[Se],f instanceof xe?f:null}var nd="__closure_events_fn_"+(Math.random()*1e9>>>0);function eg(f){return typeof f=="function"?f:(f[nd]||(f[nd]=function(y){return f.handleEvent(y)}),f[nd])}function dt(){b.call(this),this.i=new xe(this),this.M=this,this.G=null}m(dt,b),dt.prototype[_e]=!0,dt.prototype.removeEventListener=function(f,y,_,C){Xm(this,f,y,_,C)};function Tt(f,y){var _,C=f.G;if(C)for(_=[];C;C=C.G)_.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new N(y,f);else if(y instanceof N)y.target=y.target||f;else{var L=y;y=new N(C,f),Rt(y,L)}L=!0;let O,W;if(_)for(W=_.length-1;W>=0;W--)O=y.g=_[W],L=Xa(O,C,!0,y)&&L;if(O=y.g=f,L=Xa(O,C,!0,y)&&L,L=Xa(O,C,!1,y)&&L,_)for(W=0;W<_.length;W++)O=y.g=_[W],L=Xa(O,C,!1,y)&&L}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const _=f.g[y];for(let C=0;C<_.length;C++)q(_[C]);delete f.g[y],f.h--}}this.G=null},dt.prototype.J=function(f,y,_,C){return this.i.add(String(f),y,!1,_,C)},dt.prototype.K=function(f,y,_,C){return this.i.add(String(f),y,!0,_,C)};function Xa(f,y,_,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let L=!0;for(let O=0;O<y.length;++O){const W=y[O];if(W&&!W.da&&W.capture==_){const ue=W.listener,We=W.ha||W.src;W.fa&&Xe(f.i,W),L=ue.call(We,C)!==!1&&L}}return L&&!C.defaultPrevented}function AI(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=c(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:o.setTimeout(f,y||0)}function tg(f){f.g=AI(()=>{f.g=null,f.i&&(f.i=!1,tg(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class kI extends b{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:tg(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(f){b.call(this),this.h=f,this.g={}}m(Xi,b);var ng=[];function rg(f){z(f.g,function(y,_){this.g.hasOwnProperty(_)&&ed(y)},f),f.g={}}Xi.prototype.N=function(){Xi.Z.N.call(this),rg(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rd=o.JSON.stringify,NI=o.JSON.parse,RI=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function sg(){}function ig(){}var Zi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sd(){N.call(this,"d")}m(sd,N);function id(){N.call(this,"c")}m(id,N);var Xr={},og=null;function Za(){return og=og||new dt}Xr.Ia="serverreachability";function ag(f){N.call(this,Xr.Ia,f)}m(ag,N);function eo(f){const y=Za();Tt(y,new ag(y))}Xr.STAT_EVENT="statevent";function lg(f,y){N.call(this,Xr.STAT_EVENT,f),this.stat=y}m(lg,N);function St(f){const y=Za();Tt(y,new lg(y,f))}Xr.Ja="timingevent";function ug(f,y){N.call(this,Xr.Ja,f),this.size=y}m(ug,N);function to(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},y)}function no(){this.g=!0}no.prototype.ua=function(){this.g=!1};function bI(f,y,_,C,L,O){f.info(function(){if(f.g)if(O){var W="",ue=O.split("&");for(let Te=0;Te<ue.length;Te++){var We=ue[Te].split("=");if(We.length>1){const Ze=We[0];We=We[1];const gn=Ze.split("_");W=gn.length>=2&&gn[1]=="type"?W+(Ze+"="+We+"&"):W+(Ze+"=redacted&")}}}else W=null;else W=O;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+y+`
`+_+`
`+W})}function PI(f,y,_,C,L,O,W){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+y+`
`+_+`
`+O+" "+W})}function Ls(f,y,_,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+DI(f,_)+(C?" "+C:"")})}function MI(f,y){f.info(function(){return"TIMEOUT: "+y})}no.prototype.info=function(){};function DI(f,y){if(!f.g)return y;if(!y)return null;try{const O=JSON.parse(y);if(O){for(f=0;f<O.length;f++)if(Array.isArray(O[f])){var _=O[f];if(!(_.length<2)){var C=_[1];if(Array.isArray(C)&&!(C.length<1)){var L=C[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<C.length;W++)C[W]=""}}}}return rd(O)}catch{return y}}var el={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dg;function od(){}m(od,sg),od.prototype.g=function(){return new XMLHttpRequest},dg=new od;function ro(f){return encodeURIComponent(String(f))}function VI(f){var y=1;f=f.split(":");const _=[];for(;y>0&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function rr(f,y,_,C){this.j=f,this.i=y,this.l=_,this.S=C||1,this.V=new Xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fg}function fg(){this.i=null,this.g="",this.h=!1}var hg={},ad={};function ld(f,y,_){f.M=1,f.A=nl(mn(y)),f.u=_,f.R=!0,pg(f,null)}function pg(f,y){f.F=Date.now(),tl(f),f.B=mn(f.A);var _=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),Ag(_.i,"t",C),f.C=0,_=f.j.L,f.h=new fg,f.g=$g(f.j,_?y:null,!f.u),f.P>0&&(f.O=new kI(c(f.Y,f,f.g),f.P)),y=f.V,_=f.g,C=f.ba;var L="readystatechange";Array.isArray(L)||(L&&(ng[0]=L.toString()),L=ng);for(let O=0;O<L.length;O++){const W=ct(_,L[O],C||y.handleEvent,!1,y.h||y);if(!W)break;y.g[W.key]=W}y=f.J?ee(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),eo(),bI(f.i,f.v,f.B,f.l,f.S,f.u)}rr.prototype.ba=function(f){f=f.target;const y=this.O;y&&or(f)==3?y.j():this.Y(f)},rr.prototype.Y=function(f){try{if(f==this.g)e:{const ue=or(this.g),We=this.g.ya(),Te=this.g.ca();if(!(ue<3)&&(ue!=3||this.g&&(this.h.h||this.g.la()||Dg(this.g)))){this.K||ue!=4||We==7||(We==8||Te<=0?eo(3):eo(2)),ud(this);var y=this.g.ca();this.X=y;var _=LI(this);if(this.o=y==200,PI(this.i,this.v,this.B,this.l,this.S,ue,y),this.o){if(this.U&&!this.L){t:{if(this.g){var C,L=this.g;if((C=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(C)){var O=C;break t}}O=null}if(f=O)Ls(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cd(this,f);else{this.o=!1,this.m=3,St(12),Zr(this),so(this);break e}}if(this.R){f=!0;let Ze;for(;!this.K&&this.C<_.length;)if(Ze=UI(this,_),Ze==ad){ue==4&&(this.m=4,St(14),f=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==hg){this.m=4,St(15),Ls(this.i,this.l,_,"[Invalid Chunk]"),f=!1;break}else Ls(this.i,this.l,Ze,null),cd(this,Ze);if(mg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ue!=4||_.length!=0||this.h.h||(this.m=1,St(16),f=!1),this.o=this.o&&f,!f)Ls(this.i,this.l,_,"[Invalid Chunked Response]"),Zr(this),so(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),vd(W),W.P=!0,St(11))}}else Ls(this.i,this.l,_,null),cd(this,_);ue==4&&Zr(this),this.o&&!this.K&&(ue==4?Bg(this.j,this):(this.o=!1,tl(this)))}else QI(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Zr(this),so(this)}}}catch{}finally{}};function LI(f){if(!mg(f))return f.g.la();const y=Dg(f.g);if(y==="")return"";let _="";const C=y.length,L=or(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Zr(f),so(f),"";f.h.i=new o.TextDecoder}for(let O=0;O<C;O++)f.h.h=!0,_+=f.h.i.decode(y[O],{stream:!(L&&O==C-1)});return y.length=0,f.h.g+=_,f.C=0,f.h.g}function mg(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function UI(f,y){var _=f.C,C=y.indexOf(`
`,_);return C==-1?ad:(_=Number(y.substring(_,C)),isNaN(_)?hg:(C+=1,C+_>y.length?ad:(y=y.slice(C,C+_),f.C=C+_,y)))}rr.prototype.cancel=function(){this.K=!0,Zr(this)};function tl(f){f.T=Date.now()+f.H,gg(f,f.H)}function gg(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=to(c(f.aa,f),y)}function ud(f){f.D&&(o.clearTimeout(f.D),f.D=null)}rr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(MI(this.i,this.B),this.M!=2&&(eo(),St(17)),Zr(this),this.m=2,so(this)):gg(this,this.T-f)};function so(f){f.j.I==0||f.K||Bg(f.j,f)}function Zr(f){ud(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,rg(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function cd(f,y){try{var _=f.j;if(_.I!=0&&(_.g==f||dd(_.h,f))){if(!f.L&&dd(_.h,f)&&_.I==3){try{var C=_.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<f.F)al(_),il(_);else break e;yd(_),St(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=to(c(_.Va,_),6e3));_g(_.h)<=1&&_.ta&&(_.ta=void 0)}else ts(_,11)}else if((f.L||_.g==f)&&al(_),!R(y))for(L=_.Ba.g.parse(y),y=0;y<L.length;y++){let Te=L[y];const Ze=Te[0];if(!(Ze<=_.K))if(_.K=Ze,Te=Te[1],_.I==2)if(Te[0]=="c"){_.M=Te[1],_.ba=Te[2];const gn=Te[3];gn!=null&&(_.ka=gn,_.j.info("VER="+_.ka));const ns=Te[4];ns!=null&&(_.za=ns,_.j.info("SVER="+_.za));const ar=Te[5];ar!=null&&typeof ar=="number"&&ar>0&&(C=1.5*ar,_.O=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const lr=f.g;if(lr){const ul=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var O=C.h;O.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(fd(O,O.h),O.h=null))}if(C.G){const _d=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;_d&&(C.wa=_d,Ae(C.J,C.G,_d))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-f.F,_.j.info("Handshake RTT: "+_.T+"ms")),C=_;var W=f;if(C.na=zg(C,C.L?C.ba:null,C.W),W.L){wg(C.h,W);var ue=W,We=C.O;We&&(ue.H=We),ue.D&&(ud(ue),tl(ue)),C.g=W}else Og(C);_.i.length>0&&ol(_)}else Te[0]!="stop"&&Te[0]!="close"||ts(_,7);else _.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?ts(_,7):gd(_):Te[0]!="noop"&&_.l&&_.l.qa(Te),_.A=0)}}eo(4)}catch{}}var FI=class{constructor(f,y){this.g=f,this.map=y}};function yg(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vg(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function _g(f){return f.h?1:f.g?f.g.size:0}function dd(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function fd(f,y){f.g?f.g.add(y):f.h=y}function wg(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}yg.prototype.cancel=function(){if(this.i=Eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Eg(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.G);return y}return v(f.i)}var xg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OI(f,y){if(f){f=f.split("&");for(let _=0;_<f.length;_++){const C=f[_].indexOf("=");let L,O=null;C>=0?(L=f[_].substring(0,C),O=f[_].substring(C+1)):L=f[_],y(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function sr(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof sr?(this.l=f.l,io(this,f.j),this.o=f.o,this.g=f.g,oo(this,f.u),this.h=f.h,hd(this,kg(f.i)),this.m=f.m):f&&(y=String(f).match(xg))?(this.l=!1,io(this,y[1]||"",!0),this.o=ao(y[2]||""),this.g=ao(y[3]||"",!0),oo(this,y[4]),this.h=ao(y[5]||"",!0),hd(this,y[6]||"",!0),this.m=ao(y[7]||"")):(this.l=!1,this.i=new uo(null,this.l))}sr.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(lo(y,Tg,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(lo(y,Tg,!0),"@"),f.push(ro(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&f.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(lo(_,_.charAt(0)=="/"?GI:BI,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",lo(_,zI)),f.join("")},sr.prototype.resolve=function(f){const y=mn(this);let _=!!f.j;_?io(y,f.j):_=!!f.o,_?y.o=f.o:_=!!f.g,_?y.g=f.g:_=f.u!=null;var C=f.h;if(_)oo(y,f.u);else if(_=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var L=y.h.lastIndexOf("/");L!=-1&&(C=y.h.slice(0,L+1)+C)}if(L=C,L==".."||L==".")C="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){C=L.lastIndexOf("/",0)==0,L=L.split("/");const O=[];for(let W=0;W<L.length;){const ue=L[W++];ue=="."?C&&W==L.length&&O.push(""):ue==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),C&&W==L.length&&O.push("")):(O.push(ue),C=!0)}C=O.join("/")}else C=L}return _?y.h=C:_=f.i.toString()!=="",_?hd(y,kg(f.i)):_=!!f.m,_&&(y.m=f.m),y};function mn(f){return new sr(f)}function io(f,y,_){f.j=_?ao(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function oo(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function hd(f,y,_){y instanceof uo?(f.i=y,$I(f.i,f.l)):(_||(y=lo(y,HI)),f.i=new uo(y,f.l))}function Ae(f,y,_){f.i.set(y,_)}function nl(f){return Ae(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ao(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function lo(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,qI),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function qI(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Tg=/[#\/\?@]/g,BI=/[#\?:]/g,GI=/[#\?]/g,HI=/[#\?@]/g,zI=/#/g;function uo(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function es(f){f.g||(f.g=new Map,f.h=0,f.i&&OI(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}t=uo.prototype,t.add=function(f,y){es(this),this.i=null,f=Us(this,f);let _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function Sg(f,y){es(f),y=Us(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Cg(f,y){return es(f),y=Us(f,y),f.g.has(y)}t.forEach=function(f,y){es(this),this.g.forEach(function(_,C){_.forEach(function(L){f.call(y,L,C,this)},this)},this)};function Ig(f,y){es(f);let _=[];if(typeof y=="string")Cg(f,y)&&(_=_.concat(f.g.get(Us(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)_=_.concat(f[y]);return _}t.set=function(f,y){return es(this),this.i=null,f=Us(this,f),Cg(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=Ig(this,f),f.length>0?String(f[0]):y):y};function Ag(f,y,_){Sg(f,y),_.length>0&&(f.i=null,f.g.set(Us(f,y),v(_)),f.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var _=y[C];const L=ro(_);_=Ig(this,_);for(let O=0;O<_.length;O++){let W=L;_[O]!==""&&(W+="="+ro(_[O])),f.push(W)}}return this.i=f.join("&")};function kg(f){const y=new uo;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Us(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function $I(f,y){y&&!f.j&&(es(f),f.i=null,f.g.forEach(function(_,C){const L=C.toLowerCase();C!=L&&(Sg(this,C),Ag(this,L,_))},f)),f.j=y}function jI(f,y){const _=new no;if(o.Image){const C=new Image;C.onload=h(ir,_,"TestLoadImage: loaded",!0,y,C),C.onerror=h(ir,_,"TestLoadImage: error",!1,y,C),C.onabort=h(ir,_,"TestLoadImage: abort",!1,y,C),C.ontimeout=h(ir,_,"TestLoadImage: timeout",!1,y,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function WI(f,y){const _=new no,C=new AbortController,L=setTimeout(()=>{C.abort(),ir(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(O=>{clearTimeout(L),O.ok?ir(_,"TestPingServer: ok",!0,y):ir(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),ir(_,"TestPingServer: error",!1,y)})}function ir(f,y,_,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(_)}catch{}}function KI(){this.g=new RI}function pd(f){this.i=f.Sb||null,this.h=f.ab||!1}m(pd,sg),pd.prototype.g=function(){return new rl(this.i,this.h)};function rl(f,y){dt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(rl,dt),t=rl.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,fo(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||o).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ng(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ng(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?co(this):fo(this),this.readyState==3&&Ng(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,co(this))},t.Na=function(f){this.g&&(this.response=f,co(this))},t.ga=function(){this.g&&co(this)};function co(f){f.readyState=4,f.l=null,f.j=null,f.B=null,fo(f)}t.setRequestHeader=function(f,y){this.A.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function fo(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Rg(f){let y="";return z(f,function(_,C){y+=C,y+=":",y+=_,y+=`\r
`}),y}function md(f,y,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=Rg(_),typeof f=="string"?_!=null&&ro(_):Ae(f,y,_))}function Ue(f){dt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ue,dt);var JI=/^https?$/i,YI=["POST","PUT"];t=Ue.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,y,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dg.g(),this.g.onreadystatechange=g(c(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(O){bg(this,O);return}if(f=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)_.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const O of C.keys())_.set(O,C.get(O));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(O=>O.toLowerCase()=="content-type"),L=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(YI,y,void 0)>=0)||C||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,W]of _)this.g.setRequestHeader(O,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(O){bg(this,O)}};function bg(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Pg(f),sl(f)}function Pg(f){f.A||(f.A=!0,Tt(f,"complete"),Tt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Tt(this,"complete"),Tt(this,"abort"),sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sl(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Mg(this):this.Xa())},t.Xa=function(){Mg(this)};function Mg(f){if(f.h&&typeof i<"u"){if(f.v&&or(f)==4)setTimeout(f.Ca.bind(f),0);else if(Tt(f,"readystatechange"),or(f)==4){f.h=!1;try{const O=f.ca();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var C;if(C=O===0){let W=String(f.D).match(xg)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),C=!JI.test(W?W.toLowerCase():"")}_=C}if(_)Tt(f,"complete"),Tt(f,"success");else{f.o=6;try{var L=or(f)>2?f.g.statusText:""}catch{L=""}f.l=L+" ["+f.ca()+"]",Pg(f)}}finally{sl(f)}}}}function sl(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const _=f.g;f.g=null,y||Tt(f,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function or(f){return f.g?f.g.readyState:0}t.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),NI(y)}};function Dg(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function QI(f){const y={};f=(f.g&&or(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(R(f[C]))continue;var _=VI(f[C]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const O=y[L]||[];y[L]=O,O.push(_)}$(y,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ho(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function Vg(f){this.za=0,this.i=[],this.j=new no,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ho("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ho("baseRetryDelayMs",5e3,f),this.Za=ho("retryDelaySeedMs",1e4,f),this.Ta=ho("forwardChannelMaxRetries",2,f),this.va=ho("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new yg(f&&f.concurrentRequestLimit),this.Ba=new KI,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Vg.prototype,t.ka=8,t.I=1,t.connect=function(f,y,_,C){St(0),this.W=f,this.H=y||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.J=zg(this,null,this.W),ol(this)};function gd(f){if(Lg(f),f.I==3){var y=f.V++,_=mn(f.J);if(Ae(_,"SID",f.M),Ae(_,"RID",y),Ae(_,"TYPE","terminate"),po(f,_),y=new rr(f,f.j,y),y.M=2,y.A=nl(mn(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=y.A,_=!0),_||(y.g=$g(y.j,null),y.g.ea(y.A)),y.F=Date.now(),tl(y)}Hg(f)}function il(f){f.g&&(vd(f),f.g.cancel(),f.g=null)}function Lg(f){il(f),f.v&&(o.clearTimeout(f.v),f.v=null),al(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function ol(f){if(!vg(f.h)&&!f.m){f.m=!0;var y=f.Ea;U||E(),V||(U(),V=!0),T.add(y,f),f.D=0}}function XI(f,y){return _g(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=to(c(f.Ea,f,y),Gg(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const L=new rr(this,this.j,f);let O=this.o;if(this.U&&(O?(O=ee(O),Rt(O,this.U)):O=this.U),this.u!==null||this.R||(L.J=O,O=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Fg(this,L,y),_=mn(this.J),Ae(_,"RID",f),Ae(_,"CVER",22),this.G&&Ae(_,"X-HTTP-Session-Id",this.G),po(this,_),O&&(this.R?y="headers="+ro(Rg(O))+"&"+y:this.u&&md(_,this.u,O)),fd(this.h,L),this.Ra&&Ae(_,"TYPE","init"),this.S?(Ae(_,"$req",y),Ae(_,"SID","null"),L.U=!0,ld(L,_,null)):ld(L,_,y),this.I=2}}else this.I==3&&(f?Ug(this,f):this.i.length==0||vg(this.h)||Ug(this))};function Ug(f,y){var _;y?_=y.l:_=f.V++;const C=mn(f.J);Ae(C,"SID",f.M),Ae(C,"RID",_),Ae(C,"AID",f.K),po(f,C),f.u&&f.o&&md(C,f.u,f.o),_=new rr(f,f.j,_,f.D+1),f.u===null&&(_.J=f.o),y&&(f.i=y.G.concat(f.i)),y=Fg(f,_,1e3),_.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),fd(f.h,_),ld(_,C,y)}function po(f,y){f.H&&z(f.H,function(_,C){Ae(y,C,_)}),f.l&&z({},function(_,C){Ae(y,C,_)})}function Fg(f,y,_){_=Math.min(f.i.length,_);const C=f.l?c(f.l.Ka,f.l,f):null;e:{var L=f.i;let ue=-1;for(;;){const We=["count="+_];ue==-1?_>0?(ue=L[0].g,We.push("ofs="+ue)):ue=0:We.push("ofs="+ue);let Te=!0;for(let Ze=0;Ze<_;Ze++){var O=L[Ze].g;const gn=L[Ze].map;if(O-=ue,O<0)ue=Math.max(0,L[Ze].g-100),Te=!1;else try{O="req"+O+"_"||"";try{var W=gn instanceof Map?gn:Object.entries(gn);for(const[ns,ar]of W){let lr=ar;a(ar)&&(lr=rd(ar)),We.push(O+ns+"="+encodeURIComponent(lr))}}catch(ns){throw We.push(O+"type="+encodeURIComponent("_badmap")),ns}}catch{C&&C(gn)}}if(Te){W=We.join("&");break e}}W=void 0}return f=f.i.splice(0,_),y.G=f,W}function Og(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;U||E(),V||(U(),V=!0),T.add(y,f),f.A=0}}function yd(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=to(c(f.Da,f),Gg(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,qg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=to(c(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),il(this),qg(this))};function vd(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function qg(f){f.g=new rr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=mn(f.na);Ae(y,"RID","rpc"),Ae(y,"SID",f.M),Ae(y,"AID",f.K),Ae(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ae(y,"TO",f.ia),Ae(y,"TYPE","xmlhttp"),po(f,y),f.u&&f.o&&md(y,f.u,f.o),f.O&&(f.g.H=f.O);var _=f.g;f=f.ba,_.M=1,_.A=nl(mn(y)),_.u=null,_.R=!0,pg(_,f)}t.Va=function(){this.C!=null&&(this.C=null,il(this),yd(this),St(19))};function al(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function Bg(f,y){var _=null;if(f.g==y){al(f),vd(f),f.g=null;var C=2}else if(dd(f.h,y))_=y.G,wg(f.h,y),C=1;else return;if(f.I!=0){if(y.o)if(C==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var L=f.D;C=Za(),Tt(C,new ug(C,_)),ol(f)}else Og(f);else if(L=y.m,L==3||L==0&&y.X>0||!(C==1&&XI(f,y)||C==2&&yd(f)))switch(_&&_.length>0&&(y=f.h,y.i=y.i.concat(_)),L){case 1:ts(f,5);break;case 4:ts(f,10);break;case 3:ts(f,6);break;default:ts(f,2)}}}function Gg(f,y){let _=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(_*=2),_*y}function ts(f,y){if(f.j.info("Error code "+y),y==2){var _=c(f.bb,f),C=f.Ua;const L=!C;C=new sr(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||io(C,"https"),nl(C),L?jI(C.toString(),_):WI(C.toString(),_)}else St(2);f.I=0,f.l&&f.l.pa(y),Hg(f),Lg(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Hg(f){if(f.I=0,f.ja=[],f.l){const y=Eg(f.h);(y.length!=0||f.i.length!=0)&&(w(f.ja,y),w(f.ja,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.oa()}}function zg(f,y,_){var C=_ instanceof sr?mn(_):new sr(_);if(C.g!="")y&&(C.g=y+"."+C.g),oo(C,C.u);else{var L=o.location;C=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;const O=new sr(null);C&&io(O,C),y&&(O.g=y),L&&oo(O,L),_&&(O.h=_),C=O}return _=f.G,y=f.wa,_&&y&&Ae(C,_,y),Ae(C,"VER",f.ka),po(f,C),C}function $g(f,y,_){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new Ue(new pd({ab:_})):new Ue(f.ma),y.Fa(f.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jg(){}t=jg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ll(){}ll.prototype.g=function(f,y){return new qt(f,y)};function qt(f,y){dt.call(this),this.g=new Vg(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!R(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Fs(this)}m(qt,dt),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){gd(this.g)},qt.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.v&&(_={},_.__data__=rd(f),f=_);y.i.push(new FI(y.Ya++,f)),y.I==3&&ol(y)},qt.prototype.N=function(){this.g.l=null,delete this.j,gd(this.g),delete this.g,qt.Z.N.call(this)};function Wg(f){sd.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}m(Wg,sd);function Kg(){id.call(this),this.status=1}m(Kg,id);function Fs(f){this.g=f}m(Fs,jg),Fs.prototype.ra=function(){Tt(this.g,"a")},Fs.prototype.qa=function(f){Tt(this.g,new Wg(f))},Fs.prototype.pa=function(f){Tt(this.g,new Kg)},Fs.prototype.oa=function(){Tt(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,VT=function(){return new ll},DT=function(){return Za()},MT=Xr,vh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},el.NO_ERROR=0,el.TIMEOUT=8,el.HTTP_ERROR=6,Yl=el,cg.COMPLETE="complete",PT=cg,ig.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",dt.prototype.listen=dt.prototype.J,No=ig,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,bT=Ue}).apply(typeof Al<"u"?Al:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",zv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zi="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new em("@firebase/firestore");function qs(){return Ts.logLevel}function Y(t,...e){if(Ts.logLevel<=de.DEBUG){const n=e.map(rm);Ts.debug(`Firestore (${zi}): ${t}`,...n)}}function Jn(t,...e){if(Ts.logLevel<=de.ERROR){const n=e.map(rm);Ts.error(`Firestore (${zi}): ${t}`,...n)}}function Ai(t,...e){if(Ts.logLevel<=de.WARN){const n=e.map(rm);Ts.warn(`Firestore (${zi}): ${t}`,...n)}}function rm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,LT(t,r,n)}function LT(t,e,n){let r=`FIRESTORE (${zi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jn(r),new Error(r)}function we(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||LT(e,s,r)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class J4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Y4{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Dr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Dr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new UT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class Q4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Q4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $v(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=e5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function _h(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Qd(s)===Qd(i)?fe(s,i):Qd(s)?1:-1}return fe(t.length,e.length)}const t5=55296,n5=57343;function Qd(t){const e=t.charCodeAt(0);return e>=t5&&e<=n5}function ki(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="__name__";class wn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=wn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return fe(e.length,n.length)}static compareSegments(e,n){const r=wn.isNumericId(e),s=wn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?wn.extractNumericId(e).compare(wn.extractNumericId(n)):_h(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class Ce extends wn{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const r5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends wn{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return r5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jv}static keyField(){return new ot([jv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Ce.fromString(e))}static fromName(e){return new Z(Ce.fromString(e).popFirst(5))}static empty(){return new Z(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function s5(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Wv(t){if(!Z.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kv(t){if(Z.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function kc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function Ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kc(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ua(t,e){if(!OT(t))throw new J(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-62135596800,Yv=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Yv);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jv)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yv}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ua(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:je("string",Re._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Re(0,0))}static max(){return new se(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=-1;function i5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=se.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Or(s,Z.empty(),e)}function o5(t){return new Or(t.readTime,t.key,ma)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(se.min(),Z.empty(),ma)}static max(){return new Or(se.max(),Z.empty(),ma)}}function a5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $i(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==l5)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(s=>s?G.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new G((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new G((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function c5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ji(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function Rc(t){return t==null}function qu(t){return t===0&&1/t==-1/0}function d5(t){return typeof t=="number"&&Number.isInteger(t)&&!qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="";function f5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qv(e)),e=h5(t.get(n),e);return Qv(e)}function h5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case qT:n+="";break;default:n+=i}}return n}function Qv(t){return t+qT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kl(this.root,e,this.comparator,!0)}}class kl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??it.EMPTY,this.right=i??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new it(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(e){return new Zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class Zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new zt([])}unionWith(e){let n=new Qe(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ki(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new GT("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const p5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=p5.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="server_timestamp",zT="__type__",$T="__previous_value__",jT="__local_write_time__";function om(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zT])==null?void 0:r.stringValue)===HT}function bc(t){const e=t.mapValue.fields[$T];return om(e)?bc(e):e}function ga(t){const e=qr(t.mapValue.fields[jT].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,s,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Bu="(default)";class ya{constructor(e,n){this.projectId=e,this.database=n||Bu}static empty(){return new ya("","")}get isDefaultDatabase(){return this.database===Bu}isEqual(e){return e instanceof ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="__type__",g5="__max__",Nl={mapValue:{}},KT="__vector__",Gu="value";function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?om(t)?4:v5(t)?9007199254740991:y5(t)?10:11:ne(28295,{value:t})}function Dn(t,e){if(t===e)return!0;const n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ga(t).isEqual(ga(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=qr(s.timestampValue),a=qr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Br(s.bytesValue).isEqual(Br(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Be(s.doubleValue),a=Be(i.doubleValue);return o===a?qu(o)===qu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ki(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Xv(o)!==Xv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Dn(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function va(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function Ri(t,e){if(t===e)return 0;const n=Gr(t),r=Gr(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Be(i.integerValue||i.doubleValue),l=Be(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return e_(t.timestampValue,e.timestampValue);case 4:return e_(ga(t),ga(e));case 5:return _h(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Br(i),l=Br(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=fe(a[c],l[c]);if(h!==0)return h}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=fe(Be(i.latitude),Be(o.latitude));return a!==0?a:fe(Be(i.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return t_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,v,w,I;const a=i.fields||{},l=o.fields||{},c=(g=a[Gu])==null?void 0:g.arrayValue,h=(v=l[Gu])==null?void 0:v.arrayValue,m=fe(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return m!==0?m:t_(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Nl.mapValue&&o===Nl.mapValue)return 0;if(i===Nl.mapValue)return 1;if(o===Nl.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let m=0;m<l.length&&m<h.length;++m){const g=_h(l[m],h[m]);if(g!==0)return g;const v=Ri(a[l[m]],c[h[m]]);if(v!==0)return v}return fe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{he:n})}}function e_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=qr(t),r=qr(e),s=fe(n.seconds,r.seconds);return s!==0?s:fe(n.nanos,r.nanos)}function t_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ri(n[s],r[s]);if(i)return i}return fe(n.length,r.length)}function bi(t){return wh(t)}function wh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Br(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${wh(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function Ql(t){switch(Gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bc(t);return e?16+Ql(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ql(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Jr(r.fields,(i,o)=>{s+=i.length+Ql(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function n_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Eh(t){return!!t&&"integerValue"in t}function am(t){return!!t&&"arrayValue"in t}function r_(t){return!!t&&"nullValue"in t}function s_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xl(t){return!!t&&"mapValue"in t}function y5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[WT])==null?void 0:r.stringValue)===KT}function zo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Jr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zo(t.arrayValue.values[n]);return e}return{...t}}function v5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===g5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zo(n)}setAll(e){let n=ot.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=zo(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Jr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Mt(zo(this.value))}}function JT(t){const e=[];return Jr(t.fields,(n,r)=>{const s=new ot([n]);if(Xl(r)){const i=JT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vt(e,0,se.min(),se.min(),se.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,s){return new vt(e,1,n,se.min(),r,s,0)}static newNoDocument(e,n){return new vt(e,2,n,se.min(),se.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,se.min(),se.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.position=e,this.inclusive=n}}function i_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Ri(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function o_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class $e extends YT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E5(e,n,r):n==="array-contains"?new S5(e,r):n==="in"?new C5(e,r):n==="not-in"?new I5(e,r):n==="array-contains-any"?new A5(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x5(e,r):new T5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ri(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Ri(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends YT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fn(e,n)}matches(e){return QT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(t){return t.op==="and"}function XT(t){return w5(t)&&QT(t)}function w5(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function xh(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+bi(t.value);if(XT(t))return t.filters.map(e=>xh(e)).join(",");{const e=t.filters.map(n=>xh(n)).join(",");return`${t.op}(${e})`}}function ZT(t,e){return t instanceof $e?function(r,s){return s instanceof $e&&r.op===s.op&&r.field.isEqual(s.field)&&Dn(r.value,s.value)}(t,e):t instanceof fn?function(r,s){return s instanceof fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ZT(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function eS(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${bi(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(eS).join(" ,")+"}"}(t):"Filter"}class E5 extends $e{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class x5 extends $e{constructor(e,n){super(e,"in",n),this.keys=tS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T5 extends $e{constructor(e,n){super(e,"not-in",n),this.keys=tS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class S5 extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return am(n)&&va(n.arrayValue,this.value)}}class C5 extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&va(this.value.arrayValue,n)}}class I5 extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!va(this.value.arrayValue,n)}}class A5 extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>va(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function a_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new k5(t,e,n,r,s,i,o)}function lm(t){const e=oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Rc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bi(r)).join(",")),e.Te=n}return e.Te}function um(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o_(t.startAt,e.startAt)&&o_(t.endAt,e.endAt)}function Th(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function N5(t,e,n,r,s,i,o,a){return new Fa(t,e,n,r,s,i,o,a)}function nS(t){return new Fa(t)}function l_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rS(t){return t.collectionGroup!==null}function $o(t){const e=oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qe(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new zu(i,r))}),n.has(ot.keyField().canonicalString())||e.Ie.push(new zu(ot.keyField(),r))}return e.Ie}function In(t){const e=oe(t);return e.Ee||(e.Ee=R5(e,$o(t))),e.Ee}function R5(t,e){if(t.limitType==="F")return a_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new zu(s.field,i)});const n=t.endAt?new Hu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hu(t.startAt.position,t.startAt.inclusive):null;return a_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sh(t,e){const n=t.filters.concat([e]);return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ch(t,e,n){return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pc(t,e){return um(In(t),In(e))&&t.limitType===e.limitType}function sS(t){return`${lm(In(t))}|lt:${t.limitType}`}function Bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>eS(s)).join(", ")}]`),Rc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>bi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>bi(s)).join(",")),`Target(${r})`}(In(t))}; limitType=${t.limitType})`}function Mc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of $o(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=i_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,$o(r),s)||r.endAt&&!function(o,a,l){const c=i_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,$o(r),s))}(t,e)}function b5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iS(t){return(e,n)=>{let r=!1;for(const s of $o(t)){const i=P5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function P5(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ri(l,c):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return BT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new Le(Z.comparator);function Yn(){return M5}const oS=new Le(Z.comparator);function Ro(...t){let e=oS;for(const n of t)e=e.insert(n.key,n);return e}function aS(t){let e=oS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cs(){return jo()}function lS(){return jo()}function jo(){return new bs(t=>t.toString(),(t,e)=>t.isEqual(e))}const D5=new Le(Z.comparator),V5=new Qe(Z.comparator);function he(...t){let e=V5;for(const n of t)e=e.add(n);return e}const L5=new Qe(fe);function U5(){return L5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function uS(t){return{integerValue:""+t}}function cS(t,e){return d5(e)?uS(e):cm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function F5(t,e,n){return t instanceof _a?function(s,i){const o={fields:{[zT]:{stringValue:HT},[jT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&om(i)&&(i=bc(i)),i&&(o.fields[$T]=i),{mapValue:o}}(n,e):t instanceof wa?fS(t,e):t instanceof Ea?hS(t,e):function(s,i){const o=dS(s,i),a=u_(o)+u_(s.Ae);return Eh(o)&&Eh(s.Ae)?uS(a):cm(s.serializer,a)}(t,e)}function O5(t,e,n){return t instanceof wa?fS(t,e):t instanceof Ea?hS(t,e):n}function dS(t,e){return t instanceof xa?function(r){return Eh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class _a extends Dc{}class wa extends Dc{constructor(e){super(),this.elements=e}}function fS(t,e){const n=pS(e);for(const r of t.elements)n.some(s=>Dn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ea extends Dc{constructor(e){super(),this.elements=e}}function hS(t,e){let n=pS(e);for(const r of t.elements)n=n.filter(s=>!Dn(s,r));return{arrayValue:{values:n}}}class xa extends Dc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function u_(t){return Be(t.integerValue||t.doubleValue)}function pS(t){return am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.field=e,this.transform=n}}function q5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wa&&s instanceof wa||r instanceof Ea&&s instanceof Ea?ki(r.elements,s.elements,Dn):r instanceof xa&&s instanceof xa?Dn(r.Ae,s.Ae):r instanceof _a&&s instanceof _a}(t.transform,e.transform)}class B5{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vc{}function gS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vS(t.key,An.none()):new Oa(t.key,t.data,An.none());{const n=t.data,r=Mt.empty();let s=new Qe(ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Yr(t.key,r,new zt(s.toArray()),An.none())}}function G5(t,e,n){t instanceof Oa?function(s,i,o){const a=s.value.clone(),l=d_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yr?function(s,i,o){if(!Zl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=d_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(yS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wo(t,e,n,r){return t instanceof Oa?function(i,o,a,l){if(!Zl(i.precondition,o))return a;const c=i.value.clone(),h=f_(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yr?function(i,o,a,l){if(!Zl(i.precondition,o))return a;const c=f_(i.fieldTransforms,l,o),h=o.data;return h.setAll(yS(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return Zl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function H5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=dS(r.transform,s||null);i!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,i))}return n||null}function c_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ki(r,s,(i,o)=>q5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oa extends Vc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yr extends Vc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d_(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,O5(o,a,n[s]))}return r}function f_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,F5(i,o,e))}return r}class vS extends Vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z5 extends Vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&G5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=gS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&ki(this.mutations,e.mutations,(n,r)=>c_(n,r))&&ki(this.baseMutations,e.baseMutations,(n,r)=>c_(n,r))}}class dm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return D5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new dm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,me;function K5(t){switch(t){case B.OK:return ne(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function _S(t){if(t===void 0)return Jn("GRPC error has no .code"),B.UNKNOWN;switch(t){case He.OK:return B.OK;case He.CANCELLED:return B.CANCELLED;case He.UNKNOWN:return B.UNKNOWN;case He.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case He.INTERNAL:return B.INTERNAL;case He.UNAVAILABLE:return B.UNAVAILABLE;case He.UNAUTHENTICATED:return B.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case He.NOT_FOUND:return B.NOT_FOUND;case He.ALREADY_EXISTS:return B.ALREADY_EXISTS;case He.PERMISSION_DENIED:return B.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case He.ABORTED:return B.ABORTED;case He.OUT_OF_RANGE:return B.OUT_OF_RANGE;case He.UNIMPLEMENTED:return B.UNIMPLEMENTED;case He.DATA_LOSS:return B.DATA_LOSS;default:return ne(39323,{code:t})}}(me=He||(He={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=new Mr([4294967295,4294967295],0);function h_(t){const e=J5().encode(t),n=new RT;return n.update(e),new Uint8Array(n.digest())}function p_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Mr([n,r],0),new Mr([s,i],0)]}class fm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Mr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Mr.fromNumber(r)));return s.compare(Y5)===1&&(s=new Mr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=h_(e),[r,s]=p_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new fm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=h_(e),[r,s]=p_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,qa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lc(se.min(),s,new Le(fe),Yn(),he())}}class qa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qa(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wS{constructor(e,n){this.targetId=e,this.Ce=n}}class ES{constructor(e,n,r=ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class m_{constructor(){this.ve=0,this.Fe=g_(),this.Me=ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),n=he(),r=he();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new qa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=g_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yn(),this.Je=Rl(),this.He=Rl(),this.Ye=new Le(fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Th(i))if(r===0){const o=new Z(i.path);this.et(n,o,vt.newNoDocument(o,se.min()))}else we(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Br(r).toUint8Array()}catch(l){if(l instanceof GT)return Ai("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new fm(o,s,i)}catch(l){return Ai(l instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Th(a.target)){const l=new Z(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,vt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=he();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Lc(e,n,this.Ye,this.je,r);return this.je=Yn(),this.Je=Rl(),this.He=Rl(),this.Ye=new Le(fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new m_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qe(fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qe(fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rl(){return new Le(Z.comparator)}function g_(){return new Le(Z.comparator)}const X5={asc:"ASCENDING",desc:"DESCENDING"},Z5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e8={and:"AND",or:"OR"};class t8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ih(t,e){return t.useProto3Json||Rc(e)?e:{value:e}}function $u(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n8(t,e){return $u(t,e.toTimestamp())}function kn(t){return we(!!t,49232),se.fromTimestamp(function(n){const r=qr(n);return new Re(r.seconds,r.nanos)}(t))}function hm(t,e){return Ah(t,e).canonicalString()}function Ah(t,e){const n=function(s){return new Ce(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TS(t){const e=Ce.fromString(t);return we(kS(e),10190,{key:e.toString()}),e}function kh(t,e){return hm(t.databaseId,e.path)}function Xd(t,e){const n=TS(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(CS(n))}function SS(t,e){return hm(t.databaseId,e)}function r8(t){const e=TS(t);return e.length===4?Ce.emptyPath():CS(e)}function Nh(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CS(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function y_(t,e,n){return{name:kh(t,e),fields:n.value.mapValue.fields}}function s8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(we(h===void 0||typeof h=="string",58123),ut.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:_S(c.code);return new J(h,c.message||"")}(o);n=new ES(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xd(t,r.document.name),i=kn(r.document.updateTime),o=r.document.createTime?kn(r.document.createTime):se.min(),a=new Mt({mapValue:{fields:r.document.fields}}),l=vt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new eu(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xd(t,r.document),i=r.readTime?kn(r.readTime):se.min(),o=vt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new eu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xd(t,r.document),i=r.removedTargetIds||[];n=new eu([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new W5(s,i),a=r.targetId;n=new wS(a,o)}}return n}function i8(t,e){let n;if(e instanceof Oa)n={update:y_(t,e.key,e.value)};else if(e instanceof vS)n={delete:kh(t,e.key)};else if(e instanceof Yr)n={update:y_(t,e.key,e.data),updateMask:p8(e.fieldMask)};else{if(!(e instanceof z5))return ne(16599,{Vt:e.type});n={verify:kh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof _a)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ea)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xa)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:n8(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function o8(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?kn(s.updateTime):kn(i);return o.isEqual(se.min())&&(o=kn(i)),new B5(o,s.transformResults||[])}(n,e))):[]}function a8(t,e){return{documents:[SS(t,e.path)]}}function l8(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SS(t,s);const i=function(c){if(c.length!==0)return AS(fn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:Gs(g.field),direction:d8(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ih(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function u8(t){let e=r8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){we(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const g=IS(m);return g instanceof fn&&XT(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(w){return new zu(Hs(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,Rc(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(m){const g=!!m.before,v=m.values||[];return new Hu(v,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,v=m.values||[];return new Hu(v,g)}(n.endAt)),N5(e,s,o,i,a,"F",l,c)}function c8(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hs(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Hs(n.unaryFilter.field);return $e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hs(n.unaryFilter.field);return $e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hs(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Hs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(r=>IS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function d8(t){return X5[t]}function f8(t){return Z5[t]}function h8(t){return e8[t]}function Gs(t){return{fieldPath:t.canonicalString()}}function Hs(t){return ot.fromServerFormat(t.fieldPath)}function AS(t){return t instanceof $e?function(n){if(n.op==="=="){if(s_(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NAN"}};if(r_(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s_(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NAN"}};if(r_(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(n.field),op:f8(n.op),value:n.value}}}(t):t instanceof fn?function(n){const r=n.getFilters().map(s=>AS(s));return r.length===1?r[0]:{compositeFilter:{op:h8(n.op),filters:r}}}(t):ne(54877,{filter:t})}function p8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,s,i=se.min(),o=se.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.yt=e}}function g8(t){const e=u8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(){this.Cn=new v8}addToCollectionParentIndex(e,n){return this.Cn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Or.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class v8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qe(Ce.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qe(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NS=41943040;class bt{static withCacheSize(e){return new bt(e,bt.DEFAULT_COLLECTION_PERCENTILE,bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bt.DEFAULT_COLLECTION_PERCENTILE=10,bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bt.DEFAULT=new bt(NS,bt.DEFAULT_COLLECTION_PERCENTILE,bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bt.DISABLED=new bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pi(0)}static cr(){return new Pi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LruGarbageCollector",_8=1048576;function w_([t,e],[n,r]){const s=fe(t,n);return s===0?fe(e,r):s}class w8{constructor(e){this.Ir=e,this.buffer=new Qe(w_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(__,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ji(n)?Y(__,"Ignoring IndexedDB error during garbage collection: ",n):await $i(n)}await this.Vr(3e5)})}}class x8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return G.resolve(Nc.ce);const r=new w8(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(v_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),qs()<=de.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${m} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function T8(t,e){return new x8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.changes=new bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wo(r.mutation,s,zt.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const s=cs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ro();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Yn();const o=jo(),a=function(){return jo()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Yr)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Wo(h.mutation,c,h.mutation.getFieldMask(),Re.now())):o.set(c.key,zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new C8(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=jo();let s=new Le((o,a)=>o-a),i=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||zt.empty();h=a.applyToLocalView(c,h),r.set(l,h);const m=(s.get(a.batchId)||he()).add(l);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,m=lS();h.forEach(g=>{if(!i.has(g)){const v=gS(n.get(g),r.get(g));v!==null&&m.set(g,v),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):G.resolve(cs());let a=ma,l=i;return o.next(c=>G.forEach(c,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(h)?G.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,he())).next(h=>({batchId:a,changes:aS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let s=Ro();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ro();return this.indexManager.getCollectionParents(e,i).next(a=>G.forEach(a,l=>{const c=function(m,g){return new Fa(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,vt.newInvalidDocument(h)))});let a=Ro();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&Wo(h.mutation,c,zt.empty(),Re.now()),Mc(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return G.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kn(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:g8(s.bundledQuery),readTime:kn(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){this.overlays=new Le(Z.comparator),this.qr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cs();return G.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=cs(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Le((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=cs(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=cs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return G.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new j5(n,r));let i=this.qr.get(n);i===void 0&&(i=he(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.Qr=new Qe(et.$r),this.Ur=new Qe(et.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new et(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new Ce([])),r=new et(n,e),s=new et(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new Ce([])),r=new et(n,e),s=new et(n,e+1);let i=he();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new et(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||fe(e.Yr,n.Yr)}static Kr(e,n){return fe(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(et.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new et(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return G.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?im:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),s=new et(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),G.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(fe);return n.forEach(s=>{const i=new et(s,0),o=new et(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),G.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new et(new Z(i),0);let a=new Qe(fe);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),G.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return G.forEach(n.mutations,s=>{const i=new et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new et(n,0),s=this.Zr.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.ri=e,this.docs=function(){return new Le(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():vt.newInvalidDocument(s))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Yn();const o=n.path,a=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||a5(o5(h),r)<=0||(s.has(h.key)||Mc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return G.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}ii(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new P8(this)}getSize(e){return G.resolve(this.size)}}class P8 extends S8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.persistence=e,this.si=new bs(n=>lm(n),um),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new pm,this.targetCount=0,this.ai=Pi.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),G.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Pi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Pr(n),G.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),G.waitFor(i).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),G.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nc(0),this.li=!1,this.li=!0,this.hi=new N8,this.referenceDelegate=e(this),this.Pi=new M8(this),this.indexManager=new y8,this.remoteDocumentCache=function(s){return new b8(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new m8(n),this.Ii=new A8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new R8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new D8(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return G.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class D8 extends u5{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.Ri=new pm,this.Vi=null}static mi(e){return new mm(e)}get fi(){if(this.Vi)return this.Vi;throw ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,r=>{const s=Z.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return G.or([()=>G.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ju{constructor(e,n){this.persistence=e,this.pi=new bs(r=>f5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=T8(this,n)}static mi(e,n){return new ju(e,n)}Ei(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return G.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?G.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ql(e.data.value)),n}br(e,n,r){return G.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return G.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=he(),s=he();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new gm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return kD()?8:c5(xt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new V8;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(qs()<=de.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(qs()<=de.DEBUG&&Y("QueryEngine","Query:",Bs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(qs()<=de.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):G.resolve())}ys(e,n){if(l_(n))return G.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ch(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=he(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Ch(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return l_(n)||s.isEqual(se.min())?G.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?G.resolve(null):(qs()<=de.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bs(n)),this.vs(e,o,n,i5(s,ma)).next(a=>a))})}Ds(e,n){let r=new Qe(iS(e));return n.forEach((s,i)=>{Mc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return qs()<=de.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Bs(n)),this.ps.getDocumentsMatchingQuery(e,n,Or.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LocalStore",U8=3e8;class F8{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Le(fe),this.xs=new bs(i=>lm(i),um),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function O8(t,e,n,r){return new F8(t,e,n,r)}async function bS(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=he();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function q8(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const m=c.batch,g=m.keys();let v=G.resolve();return g.forEach(w=>{v=v.next(()=>h.getEntry(l,w)).next(I=>{const P=c.docVersions.get(w);we(P!==null,48541),I.version.compareTo(P)<0&&(m.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function PS(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function B8(t,e){const n=oe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,m)=>{const g=s.get(m);if(!g)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,m)));let v=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(ut.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(m,v),function(I,P,A){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=U8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let l=Yn(),c=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(G8(i,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(se.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return G.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function G8(t,e,n){let r=he(),s=he();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Yn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(ym,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function H8(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=im),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z8(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,G.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Er(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Rh(t,e,n){const r=oe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ji(o))throw o;Y(ym,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function E_(t,e,n){const r=oe(t);let s=se.min(),i=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const m=oe(l),g=m.xs.get(h);return g!==void 0?G.resolve(m.Ms.get(g)):m.Pi.getTargetData(c,h)}(r,o,In(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:se.min(),n?i:he())).next(a=>($8(r,b5(e),a),{documents:a,Qs:i})))}function $8(t,e,n){let r=t.Os.get(e)||se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class x_{constructor(){this.activeTargetIds=U5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j8{constructor(){this.Mo=new x_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new x_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="ConnectivityMonitor";class S_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(T_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(T_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl=null;function bh(){return bl===null?bl=function(){return 268435456+Math.round(2147483648*Math.random())}():bl++,"0x"+bl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RestConnection",K8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Bu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=bh(),a=this.zo(e,n.toUriEncodedString());Y(Zd,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),h=Gi(c);return this.Jo(e,a,l,r,h).then(m=>(Y(Zd,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Ai(Zd,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=K8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class Q8 extends J8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=bh();return new Promise((a,l)=>{const c=new bT;c.setWithCredentials(!0),c.listenOnce(PT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Yl.NO_ERROR:const m=c.getResponseJson();Y(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Yl.TIMEOUT:Y(pt,`RPC '${e}' ${o} timed out`),l(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case Yl.HTTP_ERROR:const g=c.getStatus();if(Y(pt,`RPC '${e}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const I=function(A){const x=A.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(x)>=0?x:B.UNKNOWN}(w.status);l(new J(I,w.message))}else l(new J(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new J(B.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Y(pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Y(pt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=bh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VT(),a=DT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Y(pt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const m=o.createWebChannel(h,l);this.I_(m);let g=!1,v=!1;const w=new Y8({Yo:P=>{v?Y(pt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(g||(Y(pt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),Y(pt,`RPC '${e}' stream ${s} sending:`,P),m.send(P))},Zo:()=>m.close()}),I=(P,A,x)=>{P.listen(A,k=>{try{x(k)}catch(D){setTimeout(()=>{throw D},0)}})};return I(m,No.EventType.OPEN,()=>{v||(Y(pt,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),I(m,No.EventType.CLOSE,()=>{v||(v=!0,Y(pt,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(m))}),I(m,No.EventType.ERROR,P=>{v||(v=!0,Ai(pt,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),w.a_(new J(B.UNAVAILABLE,"The operation could not be completed")))}),I(m,No.EventType.MESSAGE,P=>{var A;if(!v){const x=P.data[0];we(!!x,16349);const k=x,D=(k==null?void 0:k.error)||((A=k[0])==null?void 0:A.error);if(D){Y(pt,`RPC '${e}' stream ${s} received error:`,D);const U=D.status;let V=function(S){const b=He[S];if(b!==void 0)return _S(b)}(U),T=D.message;V===void 0&&(V=B.INTERNAL,T="Unknown error status: "+U+" with message "+D.message),v=!0,w.a_(new J(V,T)),m.close()}else Y(pt,`RPC '${e}' stream ${s} received:`,x),w.u_(x)}}),I(a,MT.STAT_EVENT,P=>{P.stat===vh.PROXY?Y(pt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===vh.NOPROXY&&Y(pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){return new t8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class DS{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X8 extends DS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=s8(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?kn(o.readTime):se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Nh(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Th(l)?{documents:a8(i,l)}:{query:l8(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xS(i,o.resumeToken);const c=Ih(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=$u(i,o.snapshotVersion.toTimestamp());const c=Ih(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=c8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Nh(this.serializer),n.removeTarget=e,this.q_(n)}}class Z8 extends DS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o8(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Nh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>i8(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{}class tV extends eV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Ah(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Ah(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class nV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jn(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class rV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ps(this)&&(Y(Ss,"Restarting streams for network reachability change."),await async function(l){const c=oe(l);c.Ea.add(4),await Ba(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Fc(c)}(this))})}),this.Ra=new nV(r,s)}}async function Fc(t){if(Ps(t))for(const e of t.da)await e(!0)}async function Ba(t){for(const e of t.da)await e(!1)}function VS(t,e){const n=oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Em(n)?wm(n):Wi(n).O_()&&_m(n,e))}function vm(t,e){const n=oe(t),r=Wi(n);n.Ia.delete(e),r.O_()&&LS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ps(n)&&n.Ra.set("Unknown"))}function _m(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wi(t).Y_(e)}function LS(t,e){t.Va.Ue(e),Wi(t).Z_(e)}function wm(t){t.Va=new Q5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Wi(t).start(),t.Ra.ua()}function Em(t){return Ps(t)&&!Wi(t).x_()&&t.Ia.size>0}function Ps(t){return oe(t).Ea.size===0}function US(t){t.Va=void 0}async function sV(t){t.Ra.set("Online")}async function iV(t){t.Ia.forEach((e,n)=>{_m(t,e)})}async function oV(t,e){US(t),Em(t)?(t.Ra.ha(e),wm(t)):t.Ra.set("Unknown")}async function aV(t,e,n){if(t.Ra.set("Online"),e instanceof ES&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wu(t,r)}else if(e instanceof eu?t.Va.Ze(e):e instanceof wS?t.Va.st(e):t.Va.tt(e),!n.isEqual(se.min()))try{const r=await PS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),LS(i,l);const m=new Er(h.target,l,c,h.sequenceNumber);_m(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(Ss,"Failed to raise snapshot:",r),await Wu(t,r)}}async function Wu(t,e,n){if(!ji(e))throw e;t.Ea.add(1),await Ba(t),t.Ra.set("Offline"),n||(n=()=>PS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Ss,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Fc(t)})}function FS(t,e){return e().catch(n=>Wu(t,n,e))}async function Oc(t){const e=oe(t),n=Hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:im;for(;lV(e);)try{const s=await H8(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,uV(e,s)}catch(s){await Wu(e,s)}OS(e)&&qS(e)}function lV(t){return Ps(t)&&t.Ta.length<10}function uV(t,e){t.Ta.push(e);const n=Hr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function OS(t){return Ps(t)&&!Hr(t).x_()&&t.Ta.length>0}function qS(t){Hr(t).start()}async function cV(t){Hr(t).ra()}async function dV(t){const e=Hr(t);for(const n of t.Ta)e.ea(n.mutations)}async function fV(t,e,n){const r=t.Ta.shift(),s=dm.from(r,e,n);await FS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Oc(t)}async function hV(t,e){e&&Hr(t).X_&&await async function(r,s){if(function(o){return K5(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Hr(r).B_(),await FS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Oc(r)}}(t,e),OS(t)&&qS(t)}async function I_(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),Y(Ss,"RemoteStore received new credentials");const r=Ps(n);n.Ea.add(3),await Ba(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fc(n)}async function pV(t,e){const n=oe(t);e?(n.Ea.delete(2),await Fc(n)):e||(n.Ea.add(2),await Ba(n),n.Ra.set("Unknown"))}function Wi(t){return t.ma||(t.ma=function(n,r,s){const i=oe(n);return i.sa(),new X8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:sV.bind(null,t),t_:iV.bind(null,t),r_:oV.bind(null,t),H_:aV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Em(t)?wm(t):t.Ra.set("Unknown")):(await t.ma.stop(),US(t))})),t.ma}function Hr(t){return t.fa||(t.fa=function(n,r,s){const i=oe(n);return i.sa(),new Z8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:cV.bind(null,t),r_:hV.bind(null,t),ta:dV.bind(null,t),na:fV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Oc(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(Ss,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new xm(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(t,e){if(Jn("AsyncQueue",`${e}: ${t}`),ji(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{static emptySet(e){return new hi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Ro(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.ga=new Le(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mi{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Mi(e,n,hi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gV{constructor(){this.queries=k_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=oe(n),i=s.queries;s.queries=k_(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function k_(){return new bs(t=>sS(t),Pc)}async function yV(t,e){const n=oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new mV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Tm(o,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Sm(n)}async function vV(t,e){const n=oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _V(t,e){const n=oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Sm(n)}function wV(t,e,n){const r=oe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Sm(t){t.Ca.forEach(e=>{e.next()})}var Ph,N_;(N_=Ph||(Ph={})).Ma="default",N_.Cache="cache";class EV{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Mi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ph.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.key=e}}class GS{constructor(e){this.key=e}}class xV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=he(),this.mutatedKeys=he(),this.eu=iS(e),this.tu=new hi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new A_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const g=s.get(h),v=Mc(this.query,m)?m:null,w=!!g&&this.mutatedKeys.has(g.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let P=!1;g&&v?g.data.isEqual(v.data)?w!==I&&(r.track({type:3,doc:v}),P=!0):this.su(g,v)||(r.track({type:2,doc:v}),P=!0,(l&&this.eu(v,l)>0||c&&this.eu(v,c)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),P=!0):g&&!v&&(r.track({type:1,doc:g}),P=!0,(l||c)&&(a=!0)),P&&(v?(o=o.add(v),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(v,w){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Rt:P})}};return I(v)-I(w)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Mi(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=he(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new GS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new BS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=he();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cm="SyncEngine";class TV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SV{constructor(e){this.key=e,this.hu=!1}}class CV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new bs(a=>sS(a),Pc),this.Iu=new Map,this.Eu=new Set,this.du=new Le(Z.comparator),this.Au=new Map,this.Ru=new pm,this.Vu={},this.mu=new Map,this.fu=Pi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IV(t,e,n=!0){const r=KS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await HS(r,e,n,!0),s}async function AV(t,e){const n=KS(t);await HS(n,e,!0,!1)}async function HS(t,e,n,r){const s=await z8(t.localStore,In(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await kV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&VS(t.remoteStore,s),a}async function kV(t,e,n,r,s){t.pu=(m,g,v)=>async function(I,P,A,x){let k=P.view.ru(A);k.Cs&&(k=await E_(I.localStore,P.query,!1).then(({documents:T})=>P.view.ru(T,k)));const D=x&&x.targetChanges.get(P.targetId),U=x&&x.targetMismatches.get(P.targetId)!=null,V=P.view.applyChanges(k,I.isPrimaryClient,D,U);return b_(I,P.targetId,V.au),V.snapshot}(t,m,g,v);const i=await E_(t.localStore,e,!0),o=new xV(e,i.Qs),a=o.ru(i.documents),l=qa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);b_(t,n,c.au);const h=new TV(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function NV(t,e,n){const r=oe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Pc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Rh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&vm(r.remoteStore,s.targetId),Mh(r,s.targetId)}).catch($i)):(Mh(r,s.targetId),await Rh(r.localStore,s.targetId,!0))}async function RV(t,e){const n=oe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vm(n.remoteStore,r.targetId))}async function bV(t,e,n){const r=FV(t);try{const s=await function(o,a){const l=oe(o),c=Re.now(),h=a.reduce((v,w)=>v.add(w.key),he());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=Yn(),I=he();return l.Ns.getEntries(v,h).next(P=>{w=P,w.forEach((A,x)=>{x.isValidDocument()||(I=I.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,w)).next(P=>{m=P;const A=[];for(const x of a){const k=H5(x,m.get(x.key).overlayedDocument);k!=null&&A.push(new Yr(x.key,k,JT(k.value.mapValue),An.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,A,a)}).next(P=>{g=P;const A=P.applyToLocalDocumentSet(m,I);return l.documentOverlayCache.saveOverlays(v,P.batchId,A)})}).then(()=>({batchId:g.batchId,changes:aS(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Le(fe)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ga(r,s.changes),await Oc(r.remoteStore)}catch(s){const i=Tm(s,"Failed to persist write");n.reject(i)}}async function zS(t,e){const n=oe(t);try{const r=await B8(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?we(o.hu,14607):s.removedDocuments.size>0&&(we(o.hu,42227),o.hu=!1))}),await Ga(n,r,e)}catch(r){await $i(r)}}function R_(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let c=!1;l.queries.forEach((h,m)=>{for(const g of m.Sa)g.va(a)&&(c=!0)}),c&&Sm(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PV(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Le(Z.comparator);o=o.insert(i,vt.newNoDocument(i,se.min()));const a=he().add(i),l=new Lc(se.min(),new Map,new Le(fe),o,a);await zS(r,l),r.du=r.du.remove(i),r.Au.delete(e),Im(r)}else await Rh(r.localStore,e,!1).then(()=>Mh(r,e,n)).catch($i)}async function MV(t,e){const n=oe(t),r=e.batch.batchId;try{const s=await q8(n.localStore,e);jS(n,r,null),$S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ga(n,s)}catch(s){await $i(s)}}async function DV(t,e,n){const r=oe(t);try{const s=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(we(m!==null,37113),h=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);jS(r,e,n),$S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ga(r,s)}catch(s){await $i(s)}}function $S(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jS(t,e,n){const r=oe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Mh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||WS(t,r)})}function WS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Im(t))}function b_(t,e,n){for(const r of n)r instanceof BS?(t.Ru.addReference(r.key,e),VV(t,r)):r instanceof GS?(Y(Cm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||WS(t,r.key)):ne(19791,{wu:r})}function VV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(Cm,"New document in limbo: "+n),t.Eu.add(r),Im(t))}function Im(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(Ce.fromString(e)),r=t.fu.next();t.Au.set(r,new SV(n)),t.du=t.du.insert(n,r),VS(t.remoteStore,new Er(In(nS(n.path)),r,"TargetPurposeLimboResolution",Nc.ce))}}async function Ga(t,e,n){const r=oe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(c){s.push(c);const m=gm.As(l.targetId,c);i.push(m)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const h=oe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>G.forEach(c,g=>G.forEach(g.Es,v=>h.persistence.referenceDelegate.addReference(m,g.targetId,v)).next(()=>G.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))}catch(m){if(!ji(m))throw m;Y(ym,"Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const v=h.Ms.get(g),w=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(g,I)}}}(r.localStore,i))}async function LV(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){Y(Cm,"User change. New user:",e.toKey());const r=await bS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new J(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ga(n,r.Ls)}}function UV(t,e){const n=oe(t),r=n.Au.get(e);if(r&&r.hu)return he().add(r.key);{let s=he();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function KS(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PV.bind(null,e),e.Pu.H_=_V.bind(null,e.eventManager),e.Pu.yu=wV.bind(null,e.eventManager),e}function FV(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DV.bind(null,e),e}class Ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O8(this.persistence,new L8,e.initialUser,this.serializer)}Cu(e){return new RS(mm.mi,this.serializer)}Du(e){return new j8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ku.provider={build:()=>new Ku};class OV extends Ku{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof ju,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bt.withCacheSize(this.cacheSizeBytes):bt.DEFAULT;return new RS(r=>ju.mi(r,n),this.serializer)}}class Dh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LV.bind(null,this.syncEngine),await pV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gV}()}createDatastore(e){const n=Uc(e.databaseInfo.databaseId),r=function(i){return new Q8(i)}(e.databaseInfo);return function(i,o,a,l){return new tV(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new rV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>R_(this.syncEngine,n,0),function(){return S_.v()?new S_:new W8}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const m=new CV(s,i,o,a,l,c);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=oe(s);Y(Ss,"RemoteStore shutting down."),i.Ea.add(5),await Ba(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Dh.provider={build:()=>new Dh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class BV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=gt.UNAUTHENTICATED,this.clientId=sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(zr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(zr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await bS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GV(t);Y(zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>I_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>I_(e.remoteStore,s)),t._onlineComponents=e}async function GV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(zr,"Using user provided OfflineComponentProvider");try{await tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ai("Error using user provided cache. Falling back to memory cache: "+n),await tf(t,new Ku)}}else Y(zr,"Using default OfflineComponentProvider"),await tf(t,new OV(void 0));return t._offlineComponents}async function JS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(zr,"Using user provided OnlineComponentProvider"),await P_(t,t._uninitializedComponentsProvider._online)):(Y(zr,"Using default OnlineComponentProvider"),await P_(t,new Dh))),t._onlineComponents}function HV(t){return JS(t).then(e=>e.syncEngine)}async function zV(t){const e=await JS(t),n=e.eventManager;return n.onListen=IV.bind(null,e.syncEngine),n.onUnlisten=NV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RV.bind(null,e.syncEngine),n}function $V(t,e,n={}){const r=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new qV({next:g=>{h.Nu(),o.enqueueAndForget(()=>vV(i,m)),g.fromCache&&l.source==="server"?c.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new EV(a,h,{includeMetadataChanges:!0,qa:!0});return yV(i,m)}(await zV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",D_=!0;class V_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=D_}else this.host=e.host,this.ssl=e.ssl??D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_8)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K4;switch(r.type){case"firstParty":return new X4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=M_.get(n);r&&(Y("ComponentProvider","Removing Datastore"),M_.delete(n),r.terminate())}(this),Promise.resolve()}}function jV(t,e,n,r={}){var c;t=Ni(t,qc);const s=Gi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(xT(`https://${a}`),TT("Firestore",!0)),i.host!==QS&&i.host!==a&&Ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Es(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=gt.MOCK_USER;else{h=_D(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new gt(g)}t._authCredentials=new J4(new UT(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ua(n,Ye._jsonSchema))return new Ye(e,r||null,new Z(Ce.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:je("string",Ye._jsonSchemaVersion),referencePath:je("string")};class Vr extends Ki{constructor(e,n,r){super(e,n,nS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new Z(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function Qr(t,e,...n){if(t=At(t),FT("collection","path",e),t instanceof qc){const r=Ce.fromString(e,...n);return Kv(r),new Vr(t,null,r)}{if(!(t instanceof Ye||t instanceof Vr))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return Kv(r),new Vr(t.firestore,null,r)}}function Am(t,e,...n){if(t=At(t),arguments.length===1&&(e=sm.newId()),FT("doc","path",e),t instanceof qc){const r=Ce.fromString(e,...n);return Wv(r),new Ye(t,null,new Z(r))}{if(!(t instanceof Ye||t instanceof Vr))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return Wv(r),new Ye(t.firestore,t instanceof Vr?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="AsyncQueue";class U_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MS(this,"async_queue_retry"),this._c=()=>{const r=ef();r&&Y(L_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ef();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Dr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ji(e))throw e;Y(L_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Jn("INTERNAL UNHANDLED ERROR: ",F_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=xm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ne(47125,{Pc:F_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function F_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bc extends qc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new U_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U_(e),this._firestoreClient=void 0,await e}}}function WV(t,e){const n=typeof t=="object"?t:AT(),r=typeof t=="string"?t:Bu,s=nm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yD("firestore");i&&jV(s,...i)}return s}function XS(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KV(t),t._firestoreClient}function KV(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,h){return new m5(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new BV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qt(ut.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qt(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ua(e,Qt._jsonSchema))return Qt.fromBase64String(e.bytes)}}Qt._jsonSchemaVersion="firestore/bytes/1.0",Qt._jsonSchema={type:je("string",Qt._jsonSchemaVersion),bytes:je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nn._jsonSchemaVersion}}static fromJSON(e){if(Ua(e,Nn._jsonSchema))return new Nn(e.latitude,e.longitude)}}Nn._jsonSchemaVersion="firestore/geoPoint/1.0",Nn._jsonSchema={type:je("string",Nn._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ua(e,Rn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Rn(e.vectorValues);throw new J(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rn._jsonSchemaVersion="firestore/vectorValue/1.0",Rn._jsonSchema={type:je("string",Rn._jsonSchemaVersion),vectorValues:je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=/^__.*__$/;class YV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oa(e,this.data,n,this.fieldTransforms)}}class ZS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ac:t})}}class km{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new km({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ju(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eC(this.Ac)&&JV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uc(e)}Cc(e,n,r,s=!1){return new km({Ac:e,methodName:n,Dc:r,path:ot.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(t){const e=t._freezeSettings(),n=Uc(t._databaseId);return new QV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XV(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Pm("Data must be an object, but it was:",o,r);const a=tC(r,o);let l,c;if(i.merge)l=new zt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const g=Vh(e,m,n);if(!o.contains(g))throw new J(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);rC(h,g)||h.push(g)}l=new zt(h),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new YV(new Mt(a),l,c)}class Hc extends Ha{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}class Rm extends Ha{_toFieldTransform(e){return new mS(e.path,new _a)}isEqual(e){return e instanceof Rm}}class bm extends Ha{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new xa(e.serializer,cS(e.serializer,this.Fc));return new mS(e.path,n)}isEqual(e){return e instanceof bm&&this.Fc===e.Fc}}function ZV(t,e,n,r){const s=t.Cc(1,e,n);Pm("Data must be an object, but it was:",s,r);const i=[],o=Mt.empty();Jr(r,(l,c)=>{const h=Mm(e,l,n);c=At(c);const m=s.yc(h);if(c instanceof Hc)i.push(h);else{const g=za(c,m);g!=null&&(i.push(h),o.set(h,g))}});const a=new zt(i);return new ZS(o,a,s.fieldTransforms)}function eL(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Vh(e,r,n)],l=[s];if(i.length%2!=0)throw new J(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(Vh(e,i[g])),l.push(i[g+1]);const c=[],h=Mt.empty();for(let g=a.length-1;g>=0;--g)if(!rC(c,a[g])){const v=a[g];let w=l[g];w=At(w);const I=o.yc(v);if(w instanceof Hc)c.push(v);else{const P=za(w,I);P!=null&&(c.push(v),h.set(v,P))}}const m=new zt(c);return new ZS(h,m,o.fieldTransforms)}function tL(t,e,n,r=!1){return za(n,t.Cc(r?4:3,e))}function za(t,e){if(nC(t=At(t)))return Pm("Unsupported field value:",e,t),tC(t,e);if(t instanceof Ha)return function(r,s){if(!eC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=za(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Re.fromDate(r);return{timestampValue:$u(s.serializer,i)}}if(r instanceof Re){const i=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$u(s.serializer,i)}}if(r instanceof Nn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qt)return{bytesValue:xS(s.serializer,r._byteString)};if(r instanceof Ye){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rn)return function(o,a){return{mapValue:{fields:{[WT]:{stringValue:KT},[Gu]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return cm(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${kc(r)}`)}(t,e)}function tC(t,e){const n={};return BT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(t,(r,s)=>{const i=za(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function nC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Nn||t instanceof Qt||t instanceof Ye||t instanceof Ha||t instanceof Rn)}function Pm(t,e,n){if(!nC(n)||!OT(n)){const r=kc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Vh(t,e,n){if((e=At(e))instanceof Gc)return e._internalPath;if(typeof e=="string")return Mm(t,e);throw Ju("Field path arguments must be of type string or ",t,!1,void 0,n)}const nL=new RegExp("[~\\*/\\[\\]]");function Mm(t,e,n){if(e.search(nL)>=0)throw Ju(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gc(...e.split("."))._internalPath}catch{throw Ju(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ju(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J(B.INVALID_ARGUMENT,a+t+l)}function rC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rL extends sC{data(){return super.data()}}function Dm(t,e){return typeof e=="string"?Mm(t,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class iL extends Vm{}function Ms(t,e,...n){let r=[];e instanceof Vm&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Lm).length,a=i.filter(l=>l instanceof zc).length;if(o>1||o>0&&a>0)throw new J(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zc extends iL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zc(e,n,r)}_apply(e){const n=this._parse(e);return iC(e._query,n),new Ki(e.firestore,e.converter,Sh(e._query,n))}_parse(e){const n=Nm(e.firestore);return function(i,o,a,l,c,h,m){let g;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){q_(m,h);const w=[];for(const I of m)w.push(O_(l,i,I));g={arrayValue:{values:w}}}else g=O_(l,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||q_(m,h),g=tL(a,o,m,h==="in"||h==="not-in");return $e.create(c,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ds(t,e,n){const r=e,s=Dm("where",t);return zc._create(s,r,n)}class Lm extends Vm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)iC(o,l),o=Sh(o,l)}(e._query,n),new Ki(e.firestore,e.converter,Sh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function O_(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new J(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rS(e)&&n.indexOf("/")!==-1)throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ce.fromString(n));if(!Z.isDocumentKey(r))throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n_(t,new Z(r))}if(n instanceof Ye)return n_(t,n._key);throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kc(n)}.`)}function q_(t,e){if(!Array.isArray(t)||t.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oL{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Jr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Gu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Be(o.doubleValue));return new Rn(n)}convertGeoPoint(e){return new Nn(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const n=qr(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);we(kS(r),9688,{name:e});const s=new ya(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(n)||Jn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pi extends sC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pi._jsonSchemaVersion="firestore/documentSnapshot/1.0",pi._jsonSchema={type:je("string",pi._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class tu extends pi{data(e={}){return super.data(e)}}class mi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Pl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tu(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new tu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new tu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:lL(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}mi._jsonSchemaVersion="firestore/querySnapshot/1.0",mi._jsonSchema={type:je("string",mi._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class uL extends oL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function Vs(t){t=Ni(t,Ki);const e=Ni(t.firestore,Bc),n=XS(e),r=new uL(e);return sL(t._query),$V(n,t._query).then(s=>new mi(e,r,t,s))}function oC(t,e,n,...r){t=Ni(t,Ye);const s=Ni(t.firestore,Bc),i=Nm(s);let o;return o=typeof(e=At(e))=="string"||e instanceof Gc?eL(i,"updateDoc",t._key,e,n,r):ZV(i,"updateDoc",t._key,e),lC(s,[o.toMutation(t._key,An.exists(!0))])}function aC(t,e){const n=Ni(t.firestore,Bc),r=Am(t),s=aL(t.converter,e);return lC(n,[XV(Nm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function lC(t,e){return function(r,s){const i=new Dr;return r.asyncQueue.enqueueAndForget(async()=>bV(await HV(r),s,i)),i.promise}(XS(t),e)}function Ta(){return new Rm("serverTimestamp")}function cL(t){return new bm("increment",t)}(function(e,n=!0){(function(s){zi=s})(Hi),Ii(new xs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Bc(new Y4(r.getProvider("auth-internal")),new Z4(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(c.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Pr(Hv,zv,e),Pr(Hv,zv,"esm2020")})();function uC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dL=uC,cC=new Va("auth","Firebase",uC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new em("@firebase/auth");function fL(t,...e){Yu.logLevel<=de.WARN&&Yu.warn(`Auth (${Hi}): ${t}`,...e)}function nu(t,...e){Yu.logLevel<=de.ERROR&&Yu.error(`Auth (${Hi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw Um(t,...e)}function bn(t,...e){return Um(t,...e)}function dC(t,e,n){const r={...dL(),[e]:n};return new Va("auth","Firebase",r).create(e,{appName:t.name})}function ps(t){return dC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cC.create(t,...e)}function re(t,e,...n){if(!t)throw Um(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nu(e),new Error(e)}function Xn(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function hL(){return B_()==="http:"||B_()==="https:"}function B_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hL()||CD()||"connection"in navigator)?navigator.onLine:!0}function mL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=xD()||ID()}get(){return pL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e){Xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vL=new $a(3e4,6e4);function Om(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ji(t,e,n,r,s={}){return hC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=La({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return SD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Gi(t.emulatorConfig.host)&&(c.credentials="include"),fC.fetch()(await pC(t,t.config.apiHost,n,a),c)})}async function hC(t,e,n){t._canInitEmulator=!1;const r={...gL,...e};try{const s=new wL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ml(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ml(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ml(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dC(t,h,c);Qn(t,h)}}catch(s){if(s instanceof nr)throw s;Qn(t,"network-request-failed",{message:String(s)})}}async function _L(t,e,n,r,s={}){const i=await Ji(t,e,n,r,s);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function pC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Fm(t.config,s):`${t.config.apiScheme}://${s}`;return yL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class wL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),vL.get())})}}function Ml(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=bn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e){return Ji(t,"POST","/v1/accounts:delete",e)}async function Qu(t,e){return Ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xL(t,e=!1){const n=At(t),r=await n.getIdToken(e),s=qm(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ko(nf(s.auth_time)),issuedAtTime:Ko(nf(s.iat)),expirationTime:Ko(nf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function nf(t){return Number(t)*1e3}function qm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const s=vT(n);return s?JSON.parse(s):(nu("Failed to decode base64 JWT payload"),null)}catch(s){return nu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function G_(t){const e=qm(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nr&&TL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ko(this.lastLoginAt),this.creationTime=Ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Sa(t,Qu(e,{idToken:n}));re(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(m=s.providerUserInfo)!=null&&m.length?mC(s.providerUserInfo):[],o=IL(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Uh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function CL(t){const e=At(t);await Xu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){const n=await hC(t,{},async()=>{const r=La({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await pC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Gi(t.emulatorConfig.host)&&(l.credentials="include"),fC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kL(t,e){return Ji(t,"POST","/v2/accounts:revokeToken",Om(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=G_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await AL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new gi;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gi,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ln{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new SL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Uh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Sa(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xL(this,e)}reload(){return CL(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Sa(this,EL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:v,providerData:w,stsTokenManager:I}=n;re(m&&I,e,"internal-error");const P=gi.fromJSON(this.name,I);re(typeof m=="string",e,"internal-error"),cr(r,e.name),cr(s,e.name),re(typeof g=="boolean",e,"internal-error"),re(typeof v=="boolean",e,"internal-error"),cr(i,e.name),cr(o,e.name),cr(a,e.name),cr(l,e.name),cr(c,e.name),cr(h,e.name);const A=new ln({uid:m,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:P,createdAt:c,lastLoginAt:h});return w&&Array.isArray(w)&&(A.providerData=w.map(x=>({...x}))),l&&(A._redirectEventId=l),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new gi;s.updateFromServerResponse(n);const i=new ln({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Xu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?mC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new gi;a.updateFromIdToken(r);const l=new ln({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Uh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;function Bn(t){Xn(t instanceof Function,"Expected a class definition");let e=H_.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gC.type="NONE";const z_=gC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e,n){return`firebase:${t}:${e}:${n}`}class yi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ru(this.userKey,s.apiKey,i),this.fullPersistenceKey=ru("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qu(this.auth,{idToken:e}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yi(Bn(z_),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Bn(z_);const o=ru(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let m;if(typeof h=="string"){const g=await Qu(e,{idToken:h}).catch(()=>{});if(!g)break;m=await ln._fromGetAccountInfoResponse(e,g,h)}else m=ln._fromJSON(e,h);c!==i&&(a=m),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new yi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new yi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xC(e))return"Blackberry";if(TC(e))return"Webos";if(vC(e))return"Safari";if((e.includes("chrome/")||_C(e))&&!e.includes("edge/"))return"Chrome";if(EC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yC(t=xt()){return/firefox\//i.test(t)}function vC(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _C(t=xt()){return/crios\//i.test(t)}function wC(t=xt()){return/iemobile/i.test(t)}function EC(t=xt()){return/android/i.test(t)}function xC(t=xt()){return/blackberry/i.test(t)}function TC(t=xt()){return/webos/i.test(t)}function Bm(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NL(t=xt()){var e;return Bm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function RL(){return AD()&&document.documentMode===10}function SC(t=xt()){return Bm(t)||EC(t)||TC(t)||xC(t)||/windows phone/i.test(t)||wC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t,e=[]){let n;switch(t){case"Browser":n=$_(xt());break;case"Worker":n=`${$_(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",Om(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=6;class DL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ML,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new bL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await yi.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qu(this,{idToken:e}),r=await ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(ps(this));const n=e?At(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PL(this),n=new DL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Va("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await yi.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&fL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gm(t){return At(t)}class j_{constructor(e){this.auth=e,this.observer=null,this.addObserver=VD(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(t){Hm=t}function UL(t){return Hm.loadJS(t)}function FL(){return Hm.gapiScript}function OL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t,e){const n=nm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Es(i,e??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:e})}function BL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GL(t,e,n){const r=Gm(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=IC(e),{host:o,port:a}=HL(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Es(c,r.config.emulator)&&Es(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Gi(o)?(xT(`${i}//${o}${l}`),TT("Auth",!0)):zL()}function IC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HL(t){const e=IC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:W_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:W_(o)}}}function W_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(t,e){return _L(t,"POST","/v1/accounts:signInWithIdp",Om(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="http://localhost";class Cs extends AC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Cs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vi(e,n)}buildRequest(){const e={requestUri:$L,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=La(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends kC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends ja{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends ja{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends ja{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ln._fromIdTokenResponse(e,r,s),o=K_(r);return new Di({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=K_(r);return new Di({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function K_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends nr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zu(e,n,r,s)}}function NC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(t,i,e,r):i})}async function jL(t,e,n=!1){const r=await Sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(ps(r));const s="reauthenticate";try{const i=await Sa(t,NC(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=qm(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Di._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e,n=!1){if(xn(t.app))return Promise.reject(ps(t));const r="signIn",s=await NC(t,r,e),i=await Di._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function JL(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function YL(t,e,n){return At(t).beforeAuthStateChanged(e,n)}const ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ec,"1"),this.storage.removeItem(ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=1e3,XL=10;class bC extends RC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);RL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,XL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bC.type="LOCAL";const ZL=bC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends RC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PC.type="SESSION";const MC=PC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $c(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await eU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=zm("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function nU(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function rU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function iU(){return DC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebaseLocalStorageDb",oU=1,tc="firebaseLocalStorage",LC="fbase_key";class Wa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jc(t,e){return t.transaction([tc],e?"readwrite":"readonly").objectStore(tc)}function aU(){const t=indexedDB.deleteDatabase(VC);return new Wa(t).toPromise()}function Fh(){const t=indexedDB.open(VC,oU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tc,{keyPath:LC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tc)?e(r):(r.close(),await aU(),e(await Fh()))})})}async function J_(t,e,n){const r=jc(t,!0).put({[LC]:e,value:n});return new Wa(r).toPromise()}async function lU(t,e){const n=jc(t,!1).get(e),r=await new Wa(n).toPromise();return r===void 0?null:r.value}function Y_(t,e){const n=jc(t,!0).delete(e);return new Wa(n).toPromise()}const uU=800,cU=3;class UC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(iU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await rU(),!this.activeServiceWorker)return;this.sender=new tU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fh();return await J_(e,ec,"1"),await Y_(e,ec),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=jc(s,!1).getAll();return new Wa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UC.type="LOCAL";const dU=UC;new $a(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t,e){return e?Bn(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends AC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hU(t){return KL(t.auth,new $m(t),t.bypassAuthState)}function pU(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),WL(n,new $m(t),t.bypassAuthState)}async function mU(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),jL(n,new $m(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hU;case"linkViaPopup":case"linkViaRedirect":return mU;case"reauthViaPopup":case"reauthViaRedirect":return pU;default:Qn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new $a(2e3,1e4);class ri extends FC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ri.currentPopupAction&&ri.currentPopupAction.cancel(),ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gU.get())};e()}}ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="pendingRedirect",su=new Map;class vU extends FC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=su.get(this.auth._key());if(!e){try{const r=await _U(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}su.set(this.auth._key(),e)}return this.bypassAuthState||su.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _U(t,e){const n=xU(e),r=EU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wU(t,e){su.set(t._key(),e)}function EU(t){return Bn(t._redirectPersistence)}function xU(t){return ru(yU,t.config.apiKey,t.name)}async function TU(t,e,n=!1){if(xn(t.app))return Promise.reject(ps(t));const r=Gm(t),s=fU(r,e),o=await new vU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=10*60*1e3;class CU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(e))}saveEventToCache(e){this.cachedEventUids.add(Q_(e)),this.lastProcessedEventTime=Date.now()}}function Q_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e={}){return Ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NU=/^https?/;async function RU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AU(t);for(const n of e)try{if(bU(n))return}catch{}Qn(t,"unauthorized-domain")}function bU(t){const e=Lh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NU.test(n))return!1;if(kU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new $a(3e4,6e4);function X_(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MU(t){return new Promise((e,n)=>{var s,i,o;function r(){X_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X_(),n(bn(t,"network-request-failed"))},timeout:PU.get()})}if((i=(s=Pn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Pn().gapi)!=null&&o.load)r();else{const a=OL("iframefcb");return Pn()[a]=()=>{gapi.load?r():n(bn(t,"network-request-failed"))},UL(`${FL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw iu=null,e})}let iu=null;function DU(t){return iu=iu||MU(t),iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new $a(5e3,15e3),LU="__/auth/iframe",UU="emulator/auth/iframe",FU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qU(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fm(e,UU):`https://${t.config.authDomain}/${LU}`,r={apiKey:e.apiKey,appName:t.name,v:Hi},s=OU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${La(r).slice(1)}`}async function BU(t){const e=await DU(t),n=Pn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:qU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=bn(t,"network-request-failed"),a=Pn().setTimeout(()=>{i(o)},VU.get());function l(){Pn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HU=500,zU=600,$U="_blank",jU="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WU(t,e,n,r=HU,s=zU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...GU,width:r.toString(),height:s.toString(),top:i,left:o},c=xt().toLowerCase();n&&(a=_C(c)?$U:n),yC(c)&&(e=e||jU,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[v,w])=>`${g}${v}=${w},`,"");if(NL(c)&&a!=="_self")return KU(e||"",a),new Z_(null);const m=window.open(e||"",a,h);re(m,t,"popup-blocked");try{m.focus()}catch{}return new Z_(m)}function KU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="__/auth/handler",YU="emulator/auth/handler",QU=encodeURIComponent("fac");async function ew(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hi,eventId:s};if(e instanceof kC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof ja){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${QU}=${encodeURIComponent(l)}`:"";return`${XU(t)}?${La(a).slice(1)}${c}`}function XU({config:t}){return t.emulator?Fm(t,YU):`https://${t.authDomain}/${JU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="webStorageSupport";class ZU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MC,this._completeRedirectFn=TU,this._overrideRedirectResult=wU}async _openPopup(e,n,r,s){var o;Xn((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await ew(e,n,r,Lh(),s);return WU(e,i,zm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ew(e,n,r,Lh(),s);return nU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Xn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BU(e),r=new CU(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rf,{type:rf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[rf];i!==void 0&&n(!!i),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SC()||vC()||Bm()}}const e3=ZU;var tw="@firebase/auth",nw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r3(t){Ii(new xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CC(t)},c=new VL(r,s,i,l);return BL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ii(new xs("auth-internal",e=>{const n=Gm(e.getProvider("auth").getImmediate());return(r=>new t3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(tw,nw,n3(t)),Pr(tw,nw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=5*60,i3=ET("authIdTokenMaxAge")||s3;let rw=null;const o3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i3)return;const s=n==null?void 0:n.token;rw!==s&&(rw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function a3(t=AT()){const e=nm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qL(t,{popupRedirectResolver:e3,persistence:[dU,ZL,MC]}),r=ET("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=o3(i.toString());YL(n,o,()=>o(n.currentUser)),JL(n,a=>o(a))}}const s=_T("auth");return s&&GL(n,`http://${s}`),n}function l3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}LL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=bn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",l3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r3("Browser");const u3={apiKey:"AIzaSyCHr4OXY_EcKxApVH9nz3kbUQQhQCPGZfY",authDomain:"usa-visa-prep-c72f7.firebaseapp.com",databaseURL:"https://usa-visa-prep-c72f7-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"usa-visa-prep-c72f7",storageBucket:"usa-visa-prep-c72f7.firebasestorage.app",messagingSenderId:"777839011356",appId:"1:777839011356:web:125ba58cd0a86da0e561d9"},qC=IT(u3),Vn=WV(qC);a3(qC);const c3=[{name:"Andaman & Nicobar Islands",code:"AN"},{name:"Andhra Pradesh",code:"AP"},{name:"Arunachal Pradesh",code:"AR"},{name:"Assam",code:"AS"},{name:"Bihar",code:"BR"},{name:"Chandigarh",code:"CH"},{name:"Chhattisgarh",code:"CT"},{name:"Dadra & Nagar Haveli and Daman & Diu",code:"DD"},{name:"Delhi",code:"DL"},{name:"Goa",code:"GA"},{name:"Gujarat",code:"GJ"},{name:"Haryana",code:"HR"},{name:"Himachal Pradesh",code:"HP"},{name:"Jammu & Kashmir",code:"JK"},{name:"Jharkhand",code:"JH"},{name:"Karnataka",code:"KA"},{name:"Kerala",code:"KL"},{name:"Ladakh",code:"LA"},{name:"Lakshadweep",code:"LD"},{name:"Madhya Pradesh",code:"MP"},{name:"Maharashtra",code:"MH"},{name:"Manipur",code:"MN"},{name:"Meghalaya",code:"ML"},{name:"Mizoram",code:"MZ"},{name:"Nagaland",code:"NL"},{name:"Odisha",code:"OR"},{name:"Puducherry",code:"PY"},{name:"Punjab",code:"PB"},{name:"Rajasthan",code:"RJ"},{name:"Sikkim",code:"SK"},{name:"Tamil Nadu",code:"TN"},{name:"Telangana",code:"TG"},{name:"Tripura",code:"TR"},{name:"Uttar Pradesh",code:"UP"},{name:"Uttarakhand",code:"UT"},{name:"West Bengal",code:"WB"}],BC=async t=>{const e=Qr(Vn,"travel_agent"),n=Ms(e,Ds("phone","==",t));return!(await Vs(n)).empty},sw=async t=>{const e=Qr(Vn,"travel_agent"),n=Ms(e,Ds("email","==",t));return!(await Vs(n)).empty},d3=async t=>{const e=Qr(Vn,"travel_agent"),n=Ms(e,Ds("phone","==",t)),r=await Vs(n);if(!r.empty){const s=r.docs[0];return{id:s.id,...s.data()}}return null},Oh=async t=>{const e=Qr(Vn,"travel_agent"),n=Ms(e,Ds("email","==",t)),r=await Vs(n);if(!r.empty){const s=r.docs[0];return{id:s.id,...s.data()}}return null},f3=async t=>{try{const e=Qr(Vn,"travel_agent"),n=Ms(e,Ds("email","==",t.email));if(!(await Vs(n)).empty)return"EXISTS";let s="";if(t.isEECAgent==="Yes"&&t.branch){const o=Uu.find(a=>a.identifier===t.branch);s=o?o.name:""}let i="";if(t.state){const o=c3.find(a=>a.code===t.state);i=o?o.name:t.state}return await aC(e,{...t,state:i,isEECAgent:t.isEECAgent||"",branch:s,isVerified:!0,count:0,createdAt:Ta()}),"CREATED"}catch{return"ERROR"}},iw=async t=>{try{const e=Qr(Vn,"travel_agent"),n=Ms(e,Ds("email","==",t)),r=await Vs(n);if(r.empty)return{success:!1,error:"User not found"};const s=r.docs[0],i=Am(Vn,"travel_agent",s.id);return await oC(i,{count:cL(1),lastUpdated:Ta()}),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},ow=async(t,e)=>{try{const n=Qr(Vn,"visa_searches");return await aC(n,{userEmail:t,origin:e.origin,originState:e.originState,destination:e.destination,visaType:e.visaType,userCity:e.userCity||"",userState:e.userState||"",createdAt:Ta()}),{success:!0}}catch(n){return console.error("Error saving visa search query:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}},aw=async(t,e)=>{try{const n=Qr(Vn,"travel_agent"),r=Ms(n,Ds("email","==",t)),s=await Vs(r);if(s.empty)return{success:!1,error:"User not found"};const i=s.docs[0],o=Am(Vn,"travel_agent",i.id);return await oC(o,{lastDestination:e.destination,lastOriginState:e.originState,lastVisaType:e.visaType,lastOrigin:e.origin,lastSearchAt:Ta(),lastUpdated:Ta()}),{success:!0}}catch(n){return console.error("Error updating user last search:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}},h3="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/sendEmailOtpUSA",p3="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/verifyEmailOtpUSA",m3="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/sendRegistrationEmailsUniversal",g3=async t=>{try{return(await(await fetch(h3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,targetCountry:"Travel Agent"})})).json()).success===!0}catch(e){return console.error("Error sending email OTP:",e),!1}},y3=async(t,e)=>{try{return(await(await fetch(p3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,otp:e})})).json()).success===!0}catch(n){return console.error("Error verifying email OTP:",n),!1}},v3=t=>{let e=Uu.find(n=>n.identifier===t);return e||(e=Uu.find(n=>n.name===t)),!e||!e.counselors?[]:e.counselors.map(n=>n.email).filter(n=>n&&n.trim()!=="")},_3=(t,e)=>{let n=`New Visa Search Query - User Information

`;n+=`USER PROFILE
`,n+=`
`,n+=`Name: ${t.name||"N/A"}
`,n+=`Email: ${t.email||"N/A"}
`,n+=`Phone: ${t.phone||"N/A"}
`,n+=`EEC is Admissions Agent: ${t.isEECAgent||"N/A"}
`,t.isEECAgent==="Yes"&&t.branch&&(n+=`Selected Branch: ${t.branch}
`),n+=`

VISA SEARCH QUERY / BOOKING DETAILS
`,n+=`
`,n+=`Booking From: India
`,n+=`Booking To: ${e.destination||"N/A"}
`,n+=`Origin State: ${e.originState||"N/A"}
`,n+=`Visa Type: ${e.visaType||"N/A"}
`;const r=new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata"});if(n+=`Search Date: ${r}
`,t.createdAt){const s=new Date(t.createdAt.seconds*1e3).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"});n+=`User Registration Date: ${s}
`}return n+=`


`,n+=`TIP: To organize these emails, create a Gmail filter:
`,n+=`1. Click the three dots () on this email
`,n+=`2. Select "Filter messages like this"
`,n+=`3. Click "Create filter"
`,n+=`4. Check "Apply the label" and select/create "Visa Search Queries"
`,n+=`5. Click "Create filter"
`,n},lw=async(t,e)=>{try{const n=await Oh(t);if(!n)return console.error("User not found in database"),!1;const r=[];if(n.isEECAgent==="Yes"&&n.branch){const c=v3(n.branch);r.push(...c)}const s=["amit.jalan@eecglobal.com","madhav@eecglobal.com","eecprexa@gmail.com","eecbaroda@gmail.com"];r.push(...s);const i=[...new Set(r)];if(i.length===0)return console.error("No recipients found"),!1;const o=_3(n,e),l=`Visa Search: ${n.city?`${n.city}, `:""}${n.state||"India"}  ${e.destination} (${e.visaType}) - ${n.name||"User"}`;try{return(await(await fetch(m3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipients:i,emailBody:o,subject:l})})).json()).success===!0}catch(c){return console.error("Error sending visa search emails:",c),!1}}catch(n){return console.error("Error in sendVisaSearchNotificationEmails:",n),!1}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},h)=>j.createElement("svg",{ref:h,...w3,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${E3(t)}`,a].join(" "),...c},[...e.map(([m,g])=>j.createElement(m,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=te("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=te("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=te("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=te("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=te("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=te("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=te("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=te("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=te("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=te("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=te("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=te("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=te("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=te("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=te("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=te("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=te("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Jo=Y3,Ca=b3,rc=sF,Ia=x3,Aa=Gh,ka=nc,Po=S3,Na=q3,sc=oF,of=A3,zh=H3,cF=eF,Wc=Bh,Lr=T3,dF=aF,fF=N3,Tn=Hh,hF=C3,zC=V3,Yo=F3,$C=Q3,pF=GC,mF=$3,jC=k3,gF=L3,yF=tF,uw=HC,WC=rF,vF=iF,_F=K3,wF=j3,KC=X3,JC=O3,EF=nF,xF=I3,TF=D3,SF=W3,CF=Z3,YC=GC,jm=P3,Wm=M3,QC=lF,XC=J3,ic=({className:t})=>p.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),IF=({processingTime:t})=>{const n=(a=>{const l=typeof a=="string"?a:String(a||"");if(!l)return 15;const c=l.match(/\d+/g);if(!c)return 15;const h=c.reduce((m,g)=>m+parseInt(g),0)/c.length;return l.toLowerCase().includes("week")?h*7:h})(t),r=7,s=r+n+3,i=a=>{const l=new Date;return l.setDate(l.getDate()+a),l.toLocaleDateString("en-IN",{day:"numeric",month:"short"})},o=[{title:"Prepare Docs",date:i(0),desc:"Get checklist ready",status:"current",icon:Ca},{title:"Submit App",date:i(r),desc:"Appointment / Biometrics",status:"upcoming",icon:jC},{title:"Processing",date:"~ "+Math.round(n)+" Days",desc:"Consulate Review",status:"upcoming",icon:ka},{title:"Fly",date:i(s),desc:"Visa Stamped",status:"upcoming",icon:Jo}];return p.jsxs("div",{className:"w-full py-6",children:[p.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-6 flex items-center gap-2",children:[p.jsx(ka,{className:"w-4 h-4"}),"Estimated Timeline"]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute top-5 left-4 right-4 h-0.5 bg-slate-200 dark:bg-slate-700 hidden md:block"}),p.jsx("div",{className:"absolute left-5 top-4 bottom-4 w-0.5 bg-slate-200 dark:bg-slate-700 md:hidden"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 relative z-10",children:o.map((a,l)=>p.jsxs("div",{className:"flex md:flex-col items-center md:text-center gap-4 md:gap-3 group",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-4 flex-shrink-0 transition-all duration-500
                    ${l===0?"bg-violet-600 border-violet-100 dark:border-violet-900 text-white shadow-lg shadow-violet-500/30 scale-110":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-600 text-slate-400 dark:text-slate-500 group-hover:border-violet-300 dark:group-hover:border-violet-700 group-hover:text-violet-500"}
                `,children:p.jsx(a.icon,{className:"w-4 h-4"})}),p.jsxs("div",{className:"text-left md:text-center",children:[p.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-0.5 ${l===0?"text-violet-600 dark:text-violet-400":"text-slate-500 dark:text-slate-400"}`,children:a.date}),p.jsx("h4",{className:`font-bold text-sm md:text-base ${l===0?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-300"}`,children:a.title}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 font-medium",children:a.desc})]})]},l))})]}),p.jsx("div",{className:"mt-6 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:["*Dates are estimated based on the current ",p.jsx("strong",{children:t||"Standard"})," processing window."]})})]})},AF=({data:t,origin:e,destination:n,visaType:r})=>{const[s,i]=j.useState("English"),[o,a]=j.useState(t),[l,c]=j.useState(!1),[h,m]=j.useState({}),[g,v]=j.useState(!1),[w,I]=j.useState(!1),[P,A]=j.useState(null),[x,k]=j.useState(!1),D=j.useRef(null),[U,V]=j.useState(0);j.useEffect(()=>{a(t),A(null),i("English")},[t]),j.useEffect(()=>{V(0);const q=setTimeout(()=>{V(o.confidenceScore||0)},100);return()=>clearTimeout(q)},[o.confidenceScore]),j.useLayoutEffect(()=>{x&&D.current&&D.current.scrollTo({top:0,behavior:"auto"})},[x]);const T=j.useMemo(()=>{try{if(!n)return null;const q=String(t.notes||""),z=String(t.embassyContact||""),$=(q+" "+z).toLowerCase(),ee=t&&Array.isArray(t.officialSources)?t.officialSources:[],le=String(n).toLowerCase().trim();if(le==="united states"||le==="usa"||$.includes("ustraveldocs"))return{url:"https://www.ustraveldocs.com/in/en/",label:"US Visa Appointment (CGI)"};if(le==="spain"||$.includes("bls")&&$.includes("spain"))return{url:"https://india.blsspainvisa.com/",label:"BLS Spain Appointment"};const xe={"united kingdom":"gbr",uk:"gbr",canada:"can",australia:"aus",france:"fra",germany:"deu",italy:"ita",netherlands:"nld",switzerland:"che",austria:"aut",japan:"jpn",poland:"pol",sweden:"swe",norway:"nor",denmark:"dnk",portugal:"prt",belgium:"bel","south africa":"zaf","czech republic":"cze",hungary:"hun",finland:"fin",croatia:"hrv",ireland:"irl",luxembourg:"lux",malta:"mlt",slovakia:"svk",slovenia:"svn",estonia:"est",latvia:"lva",lithuania:"ltu",iceland:"isl",cyprus:"cyp",ukraine:"ukr",georgia:"geo",thailand:"tha",singapore:"sgp",malaysia:"mys"}[le],Xe=ee.find(ie=>{const Se=String(ie.url||"").toLowerCase();return!!(xe&&Se.includes(`vfsglobal.com/ind/en/${xe}`))});if(Xe)return{url:Xe.url,label:`VFS Global Appointment (${n})`};if(xe)return{url:`https://visa.vfsglobal.com/ind/en/${xe}/book-appointment`,label:`Book VFS Appointment (${n})`};if($.includes("bls")){const ie=ee.find(Se=>String(Se.url||"").includes("blsinternational"));return ie?{url:ie.url,label:"BLS International Appointment"}:{url:"https://www.blsinternational.com/india/",label:"BLS International Appointment"}}if($.includes("vfs")||ee.some(ie=>String(ie.url||"").includes("vfsglobal")))return{url:"https://visa.vfsglobal.com/ind/en/",label:"VFS Global Appointment"};if($.includes("tlscontact"))return{url:"https://www.tlscontact.com/",label:"TLScontact Appointment"}}catch(q){return console.warn("Error calculating booking link",q),null}return null},[t,n]),E=async q=>{const z=q.target.value;if(i(z),z==="English"){a(t);return}if(h[z]){a(h[z]);return}c(!0);try{const $=await sD(t,z);m(ee=>({...ee,[z]:$})),a($)}catch($){console.error("Translation failed",$)}finally{c(!1)}},S=async()=>{if(P){k(!0);return}I(!0);try{const q=e.includes("(")?e.split("(")[1].replace(")",""):"India",z=await iD("India",q,n,r);A(z),k(!0)}catch{alert("Failed to generate detailed checklist. Please try again.")}finally{I(!1)}},b=()=>{var z;const q=`
> **Source**: [EEC Global AI Travel Agent](https://ai.eecglobal.com/#/destination/${encodeURIComponent(n)}/type/${encodeURIComponent(r)})
> **Verified**: ${o.lastUpdate||new Date().toISOString().split("T")[0]}

**Visa Requirements for ${n} (${r})**
*Origin: ${e}*

| Metric | Value |
| :--- | :--- |
| **Status** | ${o.status} |
| **Cost** | ${o.cost} |
| **Processing** | ${o.processingTime} |
| **Validity** | ${o.validity} |

**Key Documents**:
${(z=o.documents)==null?void 0:z.slice(0,5).map($=>`- ${$}`).join(`
`)}

*Generated by Enbee Education Center (Est. 1997)*
    `.trim();navigator.clipboard.writeText(q),v(!0),setTimeout(()=>v(!1),2e3)},N=q=>{const z=new Date().toLocaleDateString("en-IN");let $=` *Visa Checklist: ${n} (${r})*
`;return $+=` Generated: ${z}
`,$+=` Origin: ${e}

`,$+=` *Status*: ${o.status}
`,$+=` *Est. Cost*: ${o.cost}
`,$+=` *Processing*: ${o.processingTime}

`,q&&P?($+=` *FORENSIC DOCUMENT CHECKLIST*
`,P.forEach(ee=>{$+=`
*${ee.categoryName}*
`,(ee.items||[]).forEach(le=>{$+=` ${le.item}${le.isCritical?" ( Critical)":""}
`})})):($+=` *Key Documents Required:*
`,(o.documents||[]).slice(0,8).forEach(ee=>{$+=` ${ee}
`}),(o.documents||[]).length>8&&($+=`+ ${(o.documents||[]).length-8} more...
`)),$+=`
 *Official Booking:* ${(T==null?void 0:T.url)||"Check Consulate Website"}
`,$+=`
*Note:* Generated by EEC AI. Verify with official sources.`,encodeURIComponent($)},M=(q,z=!1)=>{const $=N(z),ee=encodeURIComponent(`${n} Visa Checklist - EEC Services`);if(q==="whatsapp")window.open(`https://wa.me/?text=${$}`,"_blank");else{const le=decodeURIComponent($);window.open(`mailto:?subject=${ee}&body=${encodeURIComponent(le)}`,"_blank")}},R=q=>{const z=String(q||"").toLowerCase();return z.includes("free")||z.includes("not required")?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-800 dark:text-emerald-200 border-emerald-200 dark:border-emerald-800":z.includes("arrival")||z.includes("evisa")?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200 border-amber-200 dark:border-amber-800":"bg-violet-100 dark:bg-violet-900/50 text-violet-800 dark:text-violet-200 border-violet-200 dark:border-violet-800"},X=q=>q==="Easy"?"text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-800":q==="Medium"?"text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 border-amber-100 dark:border-amber-800":"text-rose-600 dark:text-rose-400 bg-rose-50 dark:bg-rose-900/20 border-rose-100 dark:border-rose-800",_e=()=>{const z=`Flights from ${e.includes("(")?"India":e} to ${n}`,$=`https://www.google.com/travel/flights?q=${encodeURIComponent(z)}`;window.open($,"_blank")},ye=(q=>q>=80?{bg:"bg-emerald-500",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800",label:"High Confidence"}:q>=50?{bg:"bg-amber-500",text:"text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",label:"Medium Confidence"}:{bg:"bg-rose-500",text:"text-rose-600 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800",label:"Low Confidence"})(o.confidenceScore||0);return p.jsxs("article",{itemScope:!0,itemType:"http://schema.org/GovernmentPermit",className:"w-full max-w-6xl mx-auto animate-fade-in-up relative overflow-hidden group/article",children:[l&&p.jsxs("div",{className:"absolute inset-0 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md z-20 rounded-3xl flex flex-col items-center justify-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-violet-200 border-t-violet-600 mb-4"}),p.jsxs("p",{className:"text-violet-900 dark:text-violet-200 font-bold animate-pulse",children:["Translating to ",s,"..."]})]}),x&&P&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden relative border border-slate-200 dark:border-slate-800",children:[p.jsxs("div",{className:"p-6 bg-slate-900 dark:bg-slate-950 text-white flex items-center justify-between flex-shrink-0 border-b border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[p.jsx("div",{className:"p-2 bg-emerald-500 rounded-lg text-slate-900 flex-shrink-0",children:p.jsx(Tn,{className:"w-6 h-6"})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("h3",{className:"font-extrabold text-xl tracking-tight truncate",children:"Forensic Document Protocol"}),p.jsxs("p",{className:"text-emerald-400 text-xs font-bold uppercase tracking-wider truncate",children:["Official AI Deep-Dive  ",n,"  ",r]})]})]}),p.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors flex-shrink-0",children:p.jsx("span",{className:"text-2xl leading-none",children:""})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 bg-slate-50 dark:bg-slate-900",ref:D,children:[p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl flex gap-3 items-start",children:[p.jsx(Ia,{className:"w-5 h-5 text-amber-600 dark:text-amber-500 flex-shrink-0 mt-0.5"}),p.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium break-words [overflow-wrap:anywhere]",children:"This checklist is generated based on strict consular standards. Missing small details (like bank stamps or specific photo backgrounds) often leads to rejection. Check off items as you verify them."})]}),(P||[]).map((q,z)=>p.jsxs("div",{className:"bg-white dark:bg-slate-950 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[p.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-4 pb-2 border-b border-slate-100 dark:border-slate-800 flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-6 bg-violet-600 rounded-full"}),q.categoryName]}),p.jsx("div",{className:"space-y-4",children:(q.items||[]).map(($,ee)=>p.jsxs("div",{className:"flex gap-4 group",children:[p.jsx("div",{className:"pt-1 flex-shrink-0",children:p.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-violet-600 focus:ring-violet-500 cursor-pointer"})}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[p.jsx("span",{className:"font-bold text-slate-900 dark:text-slate-200 text-base break-words [overflow-wrap:anywhere]",children:$.item}),$.isCritical&&p.jsx("span",{className:"bg-rose-100 dark:bg-rose-900/40 text-rose-700 dark:text-rose-300 text-[10px] font-extrabold px-2 py-0.5 rounded-full uppercase tracking-wider flex-shrink-0",children:"Critical"})]}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed font-medium break-words [overflow-wrap:anywhere] min-w-0",children:$.description})]})]},ee))})]},z))]}),p.jsxs("div",{className:"p-4 bg-white dark:bg-slate-950 border-t border-slate-200 dark:border-slate-800 flex justify-between gap-2 flex-shrink-0",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>M("whatsapp",!0),className:"px-4 py-2.5 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl flex items-center gap-2 transition-colors shadow-sm",title:"Send Full Checklist to WhatsApp",children:[p.jsx(ic,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"WhatsApp"})]}),p.jsx("button",{onClick:()=>M("email",!0),className:"px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 font-bold rounded-xl flex items-center gap-2 transition-colors",children:p.jsx(uw,{className:"w-4 h-4"})})]}),p.jsx("div",{className:"flex gap-2",children:p.jsx("button",{onClick:()=>k(!1),className:"px-5 py-2.5 bg-slate-900 dark:bg-slate-700 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-slate-600 transition-colors",children:"Close"})})]})]})}),p.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl rounded-3xl shadow-2xl shadow-slate-200/50 dark:shadow-black/50 border border-white dark:border-slate-800 overflow-hidden transition-colors w-full relative",children:[p.jsx("div",{className:"absolute top-10 right-10 opacity-[0.03] pointer-events-none select-none",children:p.jsx("div",{className:"border-4 border-slate-900 dark:border-white transform -rotate-12 p-4 rounded-xl",children:p.jsx("span",{className:"text-8xl font-black uppercase tracking-widest text-slate-900 dark:text-white",children:"Dossier"})})}),p.jsxs("div",{className:"p-5 md:p-10 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-900/50 relative transition-colors z-10",children:[p.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between md:items-start gap-4 mb-4 md:mb-6",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-bold uppercase tracking-wider",children:[p.jsxs("span",{className:"bg-slate-900 dark:bg-slate-700 text-white px-3 py-1 rounded-full whitespace-nowrap shadow-sm",children:[r," Visa"]}),p.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:""}),p.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400 break-words max-w-full min-w-0 bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700",children:[p.jsx(Aa,{className:"w-3 h-3 flex-shrink-0 text-violet-500"}),p.jsxs("span",{className:"break-words truncate",children:[e,"  ",n]})]}),o.lastUpdate&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:""}),p.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900/30 px-2 py-1 rounded-lg",children:[p.jsx($C,{className:"w-3 h-3 flex-shrink-0"}),p.jsxs("span",{children:["Updated: ",o.lastUpdate]})]})]})]}),p.jsxs("div",{className:"relative group self-end md:self-auto flex items-center gap-2 flex-shrink-0",children:[p.jsxs("button",{onClick:b,className:"flex items-center gap-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full px-4 py-2 shadow-sm text-sm font-bold text-slate-700 dark:text-slate-200 hover:border-violet-300 dark:hover:border-violet-600 hover:text-violet-600 dark:hover:text-violet-400 transition-colors",title:"Copy as Citation for LLM/Chat",children:[g?p.jsx(Ca,{className:"w-4 h-4 text-green-500"}):p.jsx(zC,{className:"w-4 h-4"}),p.jsx("span",{children:g?"Copied":"Copy Dossier"})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full px-4 py-2 shadow-sm text-sm font-bold text-slate-700 dark:text-slate-200 hover:border-violet-300 dark:hover:border-violet-600 hover:text-violet-600 dark:hover:text-violet-400 transition-colors cursor-pointer relative",children:[p.jsx(zh,{className:"w-4 h-4 flex-shrink-0"}),p.jsx("span",{children:"Translate"}),p.jsxs("select",{value:s,onChange:E,className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",children:[p.jsx("option",{value:"English",children:"English"}),Bx.map(q=>p.jsx("option",{value:q,children:q},q))]})]})]})]}),p.jsxs("div",{className:"relative block",children:[p.jsx("div",{className:`mb-4 md:mb-2 md:float-right md:ml-6 px-4 py-2 md:px-6 md:py-3 rounded-2xl font-bold border-2 text-center shadow-sm md:transform md:rotate-1 w-fit clear-right ${R(o.status)}`,children:o.status}),p.jsx("h2",{className:"text-2xl md:text-4xl font-extrabold text-slate-900 dark:text-white mb-3 leading-snug break-words [overflow-wrap:anywhere]",children:o.visaName}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-full leading-relaxed text-base md:text-lg font-medium break-words [overflow-wrap:anywhere]",children:o.summary}),p.jsx("div",{className:"clear-both"}),o.confidenceScore!==void 0&&p.jsxs("div",{className:`mt-8 p-6 rounded-2xl border ${ye.border} bg-white/60 dark:bg-slate-800/60 flex flex-col sm:flex-row items-center gap-6 max-w-2xl backdrop-blur-md shadow-sm transition-all`,children:[p.jsxs("div",{className:"relative w-28 h-28 flex-shrink-0 flex items-center justify-center",children:[p.jsx("div",{className:`absolute inset-0 rounded-full blur-xl opacity-20 ${ye.bg}`}),p.jsxs("svg",{className:"w-full h-full transform -rotate-90 drop-shadow-md",viewBox:"0 0 100 100",children:[p.jsx("circle",{cx:"50",cy:"50",r:"42",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700/50"}),p.jsx("circle",{cx:"50",cy:"50",r:"42",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:264,strokeDashoffset:264-264*U/100,strokeLinecap:"round",className:`${ye.text} transition-all duration-[1500ms] ease-out`})]}),p.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:p.jsxs("span",{className:`text-3xl font-black tracking-tighter ${ye.text}`,children:[U,"%"]})})]}),p.jsxs("div",{className:"text-center sm:text-left flex-1",children:[p.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 mb-2",children:[p.jsx(Tn,{className:`w-5 h-5 ${ye.text}`}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Forensic Reliability Score"}),p.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase border ${ye.border} ${ye.bg} ${ye.text} bg-opacity-20`,children:ye.label})]}),p.jsxs("p",{className:"text-sm md:text-base text-slate-700 dark:text-slate-300 italic leading-relaxed font-medium",children:['"',o.aiAnalysis||"Calculated based on source reliability and cross-referencing.",'"']})]})]})]}),p.jsx("div",{className:"mt-8 md:mt-10 overflow-hidden rounded-2xl border border-slate-100 dark:border-slate-700",children:p.jsxs("table",{className:"w-full text-left border-collapse bg-white dark:bg-slate-800",children:[p.jsxs("caption",{className:"sr-only",children:["Visa Requirements Summary Table for ",n]}),p.jsx("thead",{className:"sr-only",children:p.jsxs("tr",{children:[p.jsx("th",{children:"Metric"}),p.jsx("th",{children:"Value"})]})}),p.jsxs("tbody",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-4 divide-y md:divide-y-0 md:divide-x divide-slate-100 dark:divide-slate-700",children:[p.jsxs("tr",{className:"flex flex-col p-5 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group",children:[p.jsxs("td",{className:"text-xs font-bold uppercase tracking-wide text-blue-500 mb-2 flex items-center gap-2",children:[p.jsx(ka,{className:"w-4 h-4"})," Processing"]}),p.jsx("td",{className:"font-bold text-slate-900 dark:text-white text-sm md:text-base leading-tight break-words",children:o.processingTime})]}),p.jsxs("tr",{className:"flex flex-col p-5 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group",children:[p.jsxs("td",{className:"text-xs font-bold uppercase tracking-wide text-green-500 mb-2 flex items-center gap-2",children:[p.jsx(Po,{className:"w-4 h-4"})," Est. Cost"]}),p.jsx("td",{className:"font-bold text-slate-900 dark:text-white text-sm md:text-base leading-tight break-words",children:o.cost})]}),p.jsxs("tr",{className:"flex flex-col p-5 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group",children:[p.jsxs("td",{className:"text-xs font-bold uppercase tracking-wide text-purple-500 mb-2 flex items-center gap-2",children:[p.jsx(rc,{className:"w-4 h-4"})," Validity"]}),p.jsx("td",{className:"font-bold text-slate-900 dark:text-white text-sm md:text-base leading-tight break-words",children:o.validity})]}),p.jsxs("tr",{className:`flex flex-col p-5 transition-colors group ${X(o.difficulty).replace("border","border-l-0")}`,children:[p.jsx("td",{className:"text-xs font-bold uppercase tracking-wide opacity-75 mb-2",children:"Difficulty"}),p.jsx("td",{className:"font-black text-lg leading-tight",children:o.difficulty})]})]})]})}),p.jsx("div",{className:"mt-10 pt-8 border-t border-slate-100 dark:border-slate-800",children:p.jsx(IF,{processingTime:o.processingTime})})]}),p.jsxs("div",{className:"p-5 md:p-10 grid lg:grid-cols-12 gap-8 md:gap-10",children:[p.jsxs("div",{className:"lg:col-span-8 space-y-8 md:space-y-12 min-w-0",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:"Specific Requirements"}),p.jsx("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[{icon:dF,title:"Financials",text:o.financialReqs,color:"text-emerald-700 dark:text-emerald-400"},{icon:fF,title:"Photo Specs",text:o.photoReqs,color:"text-blue-700 dark:text-blue-400"},{icon:Tn,title:"Insurance",text:o.insuranceReqs,color:"text-indigo-700 dark:text-indigo-400"},{icon:hF,title:"Accommodation",text:o.accommodationReqs,color:"text-fuchsia-700 dark:text-fuchsia-400"}].map((q,z)=>p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 md:p-6 border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:`flex items-center gap-2 ${q.color} font-bold mb-3 text-sm uppercase tracking-wide`,children:[p.jsx(q.icon,{className:"w-4 h-4 flex-shrink-0"})," ",q.title]}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm leading-relaxed font-medium break-words whitespace-pre-line [overflow-wrap:anywhere]",children:q.text})]},z))})]}),o.legalCitations&&o.legalCitations.length>0&&p.jsxs("div",{className:"bg-slate-900 dark:bg-slate-800 rounded-xl p-5 md:p-6 text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:p.jsx(KC,{className:"w-24 h-24"})}),p.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider mb-3 flex items-center gap-2 text-violet-300",children:[p.jsx(JC,{className:"w-4 h-4"})," Legal Framework & Acts"]}),p.jsx("ul",{className:"space-y-2 relative z-10",children:o.legalCitations.map((q,z)=>p.jsxs("li",{className:"flex items-start gap-2 text-sm font-mono text-slate-300",children:[p.jsx("span",{className:"text-violet-400",children:""})," ",q]},z))})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-3",children:[p.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-xl bg-violet-600 text-white text-sm font-bold shadow-lg shadow-violet-200 dark:shadow-violet-900/30 flex-shrink-0",children:"1"}),s==="English"?"Detailed Process":"Detailed Process (Translated)"]}),p.jsx("div",{className:"space-y-6 relative pl-4 border-l-2 border-slate-100 dark:border-slate-800 ml-4",children:(o.processSteps||[]).map((q,z)=>p.jsxs("div",{className:"relative pl-8 group",children:[p.jsx("div",{className:"absolute -left-[21px] top-0.5 w-4 h-4 rounded-full bg-white dark:bg-slate-900 border-4 border-violet-500 shadow-sm group-hover:scale-125 transition-transform"}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm md:text-base font-medium break-words [overflow-wrap:anywhere]",children:q})]},z))})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[p.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[p.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-xl bg-fuchsia-600 text-white text-sm font-bold shadow-lg shadow-fuchsia-200 dark:shadow-fuchsia-900/30 flex-shrink-0",children:"2"}),s==="English"?"Checklist":"Checklist (Translated)"]}),p.jsxs("button",{onClick:S,disabled:w,className:"bg-slate-900 dark:bg-slate-100 hover:bg-violet-700 dark:hover:bg-slate-200 text-white dark:text-slate-900 text-xs font-bold py-2.5 px-4 rounded-xl shadow-lg shadow-slate-200 dark:shadow-black/30 flex items-center gap-2 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex-shrink-0",children:[w?p.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):p.jsx(Yo,{className:"w-4 h-4"}),p.jsx("span",{children:"Generate Forensic Checklist"})]})]}),p.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-3xl p-6 md:p-8 border border-slate-100 dark:border-slate-800 relative overflow-hidden",children:p.jsx("ul",{className:"grid gap-4",children:(o.documents||[]).map((q,z)=>p.jsxs("li",{className:"flex items-start gap-4 p-2 hover:bg-white dark:hover:bg-slate-800 rounded-xl transition-colors",children:[p.jsx("div",{className:"mt-0.5 min-w-[20px] p-1 bg-green-100 dark:bg-green-900/50 rounded-full text-green-600 dark:text-green-400 flex-shrink-0 flex items-center justify-center h-5 w-5",children:p.jsx(Ca,{className:"w-3.5 h-3.5"})}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-medium break-words [overflow-wrap:anywhere] text-sm md:text-base flex-1 min-w-0",children:q})]},z))})})]})]}),p.jsxs("div",{className:"lg:col-span-4 space-y-6 min-w-0",children:[o.rejectionRisk&&p.jsxs("div",{className:`bg-white dark:bg-slate-800 border-2 rounded-3xl p-6 shadow-sm ${o.rejectionRisk.probability==="High"?"border-rose-200 dark:border-rose-900":o.rejectionRisk.probability==="Moderate"?"border-amber-200 dark:border-amber-900":"border-emerald-200 dark:border-emerald-900"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[p.jsx(EF,{className:`w-5 h-5 ${o.rejectionRisk.probability==="High"?"text-rose-500":"text-amber-500"}`}),"Risk Profile"]}),p.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${o.rejectionRisk.probability==="High"?"bg-rose-100 text-rose-700":o.rejectionRisk.probability==="Moderate"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:[o.rejectionRisk.probability," Risk"]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1",children:"Primary Concern"}),p.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 leading-tight",children:o.rejectionRisk.primaryReason})]}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-[10px] uppercase font-bold text-violet-500 mb-1",children:"Mitigation Strategy"}),p.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 italic",children:['"',o.rejectionRisk.mitigationTip,'"']})]})]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 rounded-3xl p-6 md:p-8 text-white shadow-xl shadow-indigo-200 dark:shadow-indigo-900/40 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:bg-white/20 transition-all"}),p.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[p.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:p.jsx(Jo,{className:"w-6 h-6 transform -rotate-45"})}),p.jsx("h3",{className:"font-bold text-xl",children:"Ready to fly?"})]}),p.jsxs("p",{className:"text-indigo-100 text-sm mb-6 font-medium relative z-10 break-words [overflow-wrap:anywhere]",children:["Search for flights from India to ",n," once your visa is approved."]}),p.jsx("button",{onClick:_e,className:"w-full bg-white text-indigo-700 font-bold py-3.5 rounded-xl hover:bg-indigo-50 transition-colors shadow-lg relative z-10",children:"Search Flights"})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-3xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded-lg text-green-600 dark:text-green-400",children:p.jsx(yF,{className:"w-5 h-5"})}),p.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Save & Share"})]}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 font-medium",children:"Send this visa dossier to your phone or email to keep it handy."}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:()=>M("whatsapp"),className:"flex flex-col items-center justify-center gap-2 p-3 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-green-200 hover:bg-green-50 dark:hover:bg-green-900/20 transition-all group",children:[p.jsx(ic,{className:"w-6 h-6 text-green-500 dark:text-green-400 group-hover:scale-110 transition-transform"}),p.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 group-hover:text-green-700 dark:group-hover:text-green-300",children:"WhatsApp"})]}),p.jsxs("button",{onClick:()=>M("email"),className:"flex flex-col items-center justify-center gap-2 p-3 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all group",children:[p.jsx(uw,{className:"w-6 h-6 text-blue-500 dark:text-blue-400 group-hover:scale-110 transition-transform"}),p.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 group-hover:text-blue-700 dark:group-hover:text-blue-300",children:"Email"})]})]})]}),p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/20 border border-amber-100 dark:border-amber-900/40 rounded-3xl p-6 md:p-8",children:[p.jsxs("div",{className:"flex items-center gap-2 text-amber-700 dark:text-amber-500 font-bold mb-4",children:[p.jsx(Ia,{className:"w-5 h-5 flex-shrink-0"}),p.jsx("span",{children:"Critical Jurisdiction"})]}),p.jsx("div",{className:"prose prose-sm prose-amber dark:prose-invert text-amber-900/80 dark:text-amber-200/80 leading-relaxed font-medium break-words [overflow-wrap:anywhere] min-w-0",children:o.notes}),p.jsxs("div",{className:"mt-8 pt-6 border-t border-amber-200/50 dark:border-amber-900/50",children:[p.jsx("h4",{className:"font-bold text-amber-900 dark:text-amber-400 mb-2 text-xs uppercase tracking-wide",children:"Where to Apply"}),p.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium bg-amber-100/50 dark:bg-amber-900/40 p-3 rounded-xl break-words [overflow-wrap:anywhere] min-w-0",children:o.embassyContact||"Contact your nearest embassy or consulate."}),T&&p.jsxs("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"mt-4 w-full bg-white dark:bg-slate-800 hover:bg-amber-100 dark:hover:bg-slate-700 text-amber-900 dark:text-amber-200 border border-amber-200 dark:border-slate-700 font-bold py-3 px-4 rounded-xl shadow-sm flex items-center justify-center gap-2 transition-all group",children:[p.jsx(jC,{className:"w-4 h-4 text-amber-700 dark:text-amber-400"}),p.jsx("span",{children:T.label}),p.jsx(gF,{className:"w-3 h-3 text-amber-400 group-hover:translate-x-1 transition-transform"})]})]})]}),o.officialSources&&o.officialSources.length>0&&p.jsxs("div",{className:"animate-fade-in-up pt-4",children:[p.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-400 dark:text-slate-500 mb-4 flex items-center gap-2",children:[p.jsx(Wc,{className:"w-4 h-4"}),"Verified Official Sources"]}),p.jsx("div",{className:"grid gap-3",children:(o.officialSources||[]).map((q,z)=>p.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl hover:shadow-md transition-all group w-full max-w-full overflow-hidden",children:[p.jsxs("div",{className:"flex flex-col min-w-0 flex-1 pr-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[p.jsx("span",{className:"font-bold text-sm text-slate-800 dark:text-slate-200 truncate max-w-full",children:q.title}),q.authorityLevel==="Gold"&&p.jsxs("span",{className:"flex-shrink-0 flex items-center gap-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider border border-yellow-200 dark:border-yellow-800",children:[p.jsx(Tn,{className:"w-3 h-3"})," Gold Authority"]}),q.authorityLevel==="Silver"&&p.jsxs("span",{className:"flex-shrink-0 flex items-center gap-1 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider border border-slate-200 dark:border-slate-700",children:[p.jsx(pF,{className:"w-3 h-3"})," Govt"]})]}),p.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 break-all line-clamp-2",children:q.url})]}),p.jsx(Lr,{className:"w-4 h-4 transition-all flex-shrink-0 ml-2 text-slate-400 group-hover:text-violet-500"})]},z))})]})]})]})]})]})},cw=[{icon:Po,label:"Agri-Income Proof",query:"My sponsor is a farmer with agricultural land. How do I show proof of funds?"},{icon:Ia,label:"Gap Justification",query:"I have a 2-year academic/career gap. How do I justify this in my SOP?"},{icon:JC,label:"Refusal Analysis",query:"Analyze my profile for potential Section 214(b) (Immigrant Intent) rejection risks."},{icon:sc,label:"Mock Interview",query:"Simulate a strict 5-minute visa interview with me. Grill me on my finances."},{icon:Po,label:"Third-Party Sponsor",query:"Can my uncle or a family friend sponsor my education? What documents are needed?"},{icon:Yo,label:"CA Report Needed?",query:"Is a Chartered Accountant (CA) Valuation Report mandatory for my property assets?"},{icon:ka,label:"Processing Speed",query:"Is there a 'Priority Service' available to speed up my decision?"},{icon:Na,label:"Backlogs Issue",query:"I have 5 backlogs in my Bachelor's degree. Will this affect my student visa?"},{icon:Tn,label:"Insurance Rules",query:"What are the exact minimum coverage requirements for travel insurance?"},{icon:KC,label:"Appeal Process",query:"If rejected, can I appeal the decision or should I re-apply immediately?"},{icon:Yo,label:"Cover Letter",query:"Draft a strong Cover Letter explaining my travel itinerary and intent to return."},{icon:Po,label:"Liquid Funds",query:"How much money specifically needs to be in 'Liquid Savings' vs 'Fixed Assets'?"},{icon:Aa,label:"Jurisdiction Check",query:"Based on my state, which specific Consulate/Embassy must I visit?"},{icon:sc,label:"Ties to Home",query:"How do I prove 'Strong Economic Ties' to India to satisfy the Visa Officer?"},{icon:Ia,label:"English Waiver",query:"Can I get a waiver for IELTS/TOEFL based on my previous education?"},{icon:Yo,label:"SOP Review",query:"What are the 3 most important points to include in my Statement of Purpose?"},{icon:Na,label:"Course Relevance",query:"How do I explain why I chose this specific course over Indian options?"},{icon:Po,label:"Education Loan",query:"Does the embassy accept a 'Sanction Letter' from a Non-Banking Financial Company (NBFC)?"},{icon:Tn,label:"Biometrics",query:"What happens at the VAC (Visa Application Center)? Walk me through the steps."},{icon:ka,label:"Ideal Timing",query:"How many days before my travel date should I ideally submit my file?"}],kF=({text:t,isUser:e})=>{const[n,r]=j.useState(!1);if(!t)return null;const s=()=>{navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3)};if(e)return p.jsx("div",{className:"whitespace-pre-wrap font-medium text-[15px] leading-relaxed",children:t});let i=[];try{i=t.split(/(```[\s\S]*?```)/g)}catch{i=[t]}return p.jsxs("div",{className:"space-y-3 w-full relative group min-w-0",children:[p.jsx("button",{onClick:s,className:"absolute -top-2 -right-2 p-1.5 bg-slate-100 dark:bg-slate-700 hover:bg-violet-100 dark:hover:bg-violet-900 rounded-lg text-slate-400 hover:text-violet-600 opacity-0 group-hover:opacity-100 transition-all z-10 scale-90",title:"Copy Response",children:n?p.jsx(Ca,{className:"w-3.5 h-3.5 text-emerald-500"}):p.jsx(zC,{className:"w-3.5 h-3.5"})}),i.map((o,a)=>{if(!o)return null;if(o.startsWith("```")){const c=o.replace(/```/g,"");return p.jsx("div",{className:"bg-slate-900 text-slate-200 p-3 rounded-xl text-xs font-mono overflow-x-auto border border-slate-700 shadow-inner my-2",children:p.jsx("pre",{children:c})},a)}if(o.includes("|")&&o.includes("---")){const h=o.trim().split(`
`).filter(m=>m.trim().startsWith("|")&&m.trim().endsWith("|"));if(h.length>0)return p.jsx("div",{className:"overflow-hidden my-3 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm bg-white dark:bg-slate-800/50",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsx("table",{className:"w-full text-sm text-left border-collapse",children:p.jsx("tbody",{children:h.map((m,g)=>{if(m.includes("---"))return null;const v=m.split("|").filter(I=>I.trim()!==""),w=g===0;return p.jsx("tr",{className:w?"bg-slate-100 dark:bg-slate-800 font-bold text-slate-700 dark:text-slate-200":"border-t border-slate-100 dark:border-slate-700/50 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:v.map((I,P)=>p.jsx("td",{className:"p-3 whitespace-pre-wrap min-w-[100px]",children:rs(I.trim())},P))},g)})})})})},a)}return o.split(/\n\n+/).map((c,h)=>{const m=c.trim();if(!m)return null;const g=m.match(/^(#{1,3})\s+(.+?)(?:\n|$)([\s\S]*)$/);if(g&&!m.match(/^[-*]\s/)){const v=g[1].length,w=g[2].trim(),I=g[3]?g[3].trim():"";return p.jsxs(Fw.Fragment,{children:[v===1&&p.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white mt-4 mb-2",children:rs(w)}),v===2&&p.jsx("h2",{className:"text-base font-bold text-slate-800 dark:text-slate-100 mt-3 mb-2",children:rs(w)}),v===3&&p.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-violet-600 dark:text-violet-400 mt-3 mb-1",children:rs(w)}),I&&p.jsx("div",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mt-1",children:rs(I)})]},h)}if(m.match(/^[-*]\s/m)){const v=m.split(`
`).filter(w=>w.trim().match(/^[-*]\s/));return p.jsx("ul",{className:"space-y-2 my-2 bg-slate-50 dark:bg-slate-800/30 p-4 rounded-xl border border-slate-100 dark:border-slate-800",children:v.map((w,I)=>p.jsxs("li",{className:"flex items-start gap-3 text-slate-700 dark:text-slate-300 text-sm leading-relaxed",children:[p.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 bg-violet-500 rounded-full flex-shrink-0 shadow-sm shadow-violet-200 dark:shadow-none"}),p.jsx("span",{className:"flex-1",children:rs(w.replace(/^[-*]\s/,""))})]},I))},h)}return p.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm",children:rs(m)},h)})})]})},rs=t=>t?t.split(/(\*\*.*?\*\*|`.*?`)/g).map((n,r)=>n.startsWith("**")&&n.endsWith("**")?p.jsx("strong",{className:"font-bold text-slate-900 dark:text-white",children:n.slice(2,-2)},r):n.startsWith("`")&&n.endsWith("`")?p.jsx("code",{className:"bg-slate-100 dark:bg-slate-700 px-1 py-0.5 rounded text-violet-600 dark:text-violet-300 font-mono text-xs border border-slate-200 dark:border-slate-600",children:n.slice(1,-1)},r):p.jsx("span",{children:n},r)):null,NF=({visaData:t,originState:e,destination:n})=>{const[r,s]=j.useState([{role:"model",text:`Hello! I am your **EEC Expert Visa Consultant**.

I have the official consular dossier for **${t.visaName}** tailored for applicants from **${e}**.

How can I assist you with your application strategy today?`}]),[i,o]=j.useState(""),[a,l]=j.useState(!1),[c,h]=j.useState(!1),[m,g]=j.useState("English"),[v,w]=j.useState(r),[I,P]=j.useState(cw.slice(0,5)),A=j.useRef(null),x=j.useRef(null);j.useEffect(()=>{const E=[...cw].sort(()=>.5-Math.random());P(E.slice(0,5))},[n,t.visaName]);const k=()=>{x.current&&x.current.scrollTo({top:x.current.scrollHeight,behavior:"smooth"})};j.useLayoutEffect(()=>{k()},[r,a,c]),j.useEffect(()=>{const E={role:"model",text:`Hello! I am your **EEC Expert Visa Consultant**.

I have the official consular dossier for **${t.visaName}** tailored for applicants from **${e}**.

How can I assist you with your application strategy today?`};s([E]),w([E])},[t.visaName,e]);const D=async E=>{const S=E.target.value,b=m;if(g(S),S==="English"){s(v);return}h(!0);try{const N=await Promise.all(v.map(async M=>{const R=await aD(M.text,S);return{...M,text:R}}));s(N)}catch(N){console.error("Chat translation failed",N),g(b)}finally{h(!1)}},U=async E=>{const S=E||i.trim();if(!S||a)return;const b={role:"user",text:S};o(""),A.current&&A.current.focus({preventScroll:!0}),s(N=>[...N,b]),w(N=>[...N,b]),l(!0);try{const N=v.map(X=>({role:X.role,parts:[{text:X.text}]})),R={role:"model",text:await oD(N,S,t,m,n)};s(X=>[...X,R]),w(X=>[...X,R])}catch(N){console.error("Chat Error:",N);const M={role:"model",text:"I'm having trouble reaching the secure consular network. Please try again in a moment."};s(R=>[...R,M]),w(R=>[...R,M])}finally{l(!1)}},V=()=>{const E=v[0];s([E]),w([E]),o("")},T=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),U())};return p.jsxs("div",{className:"w-full max-w-5xl mx-auto h-[650px] md:h-[750px] flex flex-col rounded-[2.5rem] overflow-hidden bg-white/90 dark:bg-slate-900/90 backdrop-blur-2xl border border-white/40 dark:border-white/5 shadow-2xl relative z-10 transition-colors duration-500 group/container",children:[p.jsx("div",{className:"absolute top-0 left-0 right-0 h-64 bg-gradient-to-b from-violet-50/80 dark:from-violet-900/10 to-transparent pointer-events-none z-0"}),p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800 relative z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-md",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"relative group/avatar cursor-pointer",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-600 flex items-center justify-center text-white shadow-lg shadow-violet-500/30 transform group-hover/avatar:scale-105 transition-transform duration-300",children:p.jsx(of,{className:"w-6 h-6"})}),p.jsxs("div",{className:"absolute -bottom-1 -right-1 flex h-4 w-4",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-emerald-500 ring-2 ring-white dark:ring-slate-900"})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-extrabold text-slate-900 dark:text-white leading-tight",children:"EEC Expert Visa Consultant"}),p.jsxs("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 flex items-center gap-1.5 uppercase tracking-wide",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Official EEC Agent"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[r.length>1&&p.jsx("button",{onClick:V,className:"p-2.5 rounded-xl text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all border border-transparent hover:border-rose-100 dark:hover:border-rose-900",title:"Reset Conversation",children:p.jsx($C,{className:"w-5 h-5"})}),p.jsxs("div",{className:"relative flex items-center gap-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-3 py-2 transition-all hover:bg-white dark:hover:bg-slate-700 hover:border-violet-200 dark:hover:border-slate-600 hover:shadow-sm",children:[p.jsx(zh,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"}),p.jsxs("select",{value:m,onChange:D,className:"bg-transparent text-xs font-bold text-slate-700 dark:text-slate-200 outline-none cursor-pointer appearance-none pr-6 w-20",disabled:c,children:[p.jsx("option",{value:"English",children:"English"}),Bx.map(E=>p.jsx("option",{value:E,children:E},E))]})]})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 scroll-smooth scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700 scrollbar-track-transparent z-10",ref:x,children:[c&&p.jsx("div",{className:"sticky top-0 z-50 flex justify-center pb-4",children:p.jsxs("div",{className:"px-4 py-1.5 bg-white/90 dark:bg-slate-800/90 backdrop-blur border border-slate-200 dark:border-slate-700 rounded-full text-[10px] font-bold uppercase tracking-wider text-violet-600 dark:text-violet-400 flex items-center gap-2 shadow-sm animate-pulse",children:[p.jsx(zh,{className:"w-3 h-3"})," Translating..."]})}),r.map((E,S)=>{const b=E.role==="user";return p.jsxs("div",{className:`flex items-end gap-3 ${b?"flex-row-reverse":"flex-row"} group animate-in fade-in slide-in-from-bottom-2 duration-500`,children:[!b&&p.jsx("div",{className:"w-8 h-8 rounded-xl bg-violet-100 dark:bg-violet-900/50 flex items-center justify-center text-violet-600 dark:text-violet-400 flex-shrink-0",children:p.jsx(of,{className:"w-5 h-5"})}),b&&p.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-400 flex-shrink-0",children:p.jsx(sc,{className:"w-4 h-4"})}),p.jsx("div",{className:`relative max-w-[85%] sm:max-w-[75%] px-5 py-4 shadow-sm transition-all duration-300 ${b?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-[1.5rem] rounded-tr-sm":"bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-700 rounded-[1.5rem] rounded-tl-sm hover:shadow-md"}`,children:p.jsx(kF,{text:E.text,isUser:b})})]},S)}),a&&p.jsxs("div",{className:"flex items-center gap-3 animate-in fade-in duration-300",children:[p.jsx("div",{className:"w-8 h-8 rounded-xl bg-violet-50 dark:bg-violet-900/30 flex items-center justify-center text-violet-400 dark:text-violet-500 flex-shrink-0",children:p.jsx(of,{className:"w-5 h-5"})}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 px-5 py-4 rounded-[1.5rem] rounded-tl-sm border border-slate-100 dark:border-slate-700 shadow-sm flex items-center gap-1.5",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-violet-500 rounded-full animate-[bounce_1s_infinite_0ms]"}),p.jsx("span",{className:"w-1.5 h-1.5 bg-violet-500 rounded-full animate-[bounce_1s_infinite_200ms]"}),p.jsx("span",{className:"w-1.5 h-1.5 bg-violet-500 rounded-full animate-[bounce_1s_infinite_400ms]"})]})]})]}),p.jsxs("div",{className:"p-4 md:p-6 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 z-20",children:[!a&&p.jsx("div",{className:"flex gap-2 ml-10 overflow-x-auto pb-4 mask-linear-fade scrollbar-hide snap-x",children:I.map((E,S)=>p.jsxs("button",{onClick:()=>U(E.query),className:"snap-start flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full text-xs font-bold text-slate-600 dark:text-slate-400 hover:bg-violet-50 dark:hover:bg-violet-900/20 hover:border-violet-300 dark:hover:border-violet-700 hover:text-violet-700 dark:hover:text-violet-300 transition-all whitespace-nowrap active:scale-95",children:[p.jsx(E.icon,{className:"w-3.5 h-3.5"}),E.label]},S))}),p.jsxs("div",{className:"relative flex items-end gap-2 bg-slate-100 dark:bg-black/30 p-2 rounded-[2rem] border border-transparent focus-within:border-violet-300 dark:focus-within:border-violet-700 focus-within:ring-4 focus-within:ring-violet-100 dark:focus-within:ring-violet-900/20 transition-all",children:[p.jsx("textarea",{ref:A,value:i,onChange:E=>o(E.target.value),onKeyDown:T,disabled:a||c,placeholder:m==="English"?"Type your question...":`Ask in ${m}...`,className:"w-full bg-transparent border-0 focus:ring-0 text-slate-900 dark:text-white placeholder:text-slate-400 py-3 pl-4 resize-none max-h-32 min-h-[48px] leading-relaxed scrollbar-hide text-sm md:text-base font-medium",rows:1}),p.jsx("button",{onClick:()=>U(),disabled:!i.trim()||a,className:"p-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-full hover:scale-105 active:scale-90 transition-all disabled:opacity-50 disabled:scale-100 shadow-md flex-shrink-0",title:"Send Message",children:a?p.jsx("div",{className:"w-5 h-5 border-2 border-white/30 dark:border-slate-900/30 border-t-white dark:border-t-slate-900 rounded-full animate-spin"}):p.jsx(Lr,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"text-center mt-3 flex items-center justify-center gap-2 opacity-60 hover:opacity-100 transition-opacity",children:[p.jsx(rc,{className:"w-3 h-3 text-violet-500"}),p.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Powered by Gemini 2.5  Official EEC Intelligence"})]})]})]})},RF=[{code:"USD",name:"US Dollar",flag:"",symbol:"$"},{code:"EUR",name:"Euro",flag:"",symbol:""},{code:"GBP",name:"British Pound",flag:"",symbol:""},{code:"CHF",name:"Swiss Franc",flag:"",symbol:"Fr"},{code:"CAD",name:"Canadian Dollar",flag:"",symbol:"C$"},{code:"AUD",name:"Australian Dollar",flag:"",symbol:"A$"},{code:"AED",name:"UAE Dirham",flag:"",symbol:"dh"},{code:"NZD",name:"NZ Dollar",flag:"",symbol:"NZ$"},{code:"SGD",name:"Singapore Dollar",flag:"",symbol:"S$"}],bF=j.memo(({item:t})=>{const[e,n]=j.useState(null);j.useEffect(()=>{t.change>0?n("up"):n("down");const s=setTimeout(()=>n(null),1e3);return()=>clearTimeout(s)},[t.rate]);const r=!isNaN(t.rate)&&isFinite(t.rate)&&t.rate>0;return p.jsxs("div",{className:"inline-flex items-center gap-3 px-6 border-r border-slate-200/70 dark:border-white/10 min-w-max group cursor-default transition-colors hover:bg-slate-100/60 dark:hover:bg-white/5 py-3 relative h-14 box-border",children:[p.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 pointer-events-none ${e==="up"?"bg-emerald-500/10 opacity-100":e==="down"?"bg-rose-500/10 opacity-100":"opacity-0"}`}),p.jsx("span",{className:"text-2xl filter drop-shadow-md transform group-hover:scale-110 transition-transform duration-300 grayscale-[10%] group-hover:grayscale-0",children:t.flag}),p.jsxs("div",{className:"flex flex-col justify-center h-full",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-bold text-xs text-slate-900 dark:text-white tracking-wide",children:t.code}),p.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase hidden sm:inline-block tracking-wider opacity-80",children:t.name})]}),p.jsxs("div",{className:"flex items-baseline gap-1.5",children:[p.jsx("span",{className:"text-xs text-amber-500 dark:text-amber-400 font-bold",children:t.symbol}),p.jsx("span",{className:`font-mono font-bold text-sm transition-colors duration-300 ${e==="up"?"text-emerald-600 dark:text-emerald-400":e==="down"?"text-rose-600 dark:text-rose-400":"text-slate-900 dark:text-white"}`,children:r?t.rate.toFixed(2):"--.--"}),p.jsxs("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded-md flex items-center ml-1 ${t.change>=0?"bg-emerald-500/10 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-300":"bg-rose-500/10 text-rose-600 dark:bg-rose-500/20 dark:text-rose-300"}`,children:[t.change>=0?"":""," ",Math.abs(t.change).toFixed(2),"%"]})]})]})]})}),PF=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0);if(j.useEffect(()=>{let i=!0;return(async()=>{try{const l=await(await fetch("https://open.er-api.com/v6/latest/INR")).json();if(l&&l.rates&&i){const c=RF.map(h=>{const m=l.rates[h.code];if(!m)return null;const g=1/m,v=Math.random()*.8*(Math.random()>.5?1:-1);return{...h,rate:g,change:v}}).filter(h=>h!==null);e(c),r(!1)}}catch(a){i&&(console.error("Failed to fetch forex rates",a),r(!1))}})(),()=>{i=!1}},[]),j.useEffect(()=>{if(n||t.length===0)return;const i=setInterval(()=>{e(o=>{if(o.length===0)return o;const a=[...o],l=Math.floor(Math.random()*a.length),c=a[l],h=Math.random()*.05*(Math.random()>.5?1:-1);let m=c.rate+h;m<0&&(m=c.rate);const g=h/c.rate*100,v=c.change+g;return a[l]={...c,rate:m,change:v},a})},2e3);return()=>clearInterval(i)},[n,t.length]),n)return p.jsxs("div",{className:"w-full bg-slate-50 dark:bg-[#0B1120] border-b border-slate-200 dark:border-white/10 h-14 relative overflow-hidden flex items-center shadow-lg z-40 box-border select-none",children:[p.jsxs("div",{className:"absolute left-0 top-0 bottom-0 bg-slate-50 dark:bg-[#0B1120] z-50 px-5 flex items-center gap-3 border-r border-slate-200 dark:border-white/10 h-14 min-w-[130px]",children:[p.jsx("div",{className:"relative flex h-3 w-3 flex-shrink-0",children:p.jsx("span",{className:"bg-emerald-500/20 h-full w-full rounded-full animate-pulse"})}),p.jsxs("div",{className:"flex flex-col gap-1.5 w-full",children:[p.jsx("div",{className:"h-2 bg-slate-200 dark:bg-white/10 rounded w-10 animate-pulse"}),p.jsx("div",{className:"h-2 bg-slate-200 dark:bg-white/10 rounded w-14 animate-pulse"})]})]}),p.jsx("div",{className:"flex items-center w-full pl-[130px]",children:[1,2,3,4,5,6,7].map(i=>p.jsx("div",{className:"px-6 border-r border-slate-200/70 dark:border-white/5 h-14 flex items-center min-w-[180px]",children:p.jsxs("div",{className:"flex items-center gap-3 w-full",children:[p.jsx("div",{className:"w-6 h-6 bg-slate-200 dark:bg-white/5 rounded-full animate-pulse"}),p.jsxs("div",{className:"flex flex-col gap-1.5 flex-1",children:[p.jsx("div",{className:"h-2 bg-slate-200 dark:bg-white/5 rounded w-8 animate-pulse"}),p.jsx("div",{className:"h-2 bg-slate-200 dark:bg-white/5 rounded w-16 animate-pulse"})]})]})},i))})]});const s=[...t,...t,...t,...t];return p.jsxs("div",{className:"w-full bg-slate-50 dark:bg-[#0B1120] border-b border-slate-200 dark:border-white/10 h-14 overflow-hidden relative z-40 shadow-lg flex select-none box-border transform-gpu",children:[p.jsxs("div",{className:"absolute left-0 top-0 bottom-0 bg-slate-50 dark:bg-[#0B1120] z-50 px-5 flex items-center gap-3 shadow-[10px_0_20px_rgba(15,23,42,0.25)] dark:shadow-[10px_0_20px_rgba(0,0,0,0.8)] border-r border-slate-200 dark:border-white/10 h-14 min-w-[130px]",children:[p.jsxs("div",{className:"relative flex h-3 w-3 flex-shrink-0",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400/70 opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"})]}),p.jsxs("div",{className:"flex flex-col leading-none",children:[p.jsx("span",{className:"text-[10px] font-bold tracking-[0.2em] uppercase text-emerald-500 dark:text-emerald-400 mb-0.5",children:"Live"}),p.jsx("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:"MARKET"})]})]}),p.jsx("div",{className:"flex items-center animate-ticker whitespace-nowrap will-change-transform hover:pause-animation",children:s.map((i,o)=>p.jsx(bF,{item:i},`${i.code}-${o}`))}),p.jsx("style",{children:`
        @keyframes ticker {
          0% { transform: translateX(0); }
          100% { transform: translateX(-25%); } /* Move 1 set out of 4 */
        }
        .animate-ticker {
          animation: ticker 80s linear infinite;
        }
        .hover\\:pause-animation:hover {
          animation-play-state: paused;
        }
      `})]})},$h=[{id:"1",name:"EEC Alkapuri",city:"Vadodara",address:"3rd floor, B-Wing, Windsor Plaza, RC Dutt Rd, Alkapuri, Vadodara",map:"https://www.google.com/maps?cid=4136602748211046777",contacts:[{type:"Coaching Information",phone:"+91 8000506539",wa:"https://wa.me/918000506539"},{type:"Admission and Visa Information",phone:"+91 8000506542",wa:"https://wa.me/918000506542"}]},{id:"2",name:"EEC Nizampura",city:"Vadodara",address:"2nd Floor, Procube Complex, Nizampura Rd, above GSRTC Bus Station, Vadodara",map:"https://www.google.com/maps?cid=5231620757401386552",contacts:[{type:"Coaching Information",phone:"+91 8758753333",wa:"https://wa.me/918758753333"},{type:"Admission and Visa Information",phone:"+91 9375974748",wa:"https://wa.me/919375974748"}]},{id:"3",name:"EEC Manjalpur",city:"Vadodara",address:"2nd Floor, Infinity Arcade, Opposite Pratapnagar Police HQ, ONGC Dairy Road, Vadodara",map:"https://www.google.com/maps?cid=11809726738474800676",contacts:[{type:"Coaching Information",phone:"+91 8758750037",wa:"https://wa.me/918758750037"},{type:"Admission and Visa Information",phone:"+91 8758884882",wa:"https://wa.me/918758884882"}]},{id:"4",name:"EEC New Vip Road",city:"Vadodara",address:"2nd Floor, Shree Siddheshwar Plaza, New VIP Rd, Sardar Estate, Vadodara",map:"https://www.google.com/maps?cid=14735362156000599625",contacts:[{type:"Coaching Information",phone:"+91 8758750040",wa:"https://wa.me/918758750040"},{type:"Admission and Visa Information",phone:"+91 8758880034",wa:"https://wa.me/918758880034"}]},{id:"5",name:"EEC Nadiad",city:"Nadiad",address:"4th Floor, Nexus 2, College Rd, opposite McDonalds, Nadiad",map:"https://www.google.com/maps?cid=11482223323153504735",contacts:[{type:"Coaching Information",phone:"+91 8758880010",wa:"https://wa.me/918758880010"},{type:"Admission and Visa Information",phone:"+91 8758880670",wa:"https://wa.me/918758880670"}]},{id:"6",name:"EEC Vallabh Vidyanagar",city:"Anand",address:"1st Floor, Sigma Prime Complex, Above Royal Enfield, Sardar Patel Statue Circle, Vallabh Vidyanagar, Anand",map:"https://www.google.com/maps?cid=3977509921364302622",contacts:[{type:"Coaching Information",phone:"+91 8758882884",wa:"https://wa.me/918758882884"},{type:"Admission and Visa Information",phone:"+91 8758882884",wa:"https://wa.me/918758882884"}]},{id:"7",name:"EEC Parvat Patia",city:"Surat",address:"UG10, AMs, Shri Vardhan Textile Market Above Zudio & Opp. Samrat International School, Dumbhal, Surat",map:"https://www.google.com/maps?cid=547408908762340617",contacts:[{type:"Coaching Information",phone:"+91 8758880210",wa:"https://wa.me/918758880210"},{type:"Admission and Visa Information",phone:"+91 8758880210",wa:"https://wa.me/918758880210"}]},{id:"8",name:"EEC Mota Varrachha",city:"Surat",address:"4th Floor, Opera Business Hub, Lajamni Chowk, Mota Varachha, Surat",map:"https://www.google.com/maps?cid=10998422264877093818",contacts:[{type:"Coaching Information",phone:"+91 8758750018",wa:"https://wa.me/918758750018"},{type:"Admission and Visa Information",phone:"+91 8758880035",wa:"https://wa.me/918758880035"}]},{id:"9",name:"EEC Katargam",city:"Surat",address:"2nd Floor, Neeru Farms, Rajhans Flamingo, Gajera Rd, Priya Park Society, Surat",map:"https://www.google.com/maps?cid=518779354665221255",contacts:[{type:"Coaching Information",phone:"+91 8758880160",wa:"https://wa.me/918758880160"},{type:"Admission and Visa Information",phone:"+91 8758880630",wa:"https://wa.me/918758880630"}]},{id:"10",name:"EEC Ghod Dod Road",city:"Surat",address:"3rd Floor, Jade Blue Union Square, Ghod Dod Rd, Surat",map:"https://www.google.com/maps?cid=2602505128606220636",contacts:[{type:"Coaching Information",phone:"+91 8758757777",wa:"https://wa.me/918758757777"},{type:"Admission and Visa Information",phone:"+91 8758880170",wa:"https://wa.me/918758880170"}]},{id:"11",name:"EEC Vesu",city:"Surat",address:"1st Floor, International Finance Centre, IFC, VIP Rd, Vesu, Surat",map:"https://www.google.com/maps?cid=10525220703274082506",contacts:[{type:"Coaching Information",phone:"+91 8758750029",wa:"https://wa.me/918758750029"},{type:"Admission and Visa Information",phone:"+91 8758750029",wa:"https://wa.me/918758750029"}]},{id:"12",name:"EEC Vapi",city:"Vapi",address:"3rd Floor, EEC, iSquare Building, Daman Rd, opposite Axis Bank, Daulat Nagar, Vapi",map:"https://www.google.com/maps?cid=11741653787646363018",contacts:[{type:"Coaching Information",phone:"+91 8758880040",wa:"https://wa.me/918758880040"},{type:"Admission and Visa Information",phone:"+91 8758880040",wa:"https://wa.me/918758880040"}]},{id:"13",name:"EEC Navsari",city:"Navsari",address:"4th Floor, Sachi Arcade Opp. Prajapati Ashram, Khumbharwad, Navsari",map:"https://www.google.com/maps?cid=14092899668333906838",contacts:[{type:"Coaching Information",phone:"+91 8758880055",wa:"https://wa.me/918758880055"},{type:"Admission and Visa Information",phone:"+91 8758880055",wa:"https://wa.me/918758880055"}]},{id:"14",name:"EEC Bharuch",city:"Bharuch",address:"3rd Floor, Shalimar Complex, Above Reliance mart, Station road, Bharuch",map:"https://www.google.com/maps?cid=520984728877884237",contacts:[{type:"Coaching Information",phone:"+91 8758884889",wa:"https://wa.me/918758884889"},{type:"Admission and Visa Information",phone:"+91 8758884889",wa:"https://wa.me/918758884889"}]},{id:"15",name:"EEC Memnagar",city:"Ahmedabad",address:"2nd Floor, Satya One, Opp. Manav Mandir, Helmet Circle, Memnagar, Ahmedabad",map:"https://www.google.com/maps?cid=10716909102676170971",contacts:[{type:"Coaching Information",phone:"+91 8758883889",wa:"https://wa.me/918758883889"},{type:"Admission and Visa Information",phone:"+91 8758880310",wa:"https://wa.me/918758880310"}]},{id:"16",name:"EEC Ghatlodiya",city:"Ahmedabad",address:"3rd Floor, Shayona Sarvopari, R.C. Technical Road, Ghatlodiya, Ahmedabad",map:"https://www.google.com/maps?cid=759408121446196888",contacts:[{type:"Coaching Information",phone:"+91 8758880710",wa:"https://wa.me/918758880710"},{type:"Admission and Visa Information",phone:"+91 8758880510",wa:"https://wa.me/918758880510"}]},{id:"17",name:"EEC Chandkheda",city:"Ahmedabad",address:"4th Floor, Sigma Arcade, Above Vijay Sales, Near Visat Circle, Chandkheda , Ahmedabad",map:"https://www.google.com/maps?cid=6232741686974192347",contacts:[{type:"Coaching Information",phone:"+91 8758750010",wa:"https://wa.me/918758750010"},{type:"Admission and Visa Information",phone:"+91 8758750010",wa:"https://wa.me/918758750010"}]},{id:"18",name:"EEC Maninagar",city:"Ahmedabad",address:"4th Floor, Prism Building, Below Apple Cinema, Shah Alam Tolnaka, Kankaria, Ahmedabad",map:"https://www.google.com/maps?cid=17011559568070196714",contacts:[{type:"Coaching Information",phone:"+91 7096083333",wa:"https://wa.me/917096083333"},{type:"Admission and Visa Information",phone:"+91 8758880015",wa:"https://wa.me/918758880015"}]},{id:"19",name:"EEC Odhav",city:"Ahmedabad",address:"2nd floor, Kahan Commercial Complex, Sardar Patel Ring Rd, above Vijay Sales, Odhav, Ahmedabad",map:"https://www.google.com/maps?cid=644558460884576515",contacts:[{type:"Coaching Information",phone:"+91 8758881885",wa:"https://wa.me/918758881885"},{type:"Admission and Visa Information",phone:"+91 8758881885",wa:"https://wa.me/918758881885"}]},{id:"20",name:"EEC Nikol",city:"Ahmedabad",address:"3rd Floor, Suvas Scala, Opp. Nikol Police Station, Nikol, Ahmedabad",map:"https://www.google.com/maps?cid=12030682389519519650",contacts:[{type:"Coaching Information",phone:"+91 8758880700",wa:"https://wa.me/918758880700"},{type:"Admission and Visa Information",phone:"+91 8758880700",wa:"https://wa.me/918758880700"}]},{id:"21",name:"EEC Bapunagar",city:"Ahmedabad",address:"2nd Floor, White House, India Colony Road, Opposite Swaminarayan Mandir, Ahmedabad",map:"https://www.google.com/maps?cid=14947997323335533677",contacts:[{type:"Coaching Information",phone:"+91 8758880320",wa:"https://wa.me/918758880320"},{type:"Admission and Visa Information",phone:"+91 8758880390",wa:"https://wa.me/918758880390"}]},{id:"22",name:"EEC Naroda",city:"Ahmedabad",address:"2nd Floor, Sahitya Hills & Icon, Above Style Up Store, Muktidham Char Rasta, Naroda, Ahmedabad",map:"https://www.google.com/maps?cid=5994096684006541649",contacts:[{type:"Coaching Information",phone:"+91 8758880730",wa:"https://wa.me/918758880730"},{type:"Admission and Visa Information",phone:"+91 8758880730",wa:"https://wa.me/918758880730"}]},{id:"23",name:"EEC Kalol",city:"Kalol",address:"2nd Floor, above Raymond, near HDFC Bank, Navjivan Mill Compound, Memon Market, Kalol",map:"https://www.google.com/maps?cid=17127671789391534440",contacts:[{type:"Coaching Information",phone:"+91 8758750090",wa:"https://wa.me/918758750090"},{type:"Admission and Visa Information",phone:"+91 8758750090",wa:"https://wa.me/918758750090"}]},{id:"24",name:"EEC Himatnagar",city:"Himatnagar",address:"2nd Floor, Platinum Square Building, opposite Post Office, Himatnagar",map:"https://www.google.com/maps?cid=2830319800003816353",contacts:[{type:"Coaching Information",phone:"+91 8758750080",wa:"https://wa.me/918758750080"},{type:"Admission and Visa Information",phone:"+91 8758880080",wa:"https://wa.me/918758880080"}]},{id:"25",name:"EEC Mehsana",city:"Mehsana",address:"2nd Floor, Perfect Plaza, near Aayush Hospital, Radhanpur Road, Mehsana",map:"https://www.google.com/maps?cid=17643646208083690976",contacts:[{type:"Coaching Information",phone:"+91 8758880886",wa:"https://wa.me/918758880886"},{type:"Admission and Visa Information",phone:"+91 8758880069",wa:"https://wa.me/918758880069"}]},{id:"26",name:"EEC Visnagar",city:"Visnagar",address:"2nd Floor, Above Shukan Restaurant Visnagar Kheralu Road, Visnagar",map:"https://www.google.com/maps?cid=14409675891397590911",contacts:[{type:"Coaching Information",phone:"+91 8758750086",wa:"https://wa.me/918758750086"},{type:"Admission and Visa Information",phone:"+91 8758750086",wa:"https://wa.me/918758750086"}]}],MF=({question:t,answer:e})=>{const[n,r]=j.useState(!1);return p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden transition-all duration-300 hover:border-violet-300 dark:hover:border-violet-700",children:[p.jsxs("button",{onClick:()=>r(!n),className:"w-full px-6 py-5 flex items-center justify-between text-left focus:outline-none",children:[p.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-base md:text-lg pr-4",children:t}),p.jsx("div",{className:`flex-shrink-0 p-2 rounded-full transition-colors ${n?"bg-violet-100 dark:bg-violet-900/30 text-violet-600":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:n?p.jsx(Wm,{className:"w-4 h-4"}):p.jsx(jm,{className:"w-4 h-4"})})]}),p.jsx("div",{className:`px-6 overflow-hidden transition-all duration-300 ease-in-out ${n?"max-h-96 pb-6 opacity-100":"max-h-0 opacity-0"}`,children:p.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed border-t border-slate-100 dark:border-slate-700/50 pt-4",children:e})})]})},DF=()=>{const[t,e]=j.useState(null),n=i=>{e(i)},r=()=>{e(null)},s=encodeURIComponent("Hi, I am contacting you from the EEC Travel & Visa Services web page");return p.jsxs("div",{className:"w-full max-w-6xl mx-auto mt-16 mb-8 space-y-12 relative",children:[t&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/70 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 overflow-hidden relative flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300 ring-1 ring-white/10",children:[p.jsxs("div",{className:"relative h-48 bg-slate-950 flex items-center justify-center overflow-hidden flex-shrink-0",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-900 to-indigo-950 opacity-100"}),p.jsx("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(rgba(255,255,255,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[size:24px_24px]"}),p.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-violet-600 rounded-full blur-[100px] opacity-30"}),p.jsx("div",{className:"absolute -bottom-20 -right-20 w-64 h-64 bg-emerald-500 rounded-full blur-[100px] opacity-20"}),p.jsx("button",{onClick:r,className:"absolute top-5 right-5 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition-all backdrop-blur-md border border-white/10 hover:rotate-90 duration-300 z-30 shadow-lg",children:p.jsx(QC,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"absolute top-24 left-1/2 transform -translate-x-1/2 z-30",children:p.jsx("div",{className:"p-1 bg-gradient-to-br from-white/80 to-white/40 backdrop-blur-xl rounded-full shadow-[0_8px_32px_rgba(0,0,0,0.2)] border border-white/50",children:p.jsxs("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-inner relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-slate-50 to-white opacity-50"}),p.jsx("img",{src:"https://eecglobal.com/assets/eeclogo-fDB7GrEm.svg",alt:"EEC Global",className:"h-12 w-auto object-contain relative z-10"})]})})}),p.jsxs("div",{className:"px-6 md:px-8 pb-8 pt-16 -mt-6 relative z-20 flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-900 rounded-t-[2.5rem] border-t border-white/50 dark:border-slate-800",children:[p.jsxs("div",{className:"text-center mb-8 relative",children:[p.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-violet-100 dark:bg-violet-900/30 rounded-full border border-violet-200 dark:border-violet-800 mb-3",children:[p.jsx(Gh,{className:"w-3 h-3 text-violet-600 dark:text-violet-400"}),p.jsx("span",{className:"text-[10px] font-bold text-violet-700 dark:text-violet-300 uppercase tracking-widest",children:t.city})]}),p.jsx("h3",{className:"text-2xl md:text-3xl font-black text-slate-900 dark:text-white leading-tight mb-2 tracking-tight",children:t.name.replace("EEC","").trim()}),p.jsxs("div",{className:"flex justify-center gap-4 text-xs font-medium text-slate-500 dark:text-slate-400 mt-2",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(Hh,{className:"w-3.5 h-3.5 text-emerald-500"})," Verified Branch"]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(nc,{className:"w-3.5 h-3.5 text-amber-500"})," 10:00 AM - 7:00 PM"]})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800/80 rounded-3xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-5 group-hover:opacity-10 transition-opacity",children:p.jsx(YC,{className:"w-24 h-24 transform rotate-12 -mr-4 -mt-4"})}),p.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[p.jsx(qh,{className:"w-3.5 h-3.5"})," Address"]}),p.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 font-medium leading-relaxed pr-8",children:t.address})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 px-1",children:[p.jsx(sf,{className:"w-4 h-4 text-slate-400"}),p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Department Contacts"})]}),t.contacts.map((i,o)=>{const a=i.type.includes("Coaching");return p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-1 pr-1 bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 hover:border-violet-300 dark:hover:border-violet-600 transition-all shadow-sm group hover:shadow-md",children:[p.jsxs("div",{className:"flex items-center gap-4 p-4 w-full sm:w-auto",children:[p.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-colors shadow-sm ${a?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"bg-fuchsia-50 text-fuchsia-600 dark:bg-fuchsia-900/20 dark:text-fuchsia-400"}`,children:a?p.jsx(sf,{className:"w-6 h-6"}):p.jsx(Bh,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white group-hover:text-violet-600 dark:group-hover:text-violet-400 transition-colors",children:i.type}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono tracking-wide mt-0.5",children:i.phone})]})]}),p.jsxs("div",{className:"flex gap-2 w-full sm:w-auto px-4 pb-4 sm:p-0 sm:pr-2",children:[p.jsxs("a",{href:`tel:${i.phone}`,className:"flex-1 sm:flex-none py-2.5 px-4 rounded-xl bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-900 hover:text-white dark:hover:bg-white dark:hover:text-slate-900 transition-all flex items-center justify-center gap-2 font-bold text-xs",children:[p.jsx(WC,{className:"w-4 h-4"}),p.jsx("span",{className:"sm:hidden",children:"Call"})]}),p.jsxs("a",{href:`${i.wa}?text=${s}`,target:"_blank",rel:"noreferrer",className:"flex-1 sm:flex-none py-2.5 px-4 rounded-xl bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 hover:bg-green-500 hover:text-white transition-all flex items-center justify-center gap-2 font-bold text-xs shadow-sm border border-green-100 dark:border-green-900/30",children:[p.jsx(ic,{className:"w-4 h-4"}),p.jsx("span",{className:"sm:hidden",children:"WhatsApp"})]})]})]},o)})]})]}),p.jsx("div",{className:"mt-8 sticky bottom-0 bg-slate-50 dark:bg-slate-900 pt-4 pb-2",children:p.jsxs("a",{href:t.map,target:"_blank",rel:"noreferrer",className:"w-full flex items-center justify-center gap-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold py-4 rounded-2xl hover:scale-[1.02] active:scale-[0.98] transition-all shadow-xl shadow-slate-300/50 dark:shadow-none group relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/10 to-transparent z-10"}),p.jsx("div",{className:"p-1 bg-white/20 dark:bg-slate-900/10 rounded-lg",children:p.jsx(XC,{className:"w-5 h-5"})}),p.jsx("span",{children:"Get Directions to Branch"}),p.jsx(Lr,{className:"w-4 h-4 opacity-50 group-hover:translate-x-1 transition-transform"})]})})]})]})}),p.jsx("section",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-md rounded-[32px] p-8 md:p-12 border border-slate-200 dark:border-slate-800 shadow-xl",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-violet-100 dark:bg-violet-900/30 text-violet-700 dark:text-violet-300 text-xs font-bold uppercase tracking-wider mb-4",children:[p.jsx(Hh,{className:"w-4 h-4"}),p.jsx("span",{children:"Official Authority"})]}),p.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Why Trust EEC Global?"}),p.jsxs("p",{className:"text-slate-600 dark:text-slate-300 text-lg leading-relaxed mb-6 font-medium",children:["This AI Travel Agent is backed by ",p.jsx("strong",{children:"Enbee Education Center (EEC)"}),", the largest and oldest study abroad consultancy in Gujarat. Established in ",p.jsx("strong",{children:"1997"}),", we have guided over 50,000+ students with a near-perfect success rate."]}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Est. 1997",sub:"27+ Years Experience",icon:nc},{label:"26 Branches",sub:"Across 12 Cities",icon:Gh},{label:"Certified",sub:"Expert Counsellors",icon:sf},{label:"Global",sub:"USA, UK, CAN, AUS",icon:Bh}].map((i,o)=>p.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[p.jsx(i.icon,{className:"w-6 h-6 text-violet-600 dark:text-violet-400 mb-2"}),p.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:i.label}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:i.sub})]},o))})]}),p.jsxs("div",{className:"w-full md:w-1/3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 p-8 rounded-3xl relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-fuchsia-500 to-violet-600 rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition-opacity"}),p.jsx("h3",{className:"text-xl font-bold mb-4 relative z-10",children:"Consular Protocol"}),p.jsxs("p",{className:"text-sm opacity-80 mb-6 leading-relaxed relative z-10 font-medium",children:["Unlike standard AI, the EEC Engine uses a proprietary ",p.jsx("strong",{children:"Official Source Grounding"})," protocol. We cross-reference requirements exclusively against:"]}),p.jsx("ul",{className:"space-y-3 relative z-10",children:["Government (.gov) Portals","Official Embassies","VFS / BLS / TLS Partners"].map((i,o)=>p.jsxs("li",{className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx(R3,{className:"w-4 h-4 text-emerald-400 dark:text-emerald-600"}),i]},o))})]})]})}),p.jsxs("section",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-8 px-4",children:[p.jsx(B3,{className:"w-6 h-6 text-slate-400"}),p.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Frequently Asked Questions"})]}),p.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:[{q:"Is the EEC AI Visa Tool completely free?",a:"Yes. EEC Global provides this AI-powered visa and flight search tool as a 100% free community service for Indian students and travelers. There are no hidden fees or paywalls."},{q:"How accurate is the visa information?",a:"Our Generative AI Engine is grounded in real-time data from official government websites (e.g., travel.state.gov, gov.uk). However, visa policies change daily, so we always recommend verifying with our certified counsellors at EEC branches."},{q:"Does EEC provide physical visa appointments?",a:"Yes. While this tool is for information, Enbee Education Center (EEC) has 26 physical branches across Gujarat (Vadodara, Surat, Ahmedabad, etc.) where our team handles the complete visa filing, documentation, and appointment process."},{q:"Can I use this for Student Visas?",a:"Absolutely. The tool specializes in Student Visas (F1, Tier 4, Subclass 500) for major destinations like USA, UK, Canada, and Australia, providing specific financial and academic document checklists."},{q:"Why do I need to check my state jurisdiction?",a:"Visa applications in India are often jurisdiction-based. For example, students from Gujarat often need to apply to the Mumbai Consulate for USA visas, or specific VFS centers for Europe. This tool identifies your optimal application center."}].map((i,o)=>p.jsx(MF,{question:i.q,answer:i.a},o))})]}),p.jsxs("section",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 px-4",children:[p.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-6 flex items-center gap-2",children:[p.jsx(qh,{className:"w-4 h-4"}),"Our Physical Presence (Gujarat's Largest Network)"]}),p.jsx("p",{className:"text-xs text-slate-400 mb-4 font-medium italic",children:"Click any branch below to view office details."}),p.jsx("div",{className:"flex flex-wrap gap-2",children:$h.map(i=>p.jsxs("button",{onClick:()=>n(i),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs rounded-lg font-medium hover:bg-violet-600 hover:text-white dark:hover:bg-violet-600 dark:hover:text-white transition-all transform hover:-translate-y-0.5 shadow-sm active:scale-95",children:[i.name.replace("EEC","").trim()," ",p.jsxs("span",{className:"opacity-50 text-[10px]",children:["(",i.city,")"]})]},i.id))})]})]})},VF=({destination:t,visaType:e})=>{var a,l;const[n,r]=j.useState(null),[s,i]=j.useState(!0);if(j.useEffect(()=>{let c=!0;return(async()=>{i(!0);try{const m=await lD(t,e);c&&r(m)}catch(m){console.error(m)}finally{c&&i(!1)}})(),()=>{c=!1}},[t,e]),s)return p.jsxs("div",{className:"w-full max-w-4xl mx-auto mt-8 p-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 animate-pulse flex flex-col items-center justify-center",children:[p.jsx("div",{className:"w-8 h-8 border-4 border-slate-300 dark:border-slate-700 border-t-violet-600 rounded-full animate-spin mb-3"}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Retrieving Consular Directives..."})]});if(!n)return null;const o=c=>c==="High"?"text-rose-600 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800":c==="Medium"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800":"text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800";return p.jsxs("div",{className:"w-full max-w-4xl mx-auto mt-8 relative",children:[p.jsx("div",{className:"absolute inset-0 bg-white dark:bg-slate-900 rounded-[24px] shadow-xl transform rotate-1 border border-slate-200 dark:border-slate-800 z-0"}),p.jsxs("div",{className:"relative z-10 bg-white dark:bg-slate-950 rounded-[24px] border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[p.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 p-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-slate-200 dark:bg-slate-800 rounded-lg",children:p.jsx(wF,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-900 dark:text-white",children:"Official Visa Bulletin"}),p.jsxs("p",{className:"text-[10px] font-mono text-slate-500 dark:text-slate-400",children:["REF: ",n.bulletinId,"  AUTH: EEC-GLOBAL"]})]})]}),p.jsxs("div",{className:`px-4 py-1.5 rounded-full border text-xs font-bold uppercase tracking-wider flex items-center gap-2 ${o(n.riskLevel)}`,children:[p.jsx(Ia,{className:"w-3.5 h-3.5"}),"Risk Assessment: ",n.riskLevel]})]}),p.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-2 gap-8",children:[p.jsxs("article",{children:[p.jsxs("h4",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-violet-600 dark:text-violet-400 mb-3",children:[p.jsx(sc,{className:"w-4 h-4"})," Consular Psychology"]}),p.jsxs("p",{className:"font-serif text-lg leading-relaxed text-slate-800 dark:text-slate-200 italic",children:['"',n.consularPsychology,'"']})]}),p.jsxs("article",{children:[p.jsxs("h4",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-emerald-600 dark:text-emerald-400 mb-3",children:[p.jsx(Tn,{className:"w-4 h-4"})," Strong Ties Analysis"]}),p.jsx("p",{className:"text-sm leading-relaxed text-slate-600 dark:text-slate-400 font-medium text-justify",children:n.economicTiesAnalysis})]}),p.jsxs("article",{className:"md:col-span-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl p-5 border border-slate-100 dark:border-slate-800",children:[p.jsxs("h4",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-rose-600 dark:text-rose-400 mb-3",children:[p.jsx(Yo,{className:"w-4 h-4"})," Forensic Document Protocol"]}),typeof n.documentForensics=="string"?p.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 font-mono leading-relaxed",children:n.documentForensics}):p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Target Document"}),p.jsx("p",{className:"font-bold text-slate-900 dark:text-slate-100",children:(a=n.documentForensics)==null?void 0:a.document})]}),p.jsxs("div",{className:"flex-[2] p-3 bg-rose-50 dark:bg-rose-900/20 rounded-lg border border-rose-100 dark:border-rose-800/30",children:[p.jsx("span",{className:"text-[10px] font-bold uppercase text-rose-600 dark:text-rose-400",children:"Forensic Red Flag"}),p.jsxs("p",{className:"text-sm text-rose-800 dark:text-rose-200 font-medium italic",children:['"',(l=n.documentForensics)==null?void 0:l.forgeryErrorReason,'"']})]})]})]}),p.jsx("div",{className:"md:col-span-2 pt-4 border-t border-slate-100 dark:border-slate-800",children:p.jsxs("p",{className:"text-[11px] text-slate-400 dark:text-slate-500 font-medium uppercase tracking-wide",children:["Active Policy Directive (",new Date().getFullYear(),"): ",p.jsx("span",{className:"text-slate-600 dark:text-slate-300 normal-case",children:n.recentPolicyShift})]})})]})]})]})},LF=()=>{const t=new Date().getFullYear(),[e,n]=j.useState(null),r=encodeURIComponent("Hi, I am contacting you from the EEC Travel & Visa Services web page"),s=Array.from(new Set($h.map(l=>l.city))).sort(),i=e?$h.filter(l=>l.city===e):[],o=[{dest:"United States",type:"Student",label:"F1 Visa Requirements for USA"},{dest:"United Kingdom",type:"Student",label:"UK Tier 4 Student Visa Guide"},{dest:"Canada",type:"Student",label:"Canada Study Permit Process"},{dest:"Australia",type:"Student",label:"Australia Subclass 500 Visa"},{dest:"Germany",type:"Student",label:"German Student Visa Checklist"},{dest:"France",type:"Tourist",label:"Schengen Visa for France"},{dest:"United States",type:"Tourist",label:"US B1/B2 Tourist Visa"},{dest:"Dubai",type:"Tourist",label:"Dubai Express Visa from India"}],a=[{term:"SOP (Statement of Purpose)",def:"A critical essay stating your purpose of study, required for student visas in UK, Canada, and Australia."},{term:"CAS Letter",def:"Confirmation of Acceptance for Studies. A mandatory electronic document for UK Student Visa applications."},{term:"I-20 Form",def:"Certificate of Eligibility for Nonimmigrant Student Status, issued by US universities for F1 Visa interviews."},{term:"GIC (Guaranteed Investment Certificate)",def:"A mandatory investment of $10,000+ CAD for Indian students applying to Canada under SDS stream."},{term:"Schengen Area",def:"A zone of 27 European countries with no internal borders. A single visa allows travel across all member states."},{term:"Biometrics",def:"Fingerprinting and digital photo process conducted at VACs (Visa Application Centers) like VFS or BLS."}];return p.jsxs("section",{className:"w-full bg-slate-100 dark:bg-slate-950/50 border-t border-slate-200 dark:border-slate-800 py-16 mt-16",children:[e&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/70 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 overflow-hidden relative flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300 ring-1 ring-white/10",children:[p.jsxs("div",{className:"relative h-40 bg-slate-950 flex items-center justify-center overflow-hidden flex-shrink-0",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-900 to-indigo-950 opacity-100"}),p.jsx("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(rgba(255,255,255,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[size:24px_24px]"}),p.jsx("div",{className:"absolute -top-10 -left-10 w-48 h-48 bg-violet-600 rounded-full blur-[80px] opacity-30"}),p.jsx("div",{className:"absolute -bottom-10 -right-10 w-48 h-48 bg-emerald-500 rounded-full blur-[80px] opacity-20"}),p.jsxs("div",{className:"relative z-20 text-center",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-white/10 rounded-full backdrop-blur-md border border-white/10 mb-2",children:[p.jsx(Aa,{className:"w-3.5 h-3.5 text-emerald-400"}),p.jsx("span",{className:"text-[10px] font-bold text-emerald-200 uppercase tracking-widest",children:"Selected City"})]}),p.jsx("h2",{className:"text-4xl font-black text-white tracking-tight",children:e})]}),p.jsx("button",{onClick:()=>n(null),className:"absolute top-5 right-5 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition-all backdrop-blur-md border border-white/10 hover:rotate-90 duration-300 z-30 shadow-lg",children:p.jsx(QC,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-slate-50 dark:bg-slate-900",children:[p.jsxs("p",{className:"text-center text-slate-500 dark:text-slate-400 text-sm font-medium mb-6",children:["We found ",i.length," premium branch",i.length!==1?"es":""," in ",e," ready to assist you."]}),p.jsx("div",{className:"space-y-6",children:i.map(l=>p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-lg transition-all duration-300 group",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1 group-hover:text-violet-600 dark:group-hover:text-violet-400 transition-colors",children:l.name}),p.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-slate-500 dark:text-slate-400",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(Tn,{className:"w-3.5 h-3.5 text-emerald-500"})," Verified"]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(nc,{className:"w-3.5 h-3.5 text-amber-500"})," 10:00 AM - 7:00 PM"]})]})]}),p.jsxs("a",{href:l.map,target:"_blank",rel:"noreferrer",className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-900 hover:text-white dark:hover:bg-white dark:hover:text-slate-900 rounded-xl text-xs font-bold transition-all flex items-center justify-center gap-2",children:[p.jsx(XC,{className:"w-3.5 h-3.5"})," Directions"]})]}),p.jsxs("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800/50",children:[p.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1 flex items-center gap-1.5",children:[p.jsx(qh,{className:"w-3 h-3"})," Address"]}),p.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium leading-relaxed",children:l.address})]}),p.jsx("div",{className:"space-y-3",children:l.contacts.map((c,h)=>p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-1 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"px-4 py-3 w-full sm:w-auto text-center sm:text-left",children:[p.jsx("p",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:c.type}),p.jsx("p",{className:"text-[10px] text-slate-400 font-mono mt-0.5",children:c.phone})]}),p.jsxs("div",{className:"flex w-full sm:w-auto p-1 gap-1",children:[p.jsxs("a",{href:`tel:${c.phone}`,className:"flex-1 py-2 px-3 bg-white dark:bg-slate-800 rounded-xl text-slate-600 dark:text-slate-300 text-xs font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex items-center justify-center gap-2",children:[p.jsx(WC,{className:"w-3.5 h-3.5"})," Call"]}),p.jsxs("a",{href:`${c.wa}?text=${r}`,target:"_blank",rel:"noreferrer",className:"flex-1 py-2 px-3 bg-green-500 rounded-xl text-white text-xs font-bold hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[p.jsx(ic,{className:"w-3.5 h-3.5"})," WhatsApp"]})]})]},h))})]},l.id))})]})]})}),p.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs font-bold uppercase tracking-wider mb-4",children:[p.jsx(xF,{className:"w-4 h-4"}),p.jsxs("span",{children:["EEC Travel Knowledge Vault ",t]})]}),p.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Comprehensive Visa & Immigration Resource Center"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-3xl mx-auto text-sm md:text-base leading-relaxed",children:"Access verified guides for Indian citizens. Powered by Enbee Education Center's 27 years of consular expertise. Navigating the complexities of international travel and study abroad documentation from Gujarat to the World."})]}),p.jsxs("div",{className:"grid md:grid-cols-12 gap-8 md:gap-12",children:[p.jsxs("div",{className:"md:col-span-4 space-y-8",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[p.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2 mb-4",children:[p.jsx(TF,{className:"w-5 h-5 text-violet-600"}),p.jsx("span",{children:"Popular Visa Corridors"})]}),p.jsx("ul",{className:"space-y-3",children:o.map((l,c)=>p.jsx("li",{children:p.jsxs("a",{href:`#/destination/${encodeURIComponent(l.dest)}/type/${encodeURIComponent(l.type)}/state/Gujarat`,className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400 hover:text-violet-600 dark:hover:text-violet-400 font-medium group transition-colors",children:[p.jsx("span",{children:l.label}),p.jsx(Lr,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity transform -rotate-45"})]})},c))}),p.jsx("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:p.jsxs("a",{href:"https://www.eecglobal.com",target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-violet-600 uppercase tracking-wide flex items-center gap-1 hover:underline",children:["View All Destinations ",p.jsx(Lr,{className:"w-3 h-3"})]})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[p.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2 mb-4",children:[p.jsx(SF,{className:"w-5 h-5 text-emerald-600"}),p.jsx("span",{children:"Gujarat Student Corridor"})]}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mb-4 leading-relaxed",children:"EEC specializes in student visa counseling for residents of Gujarat. We provide local biometric support and documentation services in:"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((l,c)=>p.jsx("button",{onClick:()=>n(l),className:"text-[10px] bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 px-2 py-1 rounded border border-slate-200 dark:border-slate-700 hover:bg-violet-600 hover:text-white dark:hover:bg-violet-600 dark:hover:text-white transition-colors cursor-pointer",children:l},c))}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-3 italic text-center",children:"* Click a city to view local branch details"})]})]}),p.jsxs("div",{className:"md:col-span-8 space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"font-bold text-xl text-slate-900 dark:text-white flex items-center gap-2",children:[p.jsx(CF,{className:"w-6 h-6 text-amber-500"}),p.jsx("span",{children:"Immigration Terminology (Glossary)"})]}),p.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:a.map((l,c)=>p.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800 hover:border-amber-200 dark:hover:border-amber-900/50 transition-colors",children:[p.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm mb-1",children:l.term}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed",children:l.def})]},c))})]}),p.jsx("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 dark:from-white dark:to-slate-200 rounded-2xl p-8 text-white dark:text-slate-900 relative overflow-hidden",children:p.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-8 items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("h3",{className:"text-lg font-bold mb-2 flex items-center gap-2",children:[p.jsx(YC,{className:"w-5 h-5"}),"Why EEC is the Authority on Visas"]}),p.jsx("p",{className:"text-sm opacity-90 leading-relaxed mb-4",children:'Since 1997, Enbee Education Center has processed over 50,000+ visas. Our "Forensic Documentation" approach reduces rejection risks by pre-emptively addressing common INA 214(b) (USA) and GTE/GS (Australia) refusal grounds.'}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-2xl font-black",children:"98%"}),p.jsx("span",{className:"text-[10px] uppercase tracking-wider opacity-75",children:"Success Rate"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-2xl font-black",children:"26"}),p.jsx("span",{className:"text-[10px] uppercase tracking-wider opacity-75",children:"Branches"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-2xl font-black",children:"27+"}),p.jsx("span",{className:"text-[10px] uppercase tracking-wider opacity-75",children:"Years"})]})]})]}),p.jsxs("div",{className:"w-full md:w-1/3 p-4 bg-white/10 dark:bg-black/5 rounded-xl backdrop-blur-sm border border-white/10 dark:border-black/5",children:[p.jsxs("h4",{className:"text-xs font-bold uppercase tracking-wider mb-3 flex items-center gap-2",children:[p.jsx(Tn,{className:"w-3 h-3"}),"Accreditations"]}),p.jsxs("ul",{className:"space-y-2 text-xs font-medium opacity-80",children:[p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"})," AIRC Certified"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"})," ICEF Agency Status"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"})," British Council Trained"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"})," CCEA (Canada) Grads"]})]})]})]})})]})]}),p.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200 dark:border-slate-800",children:p.jsxs("p",{className:"text-[10px] text-slate-400 dark:text-slate-600 text-center leading-loose",children:[p.jsx("strong",{children:"Relevant Keywords:"})," Student Visa Consultants Vadodara, Study in USA, UK Student Visa fees ",t,", Canada SDS Colleges list, German Blocked Account amount, Australia GTE requirements, US Visa Interview questions, Schengen Visa appointment availability India, Foreign Exchange Rates Vadodara, Flight tickets to Toronto, IELTS Coaching Gujarat, TOEFL classes Ahmedabad."]})})]})]})},UF=({params:t,result:e})=>(j.useEffect(()=>{const n=document.querySelector('meta[name="description"]'),r=document.querySelector('link[rel="canonical"]');let s="Use EEC's 100% free AI-powered travel agent for verified Student & Tourist visa requirements.";if(e&&t.destination&&(s=`Official ${t.visaType} visa requirements for ${t.destination} from ${t.originState||"India"}. Verified fees, documents, and ${e.processingTime} processing time. Updated 2025.`),n)n.setAttribute("content",s);else{const c=document.createElement("meta");c.name="description",c.content=s,document.head.appendChild(c)}const i=`https://ai.eecglobal.com/travelagent/#/destination/${encodeURIComponent(t.destination)}/type/${encodeURIComponent(t.visaType)}`;if(r)r.setAttribute("href",i);else{const c=document.createElement("link");c.rel="canonical",c.href=i,document.head.appendChild(c)}const o="supplemental-seo-schema";let a=document.getElementById(o);a&&document.head.removeChild(a),a=document.createElement("script"),a.id=o,a.type="application/ld+json";const l=[];return l.push({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://ai.eecglobal.com/travelagent"},{"@type":"ListItem",position:2,name:t.destination||"Destinations",item:`https://ai.eecglobal.com/travelagent/#/destination/${encodeURIComponent(t.destination||"")}`},{"@type":"ListItem",position:3,name:`${t.visaType} Visa`,item:i}]}),l.push({"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:`How much does a ${t.visaType} visa to ${t.destination} cost?`,acceptedAnswer:{"@type":"Answer",text:(e==null?void 0:e.cost)||"Fees vary by embassy exchange rates. Check official VFS/Consulate pages."}},{"@type":"Question",name:`What is the processing time for ${t.destination} visa from ${t.originState}?`,acceptedAnswer:{"@type":"Answer",text:(e==null?void 0:e.processingTime)||"Processing times depend on consulate workload and season."}},{"@type":"Question",name:"Is EEC Global a registered consultancy?",acceptedAnswer:{"@type":"Answer",text:"Yes, Enbee Education Center (EEC) is established since 1997 with 26 branches across Gujarat."}}]}),l.push({"@context":"https://schema.org","@type":"TravelAgency",name:"Enbee Education Center (EEC)",image:"https://cdn-icons-png.flaticon.com/512/2060/2060284.png",telephone:"+91-9998887776",address:{"@type":"PostalAddress",streetAddress:"Alkapuri",addressLocality:"Vadodara",addressRegion:"Gujarat",postalCode:"390007",addressCountry:"IN"},geo:{"@type":"GeoCoordinates",latitude:22.3072,longitude:73.1812},openingHoursSpecification:{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],opens:"10:00",closes:"19:00"}}),a.textContent=JSON.stringify(l),document.head.appendChild(a),()=>{a&&document.head.removeChild(a)}},[t,e]),null),FF=()=>{const t=[{name:"Mr. Amit Jalan",role:"Managing Director",exp:"27+ Years",spec:"US & Canada Immigration Law",desc:"Pioneer of study abroad consulting in Gujarat. Expert in challenging INA 214(b) refusals.",imageUrl:"https://ai.eecglobal.com/assets/amit.jpeg"},{name:"CA Madhav Gupta",role:"Director",exp:"18+ Years",spec:"Financial Forensics & Compliance",desc:"Expert in financial documentation forensics, funds verification, and high-stakes visa compliance.",imageUrl:"https://ai.eecglobal.com/assets/Madhav-Gupta.jpeg"},{name:"Mrs. Mohita Gupta",role:"Vice President",exp:"12+ Years",spec:"Global Operations & GS",desc:"Specializes in complex GS drafting, academic assessment, and operational excellence for student visas.",imageUrl:"https://ai.eecglobal.com/assets/mohita-gupta.jpeg"}],e={"@context":"https://schema.org","@graph":t.map(n=>({"@type":"Person",name:n.name,jobTitle:n.role,worksFor:{"@type":"Organization",name:"Enbee Education Center"},description:n.desc,knowsAbout:n.spec}))};return p.jsxs("div",{className:"w-full max-w-6xl mx-auto mt-16 mb-8",children:[p.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(e)}}),p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[32px] border border-slate-200 dark:border-slate-800 p-8 md:p-12 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-indigo-600"}),p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("h2",{className:"text-2xl font-extrabold text-slate-900 dark:text-white mb-3",children:"The Forensic Visa Board"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-2xl mx-auto text-sm font-medium",children:"Our AI is trained and supervised by real humans. Meet the senior experts who audit our algorithms and ensure strict adherence to consular guidelines (E-E-A-T Compliance)."})]}),p.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:t.map((n,r)=>p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 rounded-2xl p-6 border border-slate-100 dark:border-slate-800 hover:shadow-lg transition-all group",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-slate-200 dark:bg-slate-800 flex items-center justify-center group-hover:ring-2 group-hover:ring-violet-500 transition-all",children:n.imageUrl?p.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover",loading:"lazy"}):p.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-bold text-lg",children:n.name.charAt(0)})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-base",children:n.name}),p.jsx("p",{className:"text-xs font-bold text-violet-600 dark:text-violet-400 uppercase tracking-wide",children:n.role})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:[p.jsx(Tn,{className:"w-3.5 h-3.5 text-emerald-500"}),p.jsxs("span",{children:["Experience: ",n.exp]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:[p.jsx(Na,{className:"w-3.5 h-3.5 text-fuchsia-500"}),p.jsxs("span",{children:["Focus: ",n.spec]})]}),p.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed italic border-l-2 border-slate-200 dark:border-slate-800 pl-3 mt-2",children:['"',n.desc,'"']})]})]},r))}),p.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 text-center",children:p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-full text-emerald-700 dark:text-emerald-400 text-xs font-bold",children:[p.jsx(Ca,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:"Verified Human Oversight  No hallucinations on critical policy data"})]})})]})]})};function ZC(t,e){return function(){return t.apply(e,arguments)}}const{toString:OF}=Object.prototype,{getPrototypeOf:Km}=Object,{iterator:Kc,toStringTag:eI}=Symbol,Jc=(t=>e=>{const n=OF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pn=t=>(t=t.toLowerCase(),e=>Jc(e)===t),Yc=t=>e=>typeof e===t,{isArray:Yi}=Array,Vi=Yc("undefined");function Ka(t){return t!==null&&!Vi(t)&&t.constructor!==null&&!Vi(t.constructor)&&Ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tI=pn("ArrayBuffer");function qF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tI(t.buffer),e}const BF=Yc("string"),Ft=Yc("function"),nI=Yc("number"),Ja=t=>t!==null&&typeof t=="object",GF=t=>t===!0||t===!1,ou=t=>{if(Jc(t)!=="object")return!1;const e=Km(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(eI in t)&&!(Kc in t)},HF=t=>{if(!Ja(t)||Ka(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},zF=pn("Date"),$F=pn("File"),jF=pn("Blob"),WF=pn("FileList"),KF=t=>Ja(t)&&Ft(t.pipe),JF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ft(t.append)&&((e=Jc(t))==="formdata"||e==="object"&&Ft(t.toString)&&t.toString()==="[object FormData]"))},YF=pn("URLSearchParams"),[QF,XF,ZF,e9]=["ReadableStream","Request","Response","Headers"].map(pn),t9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ya(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Yi(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(Ka(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function rI(t,e){if(Ka(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sI=t=>!Vi(t)&&t!==ds;function jh(){const{caseless:t,skipUndefined:e}=sI(this)&&this||{},n={},r=(s,i)=>{const o=t&&rI(n,i)||i;ou(n[o])&&ou(s)?n[o]=jh(n[o],s):ou(s)?n[o]=jh({},s):Yi(s)?n[o]=s.slice():(!e||!Vi(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ya(arguments[s],r);return n}const n9=(t,e,n,{allOwnKeys:r}={})=>(Ya(e,(s,i)=>{n&&Ft(s)?t[i]=ZC(s,n):t[i]=s},{allOwnKeys:r}),t),r9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),s9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},i9=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Km(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},o9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},a9=t=>{if(!t)return null;if(Yi(t))return t;let e=t.length;if(!nI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},l9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Km(Uint8Array)),u9=(t,e)=>{const r=(t&&t[Kc]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},c9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},d9=pn("HTMLFormElement"),f9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),dw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),h9=pn("RegExp"),iI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ya(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},p9=t=>{iI(t,(e,n)=>{if(Ft(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ft(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},m9=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Yi(t)?r(t):r(String(t).split(e)),n},g9=()=>{},y9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function v9(t){return!!(t&&Ft(t.append)&&t[eI]==="FormData"&&t[Kc])}const _9=t=>{const e=new Array(10),n=(r,s)=>{if(Ja(r)){if(e.indexOf(r)>=0)return;if(Ka(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Yi(r)?[]:{};return Ya(r,(o,a)=>{const l=n(o,s+1);!Vi(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},w9=pn("AsyncFunction"),E9=t=>t&&(Ja(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch),oI=((t,e)=>t?setImmediate:e?((n,r)=>(ds.addEventListener("message",({source:s,data:i})=>{s===ds&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ft(ds.postMessage)),x9=typeof queueMicrotask<"u"?queueMicrotask.bind(ds):typeof process<"u"&&process.nextTick||oI,T9=t=>t!=null&&Ft(t[Kc]),F={isArray:Yi,isArrayBuffer:tI,isBuffer:Ka,isFormData:JF,isArrayBufferView:qF,isString:BF,isNumber:nI,isBoolean:GF,isObject:Ja,isPlainObject:ou,isEmptyObject:HF,isReadableStream:QF,isRequest:XF,isResponse:ZF,isHeaders:e9,isUndefined:Vi,isDate:zF,isFile:$F,isBlob:jF,isRegExp:h9,isFunction:Ft,isStream:KF,isURLSearchParams:YF,isTypedArray:l9,isFileList:WF,forEach:Ya,merge:jh,extend:n9,trim:t9,stripBOM:r9,inherits:s9,toFlatObject:i9,kindOf:Jc,kindOfTest:pn,endsWith:o9,toArray:a9,forEachEntry:u9,matchAll:c9,isHTMLForm:d9,hasOwnProperty:dw,hasOwnProp:dw,reduceDescriptors:iI,freezeMethods:p9,toObjectSet:m9,toCamelCase:f9,noop:g9,toFiniteNumber:y9,findKey:rI,global:ds,isContextDefined:sI,isSpecCompliantForm:v9,toJSONObject:_9,isAsyncFn:w9,isThenable:E9,setImmediate:oI,asap:x9,isIterable:T9};function ae(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}F.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const aI=ae.prototype,lI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lI[t]={value:t}});Object.defineProperties(ae,lI);Object.defineProperty(aI,"isAxiosError",{value:!0});ae.from=(t,e,n,r,s,i)=>{const o=Object.create(aI);F.toFlatObject(t,o,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ae.call(o,a,l,n,r,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const S9=null;function Wh(t){return F.isPlainObject(t)||F.isArray(t)}function uI(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function fw(t,e,n){return t?t.concat(e).map(function(s,i){return s=uI(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function C9(t){return F.isArray(t)&&!t.some(Wh)}const I9=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function Qc(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,P){return!F.isUndefined(P[I])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(F.isDate(w))return w.toISOString();if(F.isBoolean(w))return w.toString();if(!l&&F.isBlob(w))throw new ae("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(w)||F.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,I,P){let A=w;if(w&&!P&&typeof w=="object"){if(F.endsWith(I,"{}"))I=r?I:I.slice(0,-2),w=JSON.stringify(w);else if(F.isArray(w)&&C9(w)||(F.isFileList(w)||F.endsWith(I,"[]"))&&(A=F.toArray(w)))return I=uI(I),A.forEach(function(k,D){!(F.isUndefined(k)||k===null)&&e.append(o===!0?fw([I],D,i):o===null?I:I+"[]",c(k))}),!1}return Wh(w)?!0:(e.append(fw(P,I,i),c(w)),!1)}const m=[],g=Object.assign(I9,{defaultVisitor:h,convertValue:c,isVisitable:Wh});function v(w,I){if(!F.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+I.join("."));m.push(w),F.forEach(w,function(A,x){(!(F.isUndefined(A)||A===null)&&s.call(e,A,F.isString(x)?x.trim():x,I,g))===!0&&v(A,I?I.concat(x):[x])}),m.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return v(t),e}function hw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Jm(t,e){this._pairs=[],t&&Qc(t,this,e)}const cI=Jm.prototype;cI.append=function(e,n){this._pairs.push([e,n])};cI.toString=function(e){const n=e?function(r){return e.call(this,r,hw)}:hw;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function A9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dI(t,e,n){if(!e)return t;const r=n&&n.encode||A9;F.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=F.isURLSearchParams(e)?e.toString():new Jm(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class pw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k9=typeof URLSearchParams<"u"?URLSearchParams:Jm,N9=typeof FormData<"u"?FormData:null,R9=typeof Blob<"u"?Blob:null,b9={isBrowser:!0,classes:{URLSearchParams:k9,FormData:N9,Blob:R9},protocols:["http","https","file","blob","url","data"]},Ym=typeof window<"u"&&typeof document<"u",Kh=typeof navigator=="object"&&navigator||void 0,P9=Ym&&(!Kh||["ReactNative","NativeScript","NS"].indexOf(Kh.product)<0),M9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D9=Ym&&window.location.href||"http://localhost",V9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ym,hasStandardBrowserEnv:P9,hasStandardBrowserWebWorkerEnv:M9,navigator:Kh,origin:D9},Symbol.toStringTag,{value:"Module"})),_t={...V9,...b9};function L9(t,e){return Qc(t,new _t.classes.URLSearchParams,{visitor:function(n,r,s,i){return _t.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function U9(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function F9(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function hI(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&F.isArray(s)?s.length:o,l?(F.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!F.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&F.isArray(s[o])&&(s[o]=F9(s[o])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,s)=>{e(U9(r),s,n,0)}),n}return null}function O9(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Qa={transitional:fI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=F.isObject(e);if(i&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return s?JSON.stringify(hI(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return L9(e,this.formSerializer).toString();if((a=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Qc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),O9(e)):e}],transformResponse:[function(e){const n=this.transitional||Qa.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_t.classes.FormData,Blob:_t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{Qa.headers[t]={}});const q9=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),B9=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&q9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},mw=Symbol("internals");function So(t){return t&&String(t).trim().toLowerCase()}function au(t){return t===!1||t==null?t:F.isArray(t)?t.map(au):String(t)}function G9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const H9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function af(t,e,n,r,s){if(F.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function z9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $9(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let Ot=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const h=So(l);if(!h)throw new Error("header name must be a non-empty string");const m=F.findKey(s,h);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||l]=au(a))}const o=(a,l)=>F.forEach(a,(c,h)=>i(c,h,l));if(F.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(F.isString(e)&&(e=e.trim())&&!H9(e))o(B9(e),n);else if(F.isObject(e)&&F.isIterable(e)){let a={},l,c;for(const h of e){if(!F.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[c=h[0]]=(l=a[c])?F.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=So(e),e){const r=F.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return G9(s);if(F.isFunction(n))return n.call(this,s,r);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=So(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||af(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=So(o),o){const a=F.findKey(r,o);a&&(!n||af(r,r[a],a,n))&&(delete r[a],s=!0)}}return F.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||af(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return F.forEach(this,(s,i)=>{const o=F.findKey(r,i);if(o){n[o]=au(s),delete n[i];return}const a=e?z9(i):String(i).trim();a!==i&&delete n[i],n[a]=au(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[mw]=this[mw]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=So(o);r[a]||($9(s,o),r[a]=!0)}return F.isArray(e)?e.forEach(i):i(e),this}};Ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(Ot.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});F.freezeMethods(Ot);function lf(t,e){const n=this||Qa,r=e||n,s=Ot.from(r.headers);let i=r.data;return F.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function pI(t){return!!(t&&t.__CANCEL__)}function Qi(t,e,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(Qi,ae,{__CANCEL__:!0});function mI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function j9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function W9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[i];o||(o=c),n[s]=l,r[s]=c;let m=i,g=0;for(;m!==s;)g+=n[m++],m=m%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const v=h&&c-h;return v?Math.round(g*1e3/v):void 0}}function K9(t,e){let n=0,r=1e3/e,s,i;const o=(c,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t(...c)};return[(...c)=>{const h=Date.now(),m=h-n;m>=r?o(c,h):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-m)))},()=>s&&o(s)]}const oc=(t,e,n=3)=>{let r=0;const s=W9(50,250);return K9(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),h=o<=a;r=o;const m={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(m)},n)},gw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},yw=t=>(...e)=>F.asap(()=>t(...e)),J9=_t.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,_t.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(_t.origin),_t.navigator&&/(msie|trident)/i.test(_t.navigator.userAgent)):()=>!0,Y9=_t.hasStandardBrowserEnv?{write(t,e,n,r,s,i,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];F.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),F.isString(r)&&a.push(`path=${r}`),F.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),F.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Q9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function X9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gI(t,e,n){let r=!Q9(e);return t&&(r||n==!1)?X9(t,e):e}const vw=t=>t instanceof Ot?{...t}:t;function Is(t,e){e=e||{};const n={};function r(c,h,m,g){return F.isPlainObject(c)&&F.isPlainObject(h)?F.merge.call({caseless:g},c,h):F.isPlainObject(h)?F.merge({},h):F.isArray(h)?h.slice():h}function s(c,h,m,g){if(F.isUndefined(h)){if(!F.isUndefined(c))return r(void 0,c,m,g)}else return r(c,h,m,g)}function i(c,h){if(!F.isUndefined(h))return r(void 0,h)}function o(c,h){if(F.isUndefined(h)){if(!F.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,m){if(m in e)return r(c,h);if(m in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h,m)=>s(vw(c),vw(h),m,!0)};return F.forEach(Object.keys({...t,...e}),function(h){const m=l[h]||s,g=m(t[h],e[h],h);F.isUndefined(g)&&m!==a||(n[h]=g)}),n}const yI=t=>{const e=Is({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=Ot.from(o),e.url=dI(gI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),F.isFormData(n)){if(_t.hasStandardBrowserEnv||_t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([h,m])=>{c.includes(h.toLowerCase())&&o.set(h,m)})}}if(_t.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(e)),r||r!==!1&&J9(e.url))){const l=s&&i&&Y9.read(i);l&&o.set(s,l)}return e},Z9=typeof XMLHttpRequest<"u",e6=Z9&&function(t){return new Promise(function(n,r){const s=yI(t);let i=s.data;const o=Ot.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,h,m,g,v,w;function I(){v&&v(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let P=new XMLHttpRequest;P.open(s.method.toUpperCase(),s.url,!0),P.timeout=s.timeout;function A(){if(!P)return;const k=Ot.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),U={data:!a||a==="text"||a==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:k,config:t,request:P};mI(function(T){n(T),I()},function(T){r(T),I()},U),P=null}"onloadend"in P?P.onloadend=A:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(A)},P.onabort=function(){P&&(r(new ae("Request aborted",ae.ECONNABORTED,t,P)),P=null)},P.onerror=function(D){const U=D&&D.message?D.message:"Network Error",V=new ae(U,ae.ERR_NETWORK,t,P);V.event=D||null,r(V),P=null},P.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const U=s.transitional||fI;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),r(new ae(D,U.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,P)),P=null},i===void 0&&o.setContentType(null),"setRequestHeader"in P&&F.forEach(o.toJSON(),function(D,U){P.setRequestHeader(U,D)}),F.isUndefined(s.withCredentials)||(P.withCredentials=!!s.withCredentials),a&&a!=="json"&&(P.responseType=s.responseType),c&&([g,w]=oc(c,!0),P.addEventListener("progress",g)),l&&P.upload&&([m,v]=oc(l),P.upload.addEventListener("progress",m),P.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=k=>{P&&(r(!k||k.type?new Qi(null,t,P):k),P.abort(),P=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const x=j9(s.url);if(x&&_t.protocols.indexOf(x)===-1){r(new ae("Unsupported protocol "+x+":",ae.ERR_BAD_REQUEST,t));return}P.send(i||null)})},t6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const h=c instanceof Error?c:this.reason;r.abort(h instanceof ae?h:new Qi(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new ae(`timeout ${e} of ms exceeded`,ae.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},n6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},r6=async function*(t,e){for await(const n of s6(t))yield*n6(n,e)},s6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},_w=(t,e,n,r)=>{const s=r6(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await s.next();if(c){a(),l.close();return}let m=h.byteLength;if(n){let g=i+=m;n(g)}l.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},ww=64*1024,{isFunction:Dl}=F,i6=(({Request:t,Response:e})=>({Request:t,Response:e}))(F.global),{ReadableStream:Ew,TextEncoder:xw}=F.global,Tw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},o6=t=>{t=F.merge.call({skipUndefined:!0},i6,t);const{fetch:e,Request:n,Response:r}=t,s=e?Dl(e):typeof fetch=="function",i=Dl(n),o=Dl(r);if(!s)return!1;const a=s&&Dl(Ew),l=s&&(typeof xw=="function"?(w=>I=>w.encode(I))(new xw):async w=>new Uint8Array(await new n(w).arrayBuffer())),c=i&&a&&Tw(()=>{let w=!1;const I=new n(_t.origin,{body:new Ew,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!I}),h=o&&a&&Tw(()=>F.isReadableStream(new r("").body)),m={stream:h&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!m[w]&&(m[w]=(I,P)=>{let A=I&&I[w];if(A)return A.call(I);throw new ae(`Response type '${w}' is not supported`,ae.ERR_NOT_SUPPORT,P)})});const g=async w=>{if(w==null)return 0;if(F.isBlob(w))return w.size;if(F.isSpecCompliantForm(w))return(await new n(_t.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(F.isArrayBufferView(w)||F.isArrayBuffer(w))return w.byteLength;if(F.isURLSearchParams(w)&&(w=w+""),F.isString(w))return(await l(w)).byteLength},v=async(w,I)=>{const P=F.toFiniteNumber(w.getContentLength());return P??g(I)};return async w=>{let{url:I,method:P,data:A,signal:x,cancelToken:k,timeout:D,onDownloadProgress:U,onUploadProgress:V,responseType:T,headers:E,withCredentials:S="same-origin",fetchOptions:b}=yI(w),N=e||fetch;T=T?(T+"").toLowerCase():"text";let M=t6([x,k&&k.toAbortSignal()],D),R=null;const X=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let _e;try{if(V&&c&&P!=="get"&&P!=="head"&&(_e=await v(E,A))!==0){let ee=new n(I,{method:"POST",body:A,duplex:"half"}),le;if(F.isFormData(A)&&(le=ee.headers.get("content-type"))&&E.setContentType(le),ee.body){const[Rt,xe]=gw(_e,oc(yw(V)));A=_w(ee.body,ww,Rt,xe)}}F.isString(S)||(S=S?"include":"omit");const pe=i&&"credentials"in n.prototype,ye={...b,signal:M,method:P.toUpperCase(),headers:E.normalize().toJSON(),body:A,duplex:"half",credentials:pe?S:void 0};R=i&&new n(I,ye);let q=await(i?N(R,b):N(I,ye));const z=h&&(T==="stream"||T==="response");if(h&&(U||z&&X)){const ee={};["status","statusText","headers"].forEach(Xe=>{ee[Xe]=q[Xe]});const le=F.toFiniteNumber(q.headers.get("content-length")),[Rt,xe]=U&&gw(le,oc(yw(U),!0))||[];q=new r(_w(q.body,ww,Rt,()=>{xe&&xe(),X&&X()}),ee)}T=T||"text";let $=await m[F.findKey(m,T)||"text"](q,w);return!z&&X&&X(),await new Promise((ee,le)=>{mI(ee,le,{data:$,headers:Ot.from(q.headers),status:q.status,statusText:q.statusText,config:w,request:R})})}catch(pe){throw X&&X(),pe&&pe.name==="TypeError"&&/Load failed|fetch/i.test(pe.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,w,R),{cause:pe.cause||pe}):ae.from(pe,pe&&pe.code,w,R)}}},a6=new Map,vI=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let o=i.length,a=o,l,c,h=a6;for(;a--;)l=i[a],c=h.get(l),c===void 0&&h.set(l,c=a?new Map:o6(e)),h=c;return c};vI();const Qm={http:S9,xhr:e6,fetch:{get:vI}};F.forEach(Qm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Sw=t=>`- ${t}`,l6=t=>F.isFunction(t)||t===null||t===!1;function u6(t,e){t=F.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let o=0;o<n;o++){r=t[o];let a;if(s=r,!l6(r)&&(s=Qm[(a=String(r)).toLowerCase()],s===void 0))throw new ae(`Unknown adapter '${a}'`);if(s&&(F.isFunction(s)||(s=s.get(e))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Sw).join(`
`):" "+Sw(o[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const _I={getAdapter:u6,adapters:Qm};function uf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qi(null,t)}function Cw(t){return uf(t),t.headers=Ot.from(t.headers),t.data=lf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_I.getAdapter(t.adapter||Qa.adapter,t)(t).then(function(r){return uf(t),r.data=lf.call(t,t.transformResponse,r),r.headers=Ot.from(r.headers),r},function(r){return pI(r)||(uf(t),r&&r.response&&(r.response.data=lf.call(t,t.transformResponse,r.response),r.response.headers=Ot.from(r.response.headers))),Promise.reject(r)})}const wI="1.13.2",Xc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xc[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Iw={};Xc.transitional=function(e,n,r){function s(i,o){return"[Axios v"+wI+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new ae(s(o," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!Iw[o]&&(Iw[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};Xc.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function c6(t,e,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new ae("option "+i+" must be "+l,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+i,ae.ERR_BAD_OPTION)}}const lu={assertOptions:c6,validators:Xc},vn=lu.validators;let ms=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pw,response:new pw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Is(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&lu.assertOptions(r,{silentJSONParsing:vn.transitional(vn.boolean),forcedJSONParsing:vn.transitional(vn.boolean),clarifyTimeoutError:vn.transitional(vn.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:lu.assertOptions(s,{encode:vn.function,serialize:vn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lu.assertOptions(n,{baseUrl:vn.spelling("baseURL"),withXsrfToken:vn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&F.merge(i.common,i[n.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),n.headers=Ot.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(n)===!1||(l=l&&I.synchronous,a.unshift(I.fulfilled,I.rejected))});const c=[];this.interceptors.response.forEach(function(I){c.push(I.fulfilled,I.rejected)});let h,m=0,g;if(!l){const w=[Cw.bind(this),void 0];for(w.unshift(...a),w.push(...c),g=w.length,h=Promise.resolve(n);m<g;)h=h.then(w[m++],w[m++]);return h}g=a.length;let v=n;for(;m<g;){const w=a[m++],I=a[m++];try{v=w(v)}catch(P){I.call(this,P);break}}try{h=Cw.call(this,v)}catch(w){return Promise.reject(w)}for(m=0,g=c.length;m<g;)h=h.then(c[m++],c[m++]);return h}getUri(e){e=Is(this.defaults,e);const n=gI(e.baseURL,e.url,e.allowAbsoluteUrls);return dI(n,e.params,e.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(e){ms.prototype[e]=function(n,r){return this.request(Is(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Is(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ms.prototype[e]=n(),ms.prototype[e+"Form"]=n(!0)});let d6=class EI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Qi(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new EI(function(s){e=s}),cancel:e}}};function f6(t){return function(n){return t.apply(null,n)}}function h6(t){return F.isObject(t)&&t.isAxiosError===!0}const Jh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Jh).forEach(([t,e])=>{Jh[e]=t});function xI(t){const e=new ms(t),n=ZC(ms.prototype.request,e);return F.extend(n,ms.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return xI(Is(t,s))},n}const Oe=xI(Qa);Oe.Axios=ms;Oe.CanceledError=Qi;Oe.CancelToken=d6;Oe.isCancel=pI;Oe.VERSION=wI;Oe.toFormData=Qc;Oe.AxiosError=ae;Oe.Cancel=Oe.CanceledError;Oe.all=function(e){return Promise.all(e)};Oe.spread=f6;Oe.isAxiosError=h6;Oe.mergeConfig=Is;Oe.AxiosHeaders=Ot;Oe.formToJSON=t=>hI(F.isHTMLForm(t)?new FormData(t):t);Oe.getAdapter=_I.getAdapter;Oe.HttpStatusCode=Jh;Oe.default=Oe;const{Axios:k6,AxiosError:N6,CanceledError:R6,isCancel:b6,CancelToken:P6,VERSION:M6,all:D6,Cancel:V6,isAxiosError:L6,spread:U6,toFormData:F6,AxiosHeaders:O6,HttpStatusCode:q6,formToJSON:B6,getAdapter:G6,mergeConfig:H6}=Oe,p6="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/sendOtpUSA",m6="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/verifyOtpUSA",Yh=async t=>{var e;try{return(await Oe.post(p6,{phone:t},{headers:{"Content-Type":"application/json"}})).data}catch(n){throw console.error(" sendOtpMSG91 ERROR",((e=n.response)==null?void 0:e.data)||n),n}},TI=async(t,e)=>{var n;try{return(await Oe.post(m6,{phone:t,otp:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error(" verifyOtpMSG91 ERROR",((n=r.response)==null?void 0:n.data)||r),r}},Aw=()=>p.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0..."})]}),g6=({onAuthSuccess:t,onSwitchToSignup:e,onClose:n})=>{const[r,s]=j.useState("phone"),[i,o]=j.useState(""),[a,l]=j.useState(""),[c,h]=j.useState(null),[m,g]=j.useState(!1),[v,w]=j.useState(0),I=j.useRef();j.useEffect(()=>(v>0&&(I.current=setInterval(()=>w(x=>x-1),1e3)),()=>clearInterval(I.current)),[v]);const P=async x=>{x.preventDefault(),h(null);const k="+91"+i,D=i;if(!/^\d{10}$/.test(i)){h("Enter a valid 10-digit number.");return}g(!0);try{if(!await BC(D)){h("Phone not registered. Please sign up first."),g(!1);return}await Yh(k),s("otp"),w(60)}catch{h("Unable to send OTP. Try again.")}g(!1)},A=async x=>{var D;x.preventDefault(),h(null),g(!0);const k="+91"+i;try{const U=await TI(k,a);if(U.type==="success"||(D=U.message)!=null&&D.toLowerCase().includes("verified")){const V=await d3(i);V&&V.email&&localStorage.setItem("travelagentemail",V.email),t()}else h("Invalid OTP.")}catch{h("OTP verification failed.")}g(!1)};return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-2xl w-full max-w-md relative shadow-2xl animate-fadeIn",children:[p.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",children:""}),p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("img",{src:"https://ai.eecglobal.com/assets/eeclogo.svg",alt:"EEC",className:"mx-auto h-10 mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Welcome back!"}),p.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Enter your phone number to continue"})]}),r==="phone"&&p.jsxs("form",{onSubmit:P,className:"space-y-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone Number"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 dark:text-slate-400 font-medium",children:"+91"}),p.jsx("input",{className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg pl-14 pr-4 py-3 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400 transition-shadow",value:i,onChange:x=>o(x.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"98765 43210",required:!0})]})]}),p.jsx("button",{type:"submit",disabled:m||i.length!==10,className:"w-full bg-indigo-600 hover:bg-indigo-700 dark:hover:bg-indigo-500 text-white font-semibold py-3 px-6 rounded-lg transition-all transform hover:scale-[1.02] disabled:bg-slate-400 dark:disabled:bg-slate-600 disabled:cursor-not-allowed disabled:scale-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:m?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Aw,{}),p.jsx("span",{className:"ml-2",children:"Sending..."})]}):"Send OTP"})]}),r==="otp"&&p.jsxs("form",{onSubmit:A,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Enter OTP"}),p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3 text-center",children:["We sent a 6-digit code to ",p.jsxs("strong",{className:"text-slate-700 dark:text-slate-300",children:["+91 ",i]})]}),p.jsx("input",{className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg text-center tracking-[1em] py-3 px-4 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400 transition-shadow text-lg font-semibold",placeholder:"______",value:a,onChange:x=>l(x.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6})]}),p.jsx("button",{type:"submit",disabled:a.length!==6||m,className:"w-full bg-indigo-600 hover:bg-indigo-700 dark:hover:bg-indigo-500 text-white font-semibold py-3 px-6 rounded-lg transition-all transform hover:scale-[1.02] disabled:bg-slate-400 dark:disabled:bg-slate-600 disabled:cursor-not-allowed disabled:scale-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:m?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Aw,{}),p.jsx("span",{className:"ml-2",children:"Verifying..."})]}):"Verify & Continue"}),p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("button",{type:"button",disabled:v>0||m,className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 disabled:text-slate-400 dark:disabled:text-slate-500 transition-colors text-sm font-medium",onClick:async()=>{h(null),g(!0);try{const x="+91"+i;await Yh(x),w(60),l("")}catch{h("Failed to resend OTP. Please try again.")}g(!1)},children:v>0?`Resend OTP in ${v}s`:"Resend OTP"}),p.jsx("button",{type:"button",className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 transition-colors text-sm font-medium",onClick:()=>{l(""),s("phone"),w(0)},children:"Change number"})]})]}),c&&p.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:p.jsx("p",{className:"text-center text-sm text-red-600 dark:text-red-400",children:c})}),p.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:p.jsxs("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400",children:["Don't have an account?"," ",p.jsx("button",{className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 ml-1 font-semibold transition-colors",onClick:e,children:"Sign up"})]})})]})})},Vl=({className:t="h-5 w-5 text-white"})=>p.jsxs("svg",{className:`animate-spin ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y6=({onAuthSuccess:t,onSwitchToLogin:e,onClose:n})=>{const[r,s]=j.useState("idle"),[i,o]=j.useState("idle"),[a,l]=j.useState(""),[c,h]=j.useState(!1),[m,g]=j.useState(!1),[v,w]=j.useState(null),[I,P]=j.useState({name:"",email:"",phone:"",targetCountry:"New Zealand",isEECAgent:"",branch:""}),[A,x]=j.useState(""),[k,D]=j.useState(!1),[U,V]=j.useState(!1),[T,E]=j.useState(null),[S,b]=j.useState(null),[N,M]=j.useState(null),[R,X]=j.useState(null),[_e,pe]=j.useState(0),ye=j.useRef(null),q=async()=>{if(I.phone.length!==10){M("Please enter a valid 10-digit phone number.");return}const ie="+91"+I.phone,Se=I.phone;E(null),M(null),w(null),h(!0);try{if(await BC(Se)){M("An account with this phone number already exists. Please sign in instead."),h(!1);return}await Yh(ie)?(o("pending"),pe(60)):M("Failed to send phone OTP. Try again.")}catch{M("Unable to send phone OTP. Try again.")}h(!1)},z=async()=>{var Se;if(a.length!==6){w("Enter the 6-digit OTP.");return}w(null),g(!0);const ie="+91"+I.phone;try{const rt=await TI(ie,a);rt.type==="success"||(Se=rt.message)!=null&&Se.toLowerCase().includes("verified")?o("verified"):(w("Invalid OTP."),l(""))}catch{w("Failed to verify OTP. Try again.")}g(!1)};j.useEffect(()=>(_e>0?ye.current=setInterval(()=>{pe(ie=>ie>0?ie-1:0)},1e3):ye.current&&clearInterval(ye.current),()=>{ye.current&&clearInterval(ye.current)}),[_e]);const $=ie=>{const{name:Se,value:rt}=ie.target;if(Se==="phone"){const ct=rt.replace(/\D/g,"");ct.length<=10&&P(Zc=>({...Zc,[Se]:ct}))}else P(Se==="state"?ct=>({...ct,state:rt,city:""}):Se==="isEECAgent"?ct=>({...ct,[Se]:rt,branch:rt==="No"?"":ct.branch}):ct=>({...ct,[Se]:rt}))},ee=async()=>{if(!I.email||!I.email.includes("@")){b("Please enter a valid email address.");return}E(null),b(null),X(null);try{if(await sw(I.email)){b("An account with this email already exists. Please sign in instead.");return}await g3(I.email)?(s("pending"),pe(60)):b("Failed to send OTP. Please check your email and try again.")}catch{b("An unexpected error occurred.")}finally{}},le=async()=>{if(A.length!==6){X("Please enter the 6-digit OTP.");return}X(null),E(null),D(!0);try{await y3(I.email,A)?s("verified"):(X("Invalid OTP. Please try again."),x(""))}finally{D(!1)}},Rt=async ie=>{ie.preventDefault(),V(!0),E(null),b(null);try{if(await sw(I.email)){b("An account with this email already exists. Please sign in instead."),V(!1);return}const rt={...I,targetCountry:I.targetCountry||"New Zealand",isEECAgent:I.isEECAgent||"",branch:I.isEECAgent==="Yes"&&I.branch||""},ct=await f3(rt);if(ct==="EXISTS"){b("An account with this email already exists. Please sign in instead."),e();return}if(ct==="ERROR"){E("Something went wrong. Please try again.");return}localStorage.setItem("travelagentemail",I.email),t()}finally{V(!1)}},xe="w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 transition bg-white dark:bg-slate-900 dark:text-slate-100",Xe="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1";return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 bg-slate-900/50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-md w-full p-4 sm:p-5 relative max-h-[96vh] overflow-y-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[p.jsx("style",{children:`
          .scrollbar-hide::-webkit-scrollbar {
            display: none;
          }
        `}),p.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-50 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full p-1 w-8 h-8 flex items-center justify-center transition-colors duration-200","aria-label":"Close",children:""}),p.jsxs("div",{className:"text-center mb-3",children:[p.jsx("img",{src:"https://ai.eecglobal.com/assets/eeclogo.svg",alt:"EEC",className:"mx-auto h-10 mb-2"}),p.jsx("h2",{className:"mt-1 text-xl font-bold text-slate-900 dark:text-slate-100",children:"Welcome!"}),p.jsxs("p",{className:"mt-1 text-md text-slate-600 dark:text-slate-400",children:["Create an account or"," ",p.jsx("button",{onClick:e,className:"text-indigo-600",children:"Sign In"})]})]}),p.jsxs("form",{onSubmit:Rt,className:"mt-2 space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:Xe,children:"Full Name"}),p.jsx("input",{type:"text",name:"name",required:!0,value:I.name,onChange:$,className:xe})]}),p.jsxs("div",{children:[p.jsx("label",{className:Xe,children:"Email"}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("input",{type:"email",name:"email",required:!0,value:I.email,onChange:ie=>{$(ie),b(null)},className:`${xe} ${S?"border-red-500":""}`})}),S&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:S})]}),r==="pending"&&p.jsxs("div",{className:"mt-2 p-3 bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 rounded-lg border border-indigo-200 dark:border-slate-600 shadow-sm space-y-2",children:[p.jsxs("p",{className:"text-xs text-center text-slate-700 dark:text-slate-300",children:["Enter the 6-digit code sent to",p.jsx("br",{}),p.jsx("strong",{className:"text-indigo-600 dark:text-indigo-400 text-xs",children:I.email})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:A,onChange:ie=>x(ie.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"flex-1 px-3 py-2 bg-white dark:bg-slate-900 border-2 border-indigo-300 dark:border-indigo-600 rounded-lg text-center text-base tracking-[0.2em] font-semibold text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-1 focus:ring-indigo-300 dark:focus:ring-indigo-600 focus:outline-none transition text-sm",maxLength:6}),p.jsx("button",{type:"button",onClick:le,disabled:k,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 dark:hover:bg-indigo-500 text-white font-semibold text-sm rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:k?p.jsx(Vl,{className:"h-4 w-4"}):"Confirm"})]}),R&&p.jsx("p",{className:"text-center text-xs text-red-600 dark:text-red-400 font-medium",children:R}),p.jsx("div",{className:"text-center",children:p.jsxs("button",{type:"button",onClick:ee,disabled:_e>0,className:"text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 font-medium disabled:text-slate-400 disabled:cursor-not-allowed transition",children:["Resend OTP ",_e>0?`(${_e}s)`:""]})})]}),p.jsxs("div",{children:[p.jsx("label",{className:Xe,children:"Phone Number"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx("span",{className:"absolute left-3 top-3 text-slate-500",children:"+91"}),p.jsx("input",{type:"tel",name:"phone",required:!0,value:I.phone,onChange:ie=>{$(ie),M(null)},className:`${xe} pl-12 ${N?"border-red-500":""}`,disabled:i!=="idle"})]}),i==="idle"&&p.jsx("button",{type:"button",onClick:q,disabled:c||I.phone.length!==10,className:"px-4 py-3 bg-indigo-600 text-white rounded-lg disabled:bg-slate-400 disabled:cursor-not-allowed",children:c?p.jsx(Vl,{}):"Verify"}),i==="verified"&&p.jsx("span",{className:"text-green-600 font-semibold",children:" Verified"})]}),N&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:N})]}),i==="pending"&&p.jsxs("div",{className:"mt-2 p-3 bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 rounded-lg border border-indigo-200 dark:border-slate-600 shadow-sm space-y-2",children:[p.jsxs("p",{className:"text-xs text-center text-slate-700 dark:text-slate-300",children:["Enter OTP sent to",p.jsx("br",{}),p.jsxs("strong",{className:"text-indigo-600 dark:text-indigo-400 text-xs",children:["+91 ",I.phone]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:a,onChange:ie=>l(ie.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"flex-1 px-3 py-2 bg-white dark:bg-slate-900 border-2 border-indigo-300 dark:border-indigo-600 rounded-lg text-center text-base tracking-[0.2em] font-semibold text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-1 focus:ring-indigo-300 dark:focus:ring-indigo-600 focus:outline-none transition text-sm",maxLength:6}),p.jsx("button",{type:"button",onClick:z,disabled:m,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 dark:hover:bg-indigo-500 text-white font-semibold text-sm rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?p.jsx(Vl,{className:"h-4 w-4"}):"Confirm"})]}),v&&p.jsx("p",{className:"text-center text-xs text-red-600 dark:text-red-400 font-medium",children:v}),p.jsx("div",{className:"text-center",children:p.jsxs("button",{type:"button",onClick:q,disabled:_e>0,className:"text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 font-medium disabled:text-slate-400 disabled:cursor-not-allowed transition",children:["Resend OTP ",_e>0?`(${_e}s)`:""]})})]}),p.jsxs("div",{className:"flex items-center gap-x-6",children:[p.jsxs("label",{className:"flex items-center whitespace-nowrap text-sm font-medium text-slate-700 dark:text-slate-300",children:["EEC is my admissions agent?",p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.jsxs("div",{className:"flex items-center gap-x-6",children:[p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",name:"isEECAgent",value:"Yes",checked:I.isEECAgent==="Yes",onChange:$,className:"mr-2 h-4 w-4 accent-indigo-600 dark:accent-indigo-500",disabled:i!=="verified",required:!0}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Yes"})]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",name:"isEECAgent",value:"No",checked:I.isEECAgent==="No",onChange:$,className:"mr-2 h-4 w-4 accent-indigo-600 dark:accent-indigo-500",disabled:i!=="verified",required:!0}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"No"})]})]})]}),I.isEECAgent==="Yes"&&p.jsxs("div",{children:[p.jsxs("label",{className:Xe,children:["Choose Branch",p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.jsxs("select",{name:"branch",value:I.branch,onChange:$,className:xe,disabled:i!=="verified",required:I.isEECAgent==="Yes",children:[p.jsx("option",{value:"",children:"Select Branch"}),Uu.map(ie=>p.jsx("option",{value:ie.identifier,children:ie.name},ie.identifier))]})]}),p.jsx("button",{type:"submit",disabled:U||i!=="verified",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg mt-4 transition-colors duration-200 disabled:bg-slate-400 disabled:cursor-not-allowed disabled:opacity-70 flex items-center justify-center min-h-[44px]",children:U?p.jsx(Vl,{}):"Create Account & Get Started"})]}),p.jsxs("button",{type:"button",onClick:e,className:"group relative w-full py-3 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 hover:from-indigo-50 hover:to-blue-50 dark:hover:from-indigo-900/30 dark:hover:to-blue-900/30 text-slate-700 dark:text-slate-200 font-semibold rounded-lg mt-3 transition-all duration-300 flex items-center justify-center min-h-[44px] border border-slate-200 dark:border-slate-600 hover:border-indigo-300 dark:hover:border-indigo-600 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] backdrop-blur-sm overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/0 via-indigo-500/10 to-indigo-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),p.jsxs("span",{className:"relative flex items-center gap-2",children:[p.jsx("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-[-10deg]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Already Registered? Sign In"]})]}),T&&p.jsx("p",{className:"mt-2 text-center text-xs text-red-600",children:T})]})})},v6=({title:t,children:e})=>{const[n,r]=j.useState(!1);return p.jsxs("div",{className:"border border-slate-200/50 dark:border-slate-800/50 rounded-xl overflow-hidden bg-slate-50/50 dark:bg-slate-900/30",children:[p.jsxs("button",{onClick:()=>r(!n),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors group",children:[p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-200",children:t}),n?p.jsx(Wm,{className:"w-3 h-3 text-slate-400"}):p.jsx(jm,{className:"w-3 h-3 text-slate-400"})]}),n&&p.jsx("div",{className:"px-4 pb-4 pt-1 animate-in fade-in slide-in-from-top-2 duration-200",children:e})]})},_6=()=>{const t={"United States":["US F1 student visa interview questions 2025","US tourist visa B1/B2 wait times India","DS-160 form filling guide for indian students","documents required for US student visa dropbox","cost of studying in USA for indian students","US visa rejection reasons 214(b) explained","gap acceptance in US universities for masters","US student visa financial proof requirements","stem opt extension rules for indian students","emergency US visa appointment india process"],"United Kingdom":["UK tier 4 student visa checklist India","study in UK without IELTS for indian students","UK post study work visa graduate route 2025","CAS letter processing time UK universities","UK tourist visa fees in indian rupees 2025","london university fees for indian students","proof of funds for UK student visa calculation","UK spouse visa requirements for students","list of UK universities accepting study gap","UK credibility interview questions and answers"],Canada:["canada student visa sds vs non sds 2025","canada study permit processing time india","minimum bank balance for canada student visa","SOP for canada student visa 100% approval","GIC amount for canada student visa 2025","canada visitor visa checklist for parents","canada spouse open work permit eligibility","reasons for canada student visa rejection","ircc portal login for indian applicants","colleges in canada for indian students low fees"],Australia:["australia student visa subclass 500 requirements","GTE statement australia student visa sample","australia tourist visa subclass 600 checklist","level 1 universities in australia for india","study in australia cost for indian students","australia student visa fees in indian rupees","working rights in australia for students","australia dependent visa requirements 2025","australia visa rejection reasons 2025","immiaccount login australia visa application"],"New Zealand":["new zealand student visa requirements from india","study in new zealand cost for indian students","new zealand tourist visa processing time india","post study work rights new zealand 2025","green list occupations new zealand for students","level 7 diploma in new zealand for international students","new zealand student visa fund requirements","partner work visa new zealand student","unitec new zealand courses for international students","university of auckland admission requirements"],Germany:["germany student visa checklist vfs india","blocked account amount germany 2025","aps certificate india process and time","study in germany free universities for indian students","germany job seeker visa requirements from india","germany tourist visa appointment vfs","public universities in germany for masters","german language levels for student visa","letter of motivation for german student visa","germany opportunity card for indian citizens"],France:["campus france procedure for indian students 2025","france long stay student visa checklist","study in france without ielts for indian students","france schengen visa appointment availability","france tourist visa documents checklist","interview questions for france student visa","cost of living in paris for indian students","public universities in france for international students","france job seeker visa after masters","accommodation proof for france visa application"],Ireland:["study in ireland cost for indian students","ireland student visa interview questions","ireland tourist visa processing time india","stamp 1g visa rules ireland for students","GNIB appointment dublin for students","universities in ireland for ms in computer science","ireland critical skills employment permit","proof of funds for ireland student visa","study in ireland with education loan","part time job salary in ireland for students"],Netherlands:["mvv visa netherlands student requirements","study in netherlands cost for indian students","netherlands tourist visa from india checklist","university of amsterdam admission requirements","netherlands post study work visa orientation year","ielts requirement for netherlands universities","ind netherlands student visa processing time","housing for students in netherlands","netherlands scholarship for indian students","schengen visa netherlands vfs appointment"],Italy:["italy student visa checklist for indian students","cimea statement of comparability italy","italy schengen visa processing time india","scholarship in italy for indian students 2025","universitaly pre-enrollment summary guide","study in italy free universities for international students","italy tourist visa appointment vfs mumbai","politecnico di milano admission requirements","sapienza university of rome application fee","accommodation proof for italy student visa"],Spain:["spain student visa requirements from india","spain tourist visa appointment bls india","study in spain cost for international students","nie number spain student visa process","spain non-lucrative visa requirements india","barcelona university admission for international students","medical certificate for spain student visa","spain digital nomad visa for indian citizens","public universities in spain for masters","bls spain visa tracking status india"],Switzerland:["study in switzerland cost for indian students","switzerland student visa checklist india","swiss schengen visa appointment vfs","eth zurich admission requirements for indian students","swiss tourist visa requirements for indian citizens","hospitality management courses in switzerland","switzerland work visa for indian citizens","cost of living in zurich for students","university of geneva international students","swiss visa processing time from india"],Sweden:["sweden residence permit for studies requirements","study in sweden cost for indian students","sweden job seeker visa requirements","sweden tourist visa from india vfs","personnummer sweden student process","kth royal institute of technology admission","lund university scholarship for international students","work permit after study in sweden","sweden dependent visa requirements","university admissions se application guide"],Finland:["study in finland for indian students 2025","finland residence permit student requirements","finland job seeker visa for indian citizens","finland tourist visa requirements from india","finland university application deadline 2025","university of helsinki admission requirements","cost of living in finland for students","finland scholarship for international students","part time work rules in finland for students","migri finland student visa processing time"],Denmark:["study in denmark for international students requirements","denmark student visa processing time india","denmark green card scheme point system","denmark tourist visa checklist for indian citizens","copenhagen university admission for indian students","denmark positive list for work visa","tuition fees in denmark for indian students","residence permit denmark student","post study work visa denmark rules","nyidanmark student application guide"],Austria:["austria student visa residence permit india","study in austria public universities fees","austria tourist visa vfs checklist","austria job seeker visa requirements","university of vienna admission for indian students","legalization of documents for austria visa","cost of living in vienna for students","austria red white red card explanation","german language requirement for austria student visa","accommodation booking for austria visa"],Malta:["study in malta visa success rate 2025","malta work permit for indian citizens","malta tourist visa requirements from india","identity malta student visa checklist","english courses in malta for work visa","jobs in malta for indian students","malta schengen visa processing time","cost of studying in malta for indian students","malta college of arts science and technology admission","vfs malta appointment india"],UAE:["uae golden visa requirements for students","dubai student visa cost and process","uae tourist visa 5 years multiple entry india","study in dubai universities for indian students","uae residence visa for students sponsorship","knowledge village dubai universities list","part time work permit for students in dubai","visa on arrival for indian citizens with us visa","dubai freelance visa for indian citizens","sharjah university admission requirements"],Singapore:["singapore student pass application process","study in singapore for indian students cost","singapore tourist visa documents for indian citizens","singapore visa processing time india","singapore universities fees for international students","nus admission requirements for indian students","singapore work holiday programme for students","ica singapore student pass login","private universities in singapore for indian students","singapore visa rejection reasons"],Latvia:["study in latvia without ielts for indian students","latvia student visa interview questions","latvia trp process for students","latvia tourist visa requirements from india","riga technical university admission 2025","latvia visa success rate for indian students","cost of living in riga for students","latvia schengen visa appointment","latvia university admission letter time","part time jobs in latvia for indian students"],Hungary:["study in hungary stipendiums hungaricum 2025","hungary student visa interview questions","hungary tourist visa checklist india","university of debrecen admission requirements","residence permit hungary student process","study in hungary without ielts","cost of living in budapest for students","semmelweis university entrance exam","hungary work visa for indian citizens","hungary visa appointment vfs"]},e={"North America":["United States","Canada"],"UK & Europe":["United Kingdom","Germany","France","Ireland","Netherlands","Italy","Spain","Switzerland","Sweden","Finland","Denmark","Austria","Malta","Latvia","Hungary"],"Asia Pacific":["Australia","New Zealand","Singapore"],"Middle East":["UAE"]};return p.jsx("div",{className:"w-full mt-2 pt-3 border-t border-slate-200/50 dark:border-slate-800/50 ",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 opacity-70",children:[p.jsx(Wc,{className:"w-4 h-4 text-slate-400"}),p.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 dark:text-slate-600 select-none",children:"Global Consular Search Index (2025)"})]}),p.jsx("div",{className:"space-y-1",children:Object.entries(e).map(([n,r])=>p.jsx(v6,{title:`${n} (${r.length} Regions)`,children:p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-8 pt-2",children:r.map(s=>{var i;return p.jsxs("div",{className:"space-y-2 opacity-60 hover:opacity-100 transition-opacity",children:[p.jsx("h4",{className:"text-[9px] font-black uppercase tracking-widest text-violet-500 dark:text-violet-400 border-b border-slate-200 dark:border-slate-800 pb-1 mb-2",children:s}),p.jsx("ul",{className:"space-y-1",children:(i=t[s])==null?void 0:i.map((o,a)=>p.jsx("li",{className:"text-[9px] leading-tight text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 cursor-default font-medium",children:o},a))})]},s)})})},n))}),p.jsx("div",{className:"mt-4 text-center",children:p.jsx("p",{className:"text-[9px] text-slate-300 dark:text-slate-700 italic",children:"*Index generated for programmatic SEO crawlability. Content accuracy verified dynamically."})})]})})},w6=()=>{const[t,e]=j.useState(!1),n=["Gujarat","Maharashtra","Punjab","Delhi","Telangana"],r=["United States","Canada","United Kingdom","Australia","Germany"];return p.jsx("div",{className:" pt-1 border-t border-slate-200/50 dark:border-slate-800/50",children:p.jsxs("div",{className:"border border-slate-200/50 dark:border-slate-800/50 rounded-xl overflow-hidden bg-slate-50/50 dark:bg-slate-900/30",children:[p.jsxs("button",{onClick:()=>e(!t),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors group",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Wc,{className:"w-3.5 h-3.5 text-violet-500 opacity-70"}),p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-200",children:"Regional Visa Requirements Index"})]}),t?p.jsx(Wm,{className:"w-3 h-3 text-slate-400"}):p.jsx(jm,{className:"w-3 h-3 text-slate-400"})]}),t&&p.jsx("div",{className:"px-4 pb-6 pt-2 animate-in fade-in slide-in-from-top-2 duration-200",children:p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:n.map(s=>p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:"text-[9px] font-extrabold uppercase tracking-wider text-slate-400 dark:text-slate-600 mb-1 border-b border-slate-200 dark:border-slate-800 pb-1",children:s}),p.jsx("ul",{className:"space-y-1",children:r.map(i=>p.jsx("li",{children:p.jsxs("a",{href:`#/destination/${encodeURIComponent(i)}/type/Student/state/${encodeURIComponent(s)}`,className:"text-[9px] text-slate-500 hover:text-violet-600 dark:text-slate-500 dark:hover:text-violet-400 transition-colors block py-0.5 truncate",children:["Student Visa: ",i]})},`${s}-${i}`))})]},s))})})]})})},E6=()=>p.jsx("footer",{className:"border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 pt-4 pb-6 mt-auto transition-colors relative z-10",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"flex flex-col md:flex-row max-w-7xl mx-auto items-start justify-evenly",children:[p.jsxs("div",{className:"text-center md:text-left flex-1",children:[p.jsx("a",{href:"https://eecglobal.com",target:"_blank",rel:"noopener noreferrer",className:"inline-block group",children:p.jsx("img",{src:"https://ai.eecglobal.com/assets/eeclogo.svg",alt:"Logo",className:"h-14 sm:h-10"})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-lg tracking-tight",children:"Enbee Education Center Private Limited (EEC)"}),p.jsxs("div",{className:"flex flex-col gap-1 text-sm text-slate-500 dark:text-slate-400 font-medium",children:[p.jsx("span",{children:" 2025 EEC. All rights reserved."}),p.jsxs("div",{className:"flex flex-row flex-wrap items-center gap-x-2 gap-y-0.5 justify-center md:justify-start",children:[p.jsx("span",{children:"Established 1997"}),p.jsx("span",{className:"text-slate-300 dark:text-slate-700",children:""}),p.jsx("span",{children:"26 Branches"}),p.jsx("span",{className:"text-slate-300 dark:text-slate-700",children:""}),p.jsx("span",{children:"12 Cities"})]})]})]})]}),p.jsxs("div",{className:"flex flex-col items-start flex-shrink-0 mx-auto md:mx-0 max-w-fit",children:[p.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-200 md:mt-0 mt-3 text-xl text-left md:text-right",children:"Connect with Us"}),p.jsxs("div",{className:"flex items-center gap-6 sm:gap-5 my-3 justify-start md:justify-end",children:[p.jsx("a",{href:"https://www.instagram.com/eecglobal",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"group transition-all",children:p.jsx(G3,{className:"h-7 w-7 text-slate-400 group-hover:text-[#E1306C] transition-all duration-300 transform group-hover:scale-110"})}),p.jsx("a",{href:"https://www.facebook.com/eecglobal",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"group transition-all",children:p.jsx(U3,{className:"h-7 w-7 text-slate-400 group-hover:text-[#1877F2] transition-all duration-300 transform group-hover:scale-110"})}),p.jsx("a",{href:"https://www.youtube.com/@eecgujarat",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"group transition-all",children:p.jsx(uF,{className:"h-7 w-7 text-slate-400 group-hover:text-[#FF0000] transition-all duration-300 transform group-hover:scale-110"})}),p.jsx("a",{href:"https://www.linkedin.com/school/eecindia",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"group transition-all",children:p.jsx(z3,{className:"h-7 w-7 text-slate-400 group-hover:text-[#0A66C2] transition-all duration-300 transform group-hover:scale-110"})})]}),p.jsxs("div",{className:"flex items-start gap-3 justify-start md:justify-end",children:[p.jsx(HC,{className:"h-6 w-6 text-slate-400 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"text-left md:text-right",children:[p.jsx("p",{className:"text-xs text-slate-400 ",children:"Feedback & Suggestions"}),p.jsx("a",{href:"mailto:info@eecglobal.com",className:"text-sm font-semibold text-slate-900 dark:text-slate-300 hover:text-[#0A66C2] dark:hover:text-[#0A66C2] transition-all duration-200",children:"info@eecglobal.com"})]})]})]})]}),p.jsxs("div",{className:"space-y-4 max-w-5xl mx-auto mt-3",children:[p.jsx(_6,{}),p.jsx(w6,{})]}),p.jsxs("div",{className:"mt-1 pt-2 text-center space-y-2",children:[p.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-600 uppercase tracking-widest font-bold",children:"Disclaimer: AI-generated information. Verify with official embassies."}),p.jsxs("a",{href:"/travelagent/llm.txt",target:"_blank",className:"inline-flex items-center gap-2 text-[10px] text-slate-500 dark:text-slate-500 hover:text-violet-600 dark:hover:text-violet-400 transition-colors uppercase tracking-widest font-mono py-2 px-5 rounded-full border border-slate-100 dark:border-slate-800/50 hover:border-violet-200 dark:hover:border-violet-900/50 bg-slate-50/50 dark:bg-slate-900/50",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),"LLM's & Generative Engines read here"]})]})]})}),x6=()=>{const[t,e]=j.useState({origin:"India",originState:"",destination:"",visaType:"Tourist"}),[n,r]=j.useState(null),[s,i]=j.useState(Bt.IDLE),[o,a]=j.useState(null),[l,c]=j.useState(null),[h,m]=j.useState(!1),[g,v]=j.useState(null),[w,I]=j.useState(()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=j.useRef(null),A=()=>typeof window<"u"&&!!localStorage.getItem("travelagentemail");j.useEffect(()=>{w==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[w]),j.useEffect(()=>{const N=async()=>{const M=window.location.hash;if(M.startsWith("#/")){const R=M.split("/"),X=R.indexOf("destination"),_e=R.indexOf("type"),pe=R.indexOf("state");if(X!==-1&&R[X+1]){const ye=decodeURIComponent(R[X+1]),q=_e!==-1?decodeURIComponent(R[_e+1]):"Student",z=pe!==-1?decodeURIComponent(R[pe+1]):"Gujarat";if(n&&ye===n.destination&&q===n.visaType&&z===n.originState&&o)return;const $={origin:"India",originState:z,destination:ye,visaType:q};e($),i(Bt.LOADING),a(null),c(null);try{const ee=await nD("India",z,ye,q);a(ee),r($),i(Bt.SUCCESS)}catch(ee){console.error(ee),c("Unable to retrieve verified dossier. Please try manual search."),i(Bt.ERROR)}}}};return N(),window.addEventListener("hashchange",N),()=>window.removeEventListener("hashchange",N)},[n,o]);const x=async N=>{if(N.preventDefault(),!t.destination||!t.originState)return;if(!A()){v("signup");return}const M=localStorage.getItem("travelagentemail");M&&(iw(M).catch(R=>{console.error("Failed to increment search count:",R)}),Oh(M).then(R=>{R&&(aw(M,{origin:"India",originState:t.originState,destination:t.destination,visaType:t.visaType}).catch(X=>{console.error("Failed to update user last search:",X)}),ow(M,{origin:"India",originState:t.originState,destination:t.destination,visaType:t.visaType,userCity:R.city||"",userState:R.state||""}).catch(X=>{console.error("Failed to save search query to Firebase:",X)}),lw(M,{destination:t.destination,originState:t.originState,visaType:t.visaType}).catch(X=>{console.error("Failed to send search notification email:",X)}))}).catch(R=>{console.error("Failed to fetch user data:",R)})),a(null),i(Bt.LOADING),window.location.hash=`#/destination/${encodeURIComponent(t.destination)}/type/${encodeURIComponent(t.visaType)}/state/${encodeURIComponent(t.originState)}`},k=()=>{if(v(null),t.destination&&t.originState){const N=localStorage.getItem("travelagentemail");N&&(iw(N).catch(M=>{console.error("Failed to increment search count:",M)}),Oh(N).then(M=>{M&&(aw(N,{origin:"India",originState:t.originState,destination:t.destination,visaType:t.visaType}).catch(R=>{console.error("Failed to update user last search:",R)}),ow(N,{origin:"India",originState:t.originState,destination:t.destination,visaType:t.visaType,userCity:M.city||"",userState:M.state||""}).catch(R=>{console.error("Failed to save search query to Firebase:",R)}),lw(N,{destination:t.destination,originState:t.originState,visaType:t.visaType}).catch(R=>{console.error("Failed to send search notification email:",R)}))}).catch(M=>{console.error("Failed to fetch user data:",M)})),a(null),i(Bt.LOADING),window.location.hash=`#/destination/${encodeURIComponent(t.destination)}/type/${encodeURIComponent(t.visaType)}/state/${encodeURIComponent(t.originState)}`}},D=()=>{v("login")},U=()=>{v("signup")},V=()=>{v(null)},T=()=>{const N=(n==null?void 0:n.destination)||t.destination;if(!N){alert("Please enter a destination to search for flights.");return}const M=`Flights from India to ${N}`,R=`https://www.google.com/travel/flights?q=${encodeURIComponent(M)}`;window.open(R,"_blank")},E=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser.");return}m(!0),navigator.geolocation.getCurrentPosition(async N=>{try{const{latitude:M,longitude:R}=N.coords,X=await rD(M,R);X&&sy.includes(X)?e(_e=>({..._e,originState:X})):alert("Could not identify your state or you are outside India.")}catch(M){console.error("Geocoding error",M),alert("Failed to identify location. Please select manually.")}finally{m(!1)}},N=>{console.error("Geo error",N),m(!1),alert("Failed to detect location.")},{enableHighAccuracy:!1,timeout:1e4,maximumAge:6e4})},S=()=>{I(N=>N==="light"?"dark":"light")},b=n?`${n.destination}-${n.visaType}-${n.originState}`:"init";return p.jsxs("div",{className:"min-h-screen flex flex-col font-sans text-slate-900 dark:text-slate-100 selection:bg-violet-200 selection:text-violet-900 overflow-x-hidden transition-colors duration-500",children:[p.jsx(UF,{params:n||t,result:o}),p.jsx("header",{className:"sticky top-0 z-50 glass-panel border-b border-white/40 dark:border-white/5 shadow-sm transition-colors duration-300",children:p.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[p.jsxs("a",{href:"https://eecglobal.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 group cursor-pointer",children:[p.jsx("img",{src:"https://ai.eecglobal.com/assets/eeclogo.svg",alt:"Logo",className:"h-8 sm:h-10"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"font-extrabold text-xl tracking-tight text-slate-900 dark:text-white",children:"Travel & Visa Services"}),"  "]})]}),p.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[p.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-100 dark:border-emerald-800",children:[p.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),p.jsx("span",{className:"text-xs font-bold text-emerald-700 dark:text-emerald-300",children:"System Online"})]}),p.jsx("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-lg text-xs font-bold text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700",children:"26 Branches"}),p.jsxs("a",{href:"https://eecglobal.com",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-full text-sm font-semibold text-slate-600 dark:text-slate-300 hover:text-violet-700 dark:hover:text-white hover:bg-violet-50 dark:hover:bg-white/10 transition-all flex items-center gap-1",children:["Main Site ",p.jsx(Lr,{className:"w-3 h-3 -rotate-45"})]})]}),p.jsx("button",{onClick:S,className:"p-2 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",title:w==="light"?"Switch to Dark Mode":"Switch to Light Mode",children:w==="light"?p.jsx(_F,{className:"w-5 h-5"}):p.jsx(vF,{className:"w-5 h-5"})})]})]})}),p.jsx(PF,{}),p.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8 md:py-16",children:[p.jsxs("div",{className:`text-center transition-all duration-700 ${s===Bt.SUCCESS?"mb-8":"mb-16 mt-4 md:mt-8"}`,children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/60 dark:bg-slate-800/60 border border-violet-100 dark:border-violet-900 text-violet-700 dark:text-violet-300 text-xs font-bold uppercase tracking-wider mb-6 shadow-sm animate-fade-in-up",children:[p.jsx(rc,{className:"w-3 h-3"}),p.jsx("span",{children:"Powered by Enbee Education Center (Est. 1997)"})]}),p.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold mb-6 tracking-tight leading-tight text-slate-900 dark:text-white",children:["AI-Powered EEC ",p.jsx("br",{className:"hidden md:block"}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-600 via-fuchsia-500 to-indigo-600 dark:from-violet-400 dark:via-fuchsia-400 dark:to-indigo-400 animate-gradient-x",children:"Visa & Travel Services"})]}),p.jsx("p",{className:"text-base md:text-xl text-slate-600/90 dark:text-slate-400/90 max-w-3xl mx-auto mb-10 font-medium leading-relaxed px-4",children:"First of its kind, 100% free tool for Indian students. Get verified Tourist & Student visa requirements, forensic risk analysis, and flight searches for USA, Canada, UK, Australia, Europe & more."}),p.jsxs("div",{className:"max-w-5xl mx-auto relative z-20 px-2 md:px-0",children:[p.jsx("div",{className:"absolute -top-10 -left-10 w-20 h-20 bg-yellow-300 rounded-full blur-2xl opacity-40 dark:opacity-20 animate-pulse hidden md:block"}),p.jsx("div",{className:"absolute -bottom-10 -right-10 w-24 h-24 bg-purple-400 rounded-full blur-2xl opacity-40 dark:opacity-20 animate-pulse delay-700 hidden md:block"}),p.jsxs("form",{onSubmit:x,className:"glass-panel p-3 rounded-3xl shadow-2xl shadow-violet-900/10 dark:shadow-black/40 border border-white/50 dark:border-white/5 flex flex-col md:flex-row gap-2 relative overflow-hidden transition-colors",children:[p.jsx("div",{className:"w-full md:w-32 relative group bg-slate-100/50 dark:bg-slate-800/50 rounded-2xl flex items-center justify-center border border-slate-200 dark:border-slate-700 py-3 md:py-0 transition-colors",children:p.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 font-bold select-none",children:[p.jsx(Aa,{className:"w-4 h-4"}),p.jsx("span",{children:"India"})]})}),p.jsxs("div",{className:"flex-1 relative group bg-white/50 dark:bg-slate-900/50 rounded-2xl transition-all focus-within:bg-white dark:focus-within:bg-slate-900 hover:bg-white dark:hover:bg-slate-900",children:[p.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:p.jsx(Aa,{className:"w-5 h-5 text-slate-400 dark:text-slate-500 group-focus-within:text-violet-500 dark:group-focus-within:text-violet-400 transition-colors"})}),p.jsxs("select",{value:t.originState,onChange:N=>e({...t,originState:N.target.value}),className:"w-full pl-12 pr-12 py-4 bg-transparent rounded-2xl outline-none border-2 border-transparent focus:border-violet-100 dark:focus:border-violet-900 focus:ring-0 transition-all font-semibold text-slate-800 dark:text-slate-200 appearance-none cursor-pointer placeholder:text-slate-400 text-sm md:text-base",required:!0,children:[p.jsx("option",{value:"",disabled:!0,className:"dark:bg-slate-900",children:"Select State"}),sy.map(N=>p.jsx("option",{value:N,className:"dark:bg-slate-900",children:N},N))]}),p.jsx("div",{className:"absolute inset-y-0 right-2 flex items-center",children:p.jsx("button",{type:"button",onClick:E,disabled:h,className:`p-2 rounded-xl transition-all ${h?"bg-violet-100 dark:bg-violet-900 text-violet-600 dark:text-violet-300":"bg-transparent text-slate-400 dark:text-slate-500 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-violet-50 dark:hover:bg-violet-900/30"}`,title:"Detect my location",children:h?p.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):p.jsx(mF,{className:"w-5 h-5"})})})]}),p.jsxs("div",{className:"flex-1 relative group bg-white/50 dark:bg-slate-900/50 rounded-2xl transition-all focus-within:bg-white dark:focus-within:bg-slate-900 hover:bg-white dark:hover:bg-slate-900",children:[p.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:p.jsx(Wc,{className:"w-5 h-5 text-slate-400 dark:text-slate-500 group-focus-within:text-violet-500 dark:group-focus-within:text-violet-400 transition-colors"})}),p.jsxs("select",{value:t.destination,onChange:N=>e({...t,destination:N.target.value}),className:"w-full pl-12 pr-10 py-4 bg-transparent rounded-2xl outline-none border-2 border-transparent focus:border-violet-100 dark:focus:border-violet-900 focus:ring-0 transition-all font-semibold text-slate-800 dark:text-slate-200 appearance-none cursor-pointer placeholder:text-slate-400 text-sm md:text-base",required:!0,children:[p.jsx("option",{value:"",disabled:!0,className:"dark:bg-slate-900",children:"Select Destination"}),Ik.map(N=>p.jsx("option",{value:N,className:"dark:bg-slate-900",children:N},N))]}),p.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:p.jsx(Lr,{className:"w-4 h-4 rotate-90"})})]}),p.jsxs("div",{className:"relative group min-w-[150px] bg-white/50 dark:bg-slate-900/50 rounded-2xl transition-all focus-within:bg-white dark:focus-within:bg-slate-900 hover:bg-white dark:hover:bg-slate-900",children:[p.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:t.visaType==="Student"?p.jsx(Na,{className:"w-5 h-5 text-fuchsia-500"}):p.jsx(Jo,{className:"w-5 h-5 text-fuchsia-500"})}),p.jsxs("select",{value:t.visaType,onChange:N=>e({...t,visaType:N.target.value}),className:"w-full pl-12 pr-10 py-4 bg-transparent rounded-2xl outline-none border-2 border-transparent focus:border-violet-100 dark:focus:border-violet-900 focus:ring-0 transition-all font-semibold text-slate-800 dark:text-slate-200 appearance-none cursor-pointer text-sm md:text-base",children:[p.jsx("option",{value:"Tourist",className:"dark:bg-slate-900",children:"Tourist"}),p.jsx("option",{value:"Student",className:"dark:bg-slate-900",children:"Student"})]}),p.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:p.jsx(Lr,{className:"w-4 h-4 rotate-90"})})]}),p.jsxs("div",{className:"flex gap-2 min-w-[140px]",children:[p.jsx("button",{type:"submit",disabled:s===Bt.LOADING,className:"bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 disabled:from-slate-400 disabled:to-slate-500 text-white px-6 py-3 rounded-2xl font-bold transition-all shadow-lg shadow-violet-200 dark:shadow-violet-900/30 hover:shadow-xl hover:shadow-violet-300 dark:hover:shadow-violet-900/50 hover:-translate-y-0.5 active:translate-y-0 flex-1 flex items-center justify-center gap-2 group",children:s===Bt.LOADING?p.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):p.jsx(cF,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),p.jsx("button",{type:"button",onClick:T,className:"bg-white dark:bg-slate-800 hover:bg-violet-50 dark:hover:bg-slate-700 text-violet-600 dark:text-violet-400 border border-violet-100 dark:border-slate-700 px-4 py-3 rounded-2xl font-semibold transition-all hover:-translate-y-0.5 shadow-sm hover:shadow-md flex items-center justify-center",title:"Search Flights on Google",children:p.jsx(Jo,{className:"w-5 h-5 transform -rotate-45"})})]})]})]})]}),s===Bt.ERROR&&p.jsx("div",{className:"max-w-md mx-auto p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 text-red-600 dark:text-red-400 rounded-2xl text-center mb-8 font-medium animate-pulse",children:l}),s===Bt.SUCCESS&&o&&n&&p.jsxs("div",{ref:P,className:"space-y-12 animate-fade-in-up",children:[p.jsx(AF,{data:o,origin:`India (${n.originState||""})`,destination:n.destination,visaType:n.visaType},b),p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsxs("div",{className:"relative py-8 mb-4 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-800"})}),p.jsx("div",{className:"relative bg-slate-50 dark:bg-slate-950 px-6",children:p.jsx("span",{className:"text-sm font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em]",children:"Ask the EEC Expert"})})]}),p.jsx(NF,{visaData:o,originState:n.originState,destination:n.destination},`${b}-chat`),p.jsx(VF,{destination:n.destination,visaType:n.visaType},`${b}-bulletin`)]})]}),p.jsx(DF,{}),s===Bt.IDLE&&p.jsx("div",{className:"mt-8 grid md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[{icon:p.jsx(rc,{className:"w-6 h-6"}),color:"bg-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",title:"Jurisdiction Accurate",desc:"We check whether you need to apply via BLS, VFS, or directly at the Embassy based on your specific Indian state."},{icon:p.jsx(Na,{className:"w-6 h-6"}),color:"bg-fuchsia-500",bg:"bg-fuchsia-50 dark:bg-fuchsia-900/20",title:"Student & Tourist",desc:"Specialized logic for F-1, Tier 4, and other complex student visa categories for Indian students."},{icon:p.jsx(Jo,{className:"w-6 h-6"}),color:"bg-violet-500",bg:"bg-violet-50 dark:bg-violet-900/20",title:"Flight Integration",desc:"Plan your entire journey. Check visa requirements and search for the best flight deals."}].map((N,M)=>p.jsxs("div",{className:"bg-white/60 dark:bg-slate-800/60 backdrop-blur-sm p-8 rounded-3xl border border-white dark:border-slate-700 shadow-sm hover:shadow-xl hover:shadow-violet-100 dark:hover:shadow-violet-900/20 transition-all duration-300 group hover:-translate-y-1",children:[p.jsx("div",{className:`w-14 h-14 ${N.bg} rounded-2xl flex items-center justify-center mb-6 text-white shadow-md rotate-3 group-hover:rotate-6 transition-transform`,children:p.jsx("div",{className:`${N.color} w-10 h-10 rounded-xl flex items-center justify-center`,children:N.icon})}),p.jsx("h3",{className:"text-xl font-bold mb-3 text-slate-900 dark:text-white",children:N.title}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed font-medium",children:N.desc})]},M))}),p.jsx(FF,{}),p.jsx(LF,{})]}),p.jsx(E6,{}),g==="login"&&p.jsx(g6,{onAuthSuccess:k,onSwitchToSignup:U,onClose:V}),g==="signup"&&p.jsx(y6,{onAuthSuccess:k,onSwitchToLogin:D,onClose:V})]})},SI=document.getElementById("root");if(!SI)throw new Error("Could not find root element to mount to");const T6=cf.createRoot(SI);T6.render(p.jsx(Fw.StrictMode,{children:p.jsx(x6,{})}));
