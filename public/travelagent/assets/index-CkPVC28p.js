(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function XI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kw={exports:{}},cc={},Nw={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma=Symbol.for("react.element"),ZI=Symbol.for("react.portal"),e1=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),n1=Symbol.for("react.profiler"),r1=Symbol.for("react.provider"),s1=Symbol.for("react.context"),i1=Symbol.for("react.forward_ref"),o1=Symbol.for("react.suspense"),a1=Symbol.for("react.memo"),l1=Symbol.for("react.lazy"),Yg=Symbol.iterator;function u1(t){return t===null||typeof t!="object"?null:(t=Yg&&t[Yg]||t["@@iterator"],typeof t=="function"?t:null)}var Rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bw=Object.assign,Pw={};function Fi(t,e,n){this.props=t,this.context=e,this.refs=Pw,this.updater=n||Rw}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mw(){}Mw.prototype=Fi.prototype;function Zh(t,e,n){this.props=t,this.context=e,this.refs=Pw,this.updater=n||Rw}var ep=Zh.prototype=new Mw;ep.constructor=Zh;bw(ep,Fi.prototype);ep.isPureReactComponent=!0;var Qg=Array.isArray,Dw=Object.prototype.hasOwnProperty,tp={current:null},Vw={key:!0,ref:!0,__self:!0,__source:!0};function Lw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Dw.call(e,r)&&!Vw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ma,type:t,key:i,ref:o,props:s,_owner:tp.current}}function c1(t,e){return{$$typeof:Ma,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function np(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ma}function d1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xg=/\/+/g;function xd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?d1(""+t.key):e.toString(36)}function Ol(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ma:case ZI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+xd(o,0):r,Qg(s)?(n="",t!=null&&(n=t.replace(Xg,"$&/")+"/"),Ol(s,e,n,"",function(c){return c})):s!=null&&(np(s)&&(s=c1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Qg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+xd(i,a);o+=Ol(i,e,n,l,s)}else if(l=u1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+xd(i,a++),o+=Ol(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pl(t,e,n){if(t==null)return t;var r=[],s=0;return Ol(t,r,"","",function(i){return e.call(n,i,s++)}),r}function f1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},ql={transition:null},h1={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:ql,ReactCurrentOwner:tp};function Uw(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:pl,forEach:function(t,e,n){pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pl(t,function(){e++}),e},toArray:function(t){return pl(t,function(e){return e})||[]},only:function(t){if(!np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Fi;ue.Fragment=e1;ue.Profiler=n1;ue.PureComponent=Zh;ue.StrictMode=t1;ue.Suspense=o1;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h1;ue.act=Uw;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=tp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Dw.call(e,l)&&!Vw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ma,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:s1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:r1,_context:t},t.Consumer=t};ue.createElement=Lw;ue.createFactory=function(t){var e=Lw.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:i1,render:t}};ue.isValidElement=np;ue.lazy=function(t){return{$$typeof:l1,_payload:{_status:-1,_result:t},_init:f1}};ue.memo=function(t,e){return{$$typeof:a1,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ql.transition;ql.transition={};try{t()}finally{ql.transition=e}};ue.unstable_act=Uw;ue.useCallback=function(t,e){return Rt.current.useCallback(t,e)};ue.useContext=function(t){return Rt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Rt.current.useEffect(t,e)};ue.useId=function(){return Rt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Rt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};ue.useRef=function(t){return Rt.current.useRef(t)};ue.useState=function(t){return Rt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Rt.current.useTransition()};ue.version="18.3.1";Nw.exports=ue;var j=Nw.exports;const Fw=XI(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1=j,m1=Symbol.for("react.element"),g1=Symbol.for("react.fragment"),y1=Object.prototype.hasOwnProperty,v1=p1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_1={key:!0,ref:!0,__self:!0,__source:!0};function Ow(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)y1.call(e,r)&&!_1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:m1,type:t,key:i,ref:o,props:s,_owner:v1.current}}cc.Fragment=g1;cc.jsx=Ow;cc.jsxs=Ow;kw.exports=cc;var p=kw.exports,ff={},qw={exports:{}},Kt={},Bw={exports:{}},Gw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,H){var $=q.length;q.push(H);e:for(;0<$;){var ee=$-1>>>1,se=q[ee];if(0<s(se,H))q[ee]=H,q[$]=se,$=ee;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var H=q[0],$=q.pop();if($!==H){q[0]=$;e:for(var ee=0,se=q.length,Tt=se>>>1;ee<Tt;){var Re=2*(ee+1)-1,St=q[Re],Pe=Re+1,nt=q[Pe];if(0>s(St,$))Pe<se&&0>s(nt,St)?(q[ee]=nt,q[Pe]=$,ee=Pe):(q[ee]=St,q[Re]=$,ee=Re);else if(Pe<se&&0>s(nt,$))q[ee]=nt,q[Pe]=$,ee=Pe;else break e}}return H}function s(q,H){var $=q.sortIndex-H.sortIndex;return $!==0?$:q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,m=null,g=3,v=!1,w=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=q)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function D(q){if(I=!1,k(q),!w)if(n(l)!==null)w=!0,he(U);else{var H=n(c);H!==null&&pe(D,H.startTime-q)}}function U(q,H){w=!1,I&&(I=!1,A(E),E=-1),v=!0;var $=g;try{for(k(H),m=n(l);m!==null&&(!(m.expirationTime>H)||q&&!R());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,g=m.priorityLevel;var se=ee(m.expirationTime<=H);H=t.unstable_now(),typeof se=="function"?m.callback=se:m===n(l)&&r(l),k(H)}else r(l);m=n(l)}if(m!==null)var Tt=!0;else{var Re=n(c);Re!==null&&pe(D,Re.startTime-H),Tt=!1}return Tt}finally{m=null,g=$,v=!1}}var V=!1,T=null,E=-1,S=5,b=-1;function R(){return!(t.unstable_now()-b<S)}function M(){if(T!==null){var q=t.unstable_now();b=q;var H=!0;try{H=T(!0,q)}finally{H?N():(V=!1,T=null)}}else V=!1}var N;if(typeof x=="function")N=function(){x(M)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Se=X.port2;X.port1.onmessage=M,N=function(){Se.postMessage(null)}}else N=function(){P(M,0)};function he(q){T=q,V||(V=!0,N())}function pe(q,H){E=P(function(){q(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,he(U))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var $=g;g=H;try{return q()}finally{g=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,H){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=g;g=q;try{return H()}finally{g=$}},t.unstable_scheduleCallback=function(q,H,$){var ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=$+se,q={id:h++,callback:H,priorityLevel:q,startTime:$,expirationTime:se,sortIndex:-1},$>ee?(q.sortIndex=$,e(c,q),n(l)===null&&q===n(c)&&(I?(A(E),E=-1):I=!0,pe(D,$-ee))):(q.sortIndex=se,e(l,q),w||v||(w=!0,he(U))),q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(q){var H=g;return function(){var $=g;g=H;try{return q.apply(this,arguments)}finally{g=$}}}})(Gw);Bw.exports=Gw;var w1=Bw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1=j,Wt=w1;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hw=new Set,ea={};function Ns(t,e){Ei(t,e),Ei(t+"Capture",e)}function Ei(t,e){for(ea[t]=e,t=0;t<e.length;t++)Hw.add(e[t])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hf=Object.prototype.hasOwnProperty,x1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zg={},e0={};function T1(t){return hf.call(e0,t)?!0:hf.call(Zg,t)?!1:x1.test(t)?e0[t]=!0:(Zg[t]=!0,!1)}function S1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C1(t,e,n,r){if(e===null||typeof e>"u"||S1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rp=/[\-:]([a-z])/g;function sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rp,sp);lt[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rp,sp);lt[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rp,sp);lt[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ip(t,e,n,r){var s=lt.hasOwnProperty(e)?lt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(C1(e,n,s,r)&&(n=null),r||s===null?T1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tr=E1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),js=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),zw=Symbol.for("react.provider"),$w=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),gf=Symbol.for("react.suspense_list"),lp=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),jw=Symbol.for("react.offscreen"),t0=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=t0&&t[t0]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Td;function ko(t){if(Td===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Td=e&&e[1]||""}return`
`+Td+t}var Sd=!1;function Cd(t,e){if(!t||Sd)return"";Sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ko(t):""}function I1(t){switch(t.tag){case 5:return ko(t.type);case 16:return ko("Lazy");case 13:return ko("Suspense");case 19:return ko("SuspenseList");case 0:case 2:case 15:return t=Cd(t.type,!1),t;case 11:return t=Cd(t.type.render,!1),t;case 1:return t=Cd(t.type,!0),t;default:return""}}function yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case js:return"Portal";case pf:return"Profiler";case op:return"StrictMode";case mf:return"Suspense";case gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $w:return(t.displayName||"Context")+".Consumer";case zw:return(t._context.displayName||"Context")+".Provider";case ap:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lp:return e=t.displayName||null,e!==null?e:yf(t.type)||"Memo";case hr:e=t._payload,t=t._init;try{return yf(t(e))}catch{}}return null}function A1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(e);case 8:return e===op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ww(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k1(t){var e=Ww(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gl(t){t._valueTracker||(t._valueTracker=k1(t))}function Kw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ww(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vf(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jw(t,e){e=e.checked,e!=null&&ip(t,"checked",e,!1)}function _f(t,e){Jw(t,e);var n=Or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&wf(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wf(t,e,n){(e!=="number"||fu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var No=Array.isArray;function oi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ef(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function s0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(No(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function Yw(t,e){var n=Or(e.value),r=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yl,Xw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yl=yl||document.createElement("div"),yl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N1=["Webkit","ms","Moz","O"];Object.keys(Lo).forEach(function(t){N1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lo[e]=Lo[t]})});function Zw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lo.hasOwnProperty(t)&&Lo[t]?(""+e).trim():e+"px"}function eE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var R1=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tf(t,e){if(e){if(R1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=null;function up(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var If=null,ai=null,li=null;function o0(t){if(t=La(t)){if(typeof If!="function")throw Error(z(280));var e=t.stateNode;e&&(e=mc(e),If(t.stateNode,t.type,e))}}function tE(t){ai?li?li.push(t):li=[t]:ai=t}function nE(){if(ai){var t=ai,e=li;if(li=ai=null,o0(t),e)for(t=0;t<e.length;t++)o0(e[t])}}function rE(t,e){return t(e)}function sE(){}var Id=!1;function iE(t,e,n){if(Id)return t(e,n);Id=!0;try{return rE(t,e,n)}finally{Id=!1,(ai!==null||li!==null)&&(sE(),nE())}}function na(t,e){var n=t.stateNode;if(n===null)return null;var r=mc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Af=!1;if($n)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){Af=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Af=!1}function b1(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Uo=!1,hu=null,pu=!1,kf=null,P1={onError:function(t){Uo=!0,hu=t}};function M1(t,e,n,r,s,i,o,a,l){Uo=!1,hu=null,b1.apply(P1,arguments)}function D1(t,e,n,r,s,i,o,a,l){if(M1.apply(this,arguments),Uo){if(Uo){var c=hu;Uo=!1,hu=null}else throw Error(z(198));pu||(pu=!0,kf=c)}}function Rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a0(t){if(Rs(t)!==t)throw Error(z(188))}function V1(t){var e=t.alternate;if(!e){if(e=Rs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return a0(s),t;if(i===r)return a0(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function aE(t){return t=V1(t),t!==null?lE(t):null}function lE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lE(t);if(e!==null)return e;t=t.sibling}return null}var uE=Wt.unstable_scheduleCallback,l0=Wt.unstable_cancelCallback,L1=Wt.unstable_shouldYield,U1=Wt.unstable_requestPaint,Ge=Wt.unstable_now,F1=Wt.unstable_getCurrentPriorityLevel,cp=Wt.unstable_ImmediatePriority,cE=Wt.unstable_UserBlockingPriority,mu=Wt.unstable_NormalPriority,O1=Wt.unstable_LowPriority,dE=Wt.unstable_IdlePriority,dc=null,In=null;function q1(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(dc,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:H1,B1=Math.log,G1=Math.LN2;function H1(t){return t>>>=0,t===0?32:31-(B1(t)/G1|0)|0}var vl=64,_l=4194304;function Ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ro(a):(i&=o,i!==0&&(r=Ro(i)))}else o=n&~s,o!==0?r=Ro(o):i!==0&&(r=Ro(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),s=1<<n,r|=t[n],e&=~s;return r}function z1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-dn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=z1(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Nf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fE(){var t=vl;return vl<<=1,!(vl&4194240)&&(vl=64),t}function Ad(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function j1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function dp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var we=0;function hE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pE,fp,mE,gE,yE,Rf=!1,wl=[],Sr=null,Cr=null,Ir=null,ra=new Map,sa=new Map,mr=[],W1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u0(t,e){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(e.pointerId)}}function _o(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=La(e),e!==null&&fp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function K1(t,e,n,r,s){switch(e){case"focusin":return Sr=_o(Sr,t,e,n,r,s),!0;case"dragenter":return Cr=_o(Cr,t,e,n,r,s),!0;case"mouseover":return Ir=_o(Ir,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ra.set(i,_o(ra.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,sa.set(i,_o(sa.get(i)||null,t,e,n,r,s)),!0}return!1}function vE(t){var e=us(t.target);if(e!==null){var n=Rs(e);if(n!==null){if(e=n.tag,e===13){if(e=oE(n),e!==null){t.blockedOn=e,yE(t.priority,function(){mE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cf=r,n.target.dispatchEvent(r),Cf=null}else return e=La(n),e!==null&&fp(e),t.blockedOn=n,!1;e.shift()}return!0}function c0(t,e,n){Bl(t)&&n.delete(e)}function J1(){Rf=!1,Sr!==null&&Bl(Sr)&&(Sr=null),Cr!==null&&Bl(Cr)&&(Cr=null),Ir!==null&&Bl(Ir)&&(Ir=null),ra.forEach(c0),sa.forEach(c0)}function wo(t,e){t.blockedOn===e&&(t.blockedOn=null,Rf||(Rf=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,J1)))}function ia(t){function e(s){return wo(s,t)}if(0<wl.length){wo(wl[0],t);for(var n=1;n<wl.length;n++){var r=wl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sr!==null&&wo(Sr,t),Cr!==null&&wo(Cr,t),Ir!==null&&wo(Ir,t),ra.forEach(e),sa.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)vE(n),n.blockedOn===null&&mr.shift()}var ui=tr.ReactCurrentBatchConfig,yu=!0;function Y1(t,e,n,r){var s=we,i=ui.transition;ui.transition=null;try{we=1,hp(t,e,n,r)}finally{we=s,ui.transition=i}}function Q1(t,e,n,r){var s=we,i=ui.transition;ui.transition=null;try{we=4,hp(t,e,n,r)}finally{we=s,ui.transition=i}}function hp(t,e,n,r){if(yu){var s=bf(t,e,n,r);if(s===null)Ud(t,e,r,vu,n),u0(t,r);else if(K1(s,t,e,n,r))r.stopPropagation();else if(u0(t,r),e&4&&-1<W1.indexOf(t)){for(;s!==null;){var i=La(s);if(i!==null&&pE(i),i=bf(t,e,n,r),i===null&&Ud(t,e,r,vu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ud(t,e,r,null,n)}}var vu=null;function bf(t,e,n,r){if(vu=null,t=up(r),t=us(t),t!==null)if(e=Rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vu=t,null}function _E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F1()){case cp:return 1;case cE:return 4;case mu:case O1:return 16;case dE:return 536870912;default:return 16}default:return 16}}var Er=null,pp=null,Gl=null;function wE(){if(Gl)return Gl;var t,e=pp,n=e.length,r,s="value"in Er?Er.value:Er.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Gl=s.slice(t,1<r?1-r:void 0)}function Hl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function El(){return!0}function d0(){return!1}function Jt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?El:d0,this.isPropagationStopped=d0,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),e}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=Jt(Oi),Va=Ve({},Oi,{view:0,detail:0}),X1=Jt(Va),kd,Nd,Eo,fc=Ve({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eo&&(Eo&&t.type==="mousemove"?(kd=t.screenX-Eo.screenX,Nd=t.screenY-Eo.screenY):Nd=kd=0,Eo=t),kd)},movementY:function(t){return"movementY"in t?t.movementY:Nd}}),f0=Jt(fc),Z1=Ve({},fc,{dataTransfer:0}),eA=Jt(Z1),tA=Ve({},Va,{relatedTarget:0}),Rd=Jt(tA),nA=Ve({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),rA=Jt(nA),sA=Ve({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iA=Jt(sA),oA=Ve({},Oi,{data:0}),h0=Jt(oA),aA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uA[t])?!!e[t]:!1}function gp(){return cA}var dA=Ve({},Va,{key:function(t){if(t.key){var e=aA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(t){return t.type==="keypress"?Hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fA=Jt(dA),hA=Ve({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=Jt(hA),pA=Ve({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),mA=Jt(pA),gA=Ve({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yA=Jt(gA),vA=Ve({},fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_A=Jt(vA),wA=[9,13,27,32],yp=$n&&"CompositionEvent"in window,Fo=null;$n&&"documentMode"in document&&(Fo=document.documentMode);var EA=$n&&"TextEvent"in window&&!Fo,EE=$n&&(!yp||Fo&&8<Fo&&11>=Fo),m0=" ",g0=!1;function xE(t,e){switch(t){case"keyup":return wA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function xA(t,e){switch(t){case"compositionend":return TE(e);case"keypress":return e.which!==32?null:(g0=!0,m0);case"textInput":return t=e.data,t===m0&&g0?null:t;default:return null}}function TA(t,e){if(Ks)return t==="compositionend"||!yp&&xE(t,e)?(t=wE(),Gl=pp=Er=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EE&&e.locale!=="ko"?null:e.data;default:return null}}var SA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SA[t.type]:e==="textarea"}function SE(t,e,n,r){tE(r),e=_u(e,"onChange"),0<e.length&&(n=new mp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oo=null,oa=null;function CA(t){VE(t,0)}function hc(t){var e=Qs(t);if(Kw(e))return t}function IA(t,e){if(t==="change")return e}var CE=!1;if($n){var bd;if($n){var Pd="oninput"in document;if(!Pd){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),Pd=typeof v0.oninput=="function"}bd=Pd}else bd=!1;CE=bd&&(!document.documentMode||9<document.documentMode)}function _0(){Oo&&(Oo.detachEvent("onpropertychange",IE),oa=Oo=null)}function IE(t){if(t.propertyName==="value"&&hc(oa)){var e=[];SE(e,oa,t,up(t)),iE(CA,e)}}function AA(t,e,n){t==="focusin"?(_0(),Oo=e,oa=n,Oo.attachEvent("onpropertychange",IE)):t==="focusout"&&_0()}function kA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hc(oa)}function NA(t,e){if(t==="click")return hc(e)}function RA(t,e){if(t==="input"||t==="change")return hc(e)}function bA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:bA;function aa(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hf.call(e,s)||!hn(t[s],e[s]))return!1}return!0}function w0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function E0(t,e){var n=w0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w0(n)}}function AE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kE(){for(var t=window,e=fu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fu(t.document)}return e}function vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PA(t){var e=kE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AE(n.ownerDocument.documentElement,n)){if(r!==null&&vp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=E0(n,i);var o=E0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MA=$n&&"documentMode"in document&&11>=document.documentMode,Js=null,Pf=null,qo=null,Mf=!1;function x0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mf||Js==null||Js!==fu(r)||(r=Js,"selectionStart"in r&&vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qo&&aa(qo,r)||(qo=r,r=_u(Pf,"onSelect"),0<r.length&&(e=new mp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Js)))}function xl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ys={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},Md={},NE={};$n&&(NE=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function pc(t){if(Md[t])return Md[t];if(!Ys[t])return t;var e=Ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NE)return Md[t]=e[n];return t}var RE=pc("animationend"),bE=pc("animationiteration"),PE=pc("animationstart"),ME=pc("transitionend"),DE=new Map,T0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){DE.set(t,e),Ns(e,[t])}for(var Dd=0;Dd<T0.length;Dd++){var Vd=T0[Dd],DA=Vd.toLowerCase(),VA=Vd[0].toUpperCase()+Vd.slice(1);Wr(DA,"on"+VA)}Wr(RE,"onAnimationEnd");Wr(bE,"onAnimationIteration");Wr(PE,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(ME,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LA=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function S0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,D1(r,e,void 0,t),t.currentTarget=null}function VE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;S0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;S0(s,a,c),i=l}}}if(pu)throw t=kf,pu=!1,kf=null,t}function Ie(t,e){var n=e[Ff];n===void 0&&(n=e[Ff]=new Set);var r=t+"__bubble";n.has(r)||(LE(e,t,2,!1),n.add(r))}function Ld(t,e,n){var r=0;e&&(r|=4),LE(n,t,r,e)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function la(t){if(!t[Tl]){t[Tl]=!0,Hw.forEach(function(n){n!=="selectionchange"&&(LA.has(n)||Ld(n,!1,t),Ld(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tl]||(e[Tl]=!0,Ld("selectionchange",!1,e))}}function LE(t,e,n,r){switch(_E(e)){case 1:var s=Y1;break;case 4:s=Q1;break;default:s=hp}n=s.bind(null,e,n,t),s=void 0,!Af||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ud(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=us(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}iE(function(){var c=i,h=up(n),m=[];e:{var g=DE.get(t);if(g!==void 0){var v=mp,w=t;switch(t){case"keypress":if(Hl(n)===0)break e;case"keydown":case"keyup":v=fA;break;case"focusin":w="focus",v=Rd;break;case"focusout":w="blur",v=Rd;break;case"beforeblur":case"afterblur":v=Rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=f0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=eA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=mA;break;case RE:case bE:case PE:v=rA;break;case ME:v=yA;break;case"scroll":v=X1;break;case"wheel":v=_A;break;case"copy":case"cut":case"paste":v=iA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=p0}var I=(e&4)!==0,P=!I&&t==="scroll",A=I?g!==null?g+"Capture":null:g;I=[];for(var x=c,k;x!==null;){k=x;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,A!==null&&(D=na(x,A),D!=null&&I.push(ua(x,D,k)))),P)break;x=x.return}0<I.length&&(g=new v(g,w,null,n,h),m.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==Cf&&(w=n.relatedTarget||n.fromElement)&&(us(w)||w[jn]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?us(w):null,w!==null&&(P=Rs(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(I=f0,D="onMouseLeave",A="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(I=p0,D="onPointerLeave",A="onPointerEnter",x="pointer"),P=v==null?g:Qs(v),k=w==null?g:Qs(w),g=new I(D,x+"leave",v,n,h),g.target=P,g.relatedTarget=k,D=null,us(h)===c&&(I=new I(A,x+"enter",w,n,h),I.target=k,I.relatedTarget=P,D=I),P=D,v&&w)t:{for(I=v,A=w,x=0,k=I;k;k=Bs(k))x++;for(k=0,D=A;D;D=Bs(D))k++;for(;0<x-k;)I=Bs(I),x--;for(;0<k-x;)A=Bs(A),k--;for(;x--;){if(I===A||A!==null&&I===A.alternate)break t;I=Bs(I),A=Bs(A)}I=null}else I=null;v!==null&&C0(m,g,v,I,!1),w!==null&&P!==null&&C0(m,P,w,I,!0)}}e:{if(g=c?Qs(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var U=IA;else if(y0(g))if(CE)U=RA;else{U=kA;var V=AA}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=NA);if(U&&(U=U(t,c))){SE(m,U,n,h);break e}V&&V(t,g,c),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&wf(g,"number",g.value)}switch(V=c?Qs(c):window,t){case"focusin":(y0(V)||V.contentEditable==="true")&&(Js=V,Pf=c,qo=null);break;case"focusout":qo=Pf=Js=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,x0(m,n,h);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":x0(m,n,h)}var T;if(yp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ks?xE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(EE&&n.locale!=="ko"&&(Ks||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ks&&(T=wE()):(Er=h,pp="value"in Er?Er.value:Er.textContent,Ks=!0)),V=_u(c,E),0<V.length&&(E=new h0(E,t,null,n,h),m.push({event:E,listeners:V}),T?E.data=T:(T=TE(n),T!==null&&(E.data=T)))),(T=EA?xA(t,n):TA(t,n))&&(c=_u(c,"onBeforeInput"),0<c.length&&(h=new h0("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:c}),h.data=T))}VE(m,e)})}function ua(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _u(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=na(t,n),i!=null&&r.unshift(ua(t,i,s)),i=na(t,e),i!=null&&r.push(ua(t,i,s))),t=t.return}return r}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=na(n,i),l!=null&&o.unshift(ua(n,l,a))):s||(l=na(n,i),l!=null&&o.push(ua(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function I0(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(FA,"")}function Sl(t,e,n){if(e=I0(e),I0(t)!==e&&n)throw Error(z(425))}function wu(){}var Df=null,Vf=null;function Lf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uf=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,qA=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(t){return A0.resolve(null).then(t).catch(BA)}:Uf;function BA(t){setTimeout(function(){throw t})}function Fd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ia(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ia(e)}function Ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Tn="__reactFiber$"+qi,ca="__reactProps$"+qi,jn="__reactContainer$"+qi,Ff="__reactEvents$"+qi,GA="__reactListeners$"+qi,HA="__reactHandles$"+qi;function us(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jn]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k0(t);t!==null;){if(n=t[Tn])return n;t=k0(t)}return e}t=n,n=t.parentNode}return null}function La(t){return t=t[Tn]||t[jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function mc(t){return t[ca]||null}var Of=[],Xs=-1;function Kr(t){return{current:t}}function Ne(t){0>Xs||(t.current=Of[Xs],Of[Xs]=null,Xs--)}function Te(t,e){Xs++,Of[Xs]=t.current,t.current=e}var qr={},Et=Kr(qr),Lt=Kr(!1),vs=qr;function xi(t,e){var n=t.type.contextTypes;if(!n)return qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(t){return t=t.childContextTypes,t!=null}function Eu(){Ne(Lt),Ne(Et)}function N0(t,e,n){if(Et.current!==qr)throw Error(z(168));Te(Et,e),Te(Lt,n)}function UE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,A1(t)||"Unknown",s));return Ve({},n,r)}function xu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,vs=Et.current,Te(Et,t),Te(Lt,Lt.current),!0}function R0(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=UE(t,e,vs),r.__reactInternalMemoizedMergedChildContext=t,Ne(Lt),Ne(Et),Te(Et,t)):Ne(Lt),Te(Lt,n)}var On=null,gc=!1,Od=!1;function FE(t){On===null?On=[t]:On.push(t)}function zA(t){gc=!0,FE(t)}function Jr(){if(!Od&&On!==null){Od=!0;var t=0,e=we;try{var n=On;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}On=null,gc=!1}catch(s){throw On!==null&&(On=On.slice(t+1)),uE(cp,Jr),s}finally{we=e,Od=!1}}return null}var Zs=[],ei=0,Tu=null,Su=0,Qt=[],Xt=0,_s=null,qn=1,Bn="";function os(t,e){Zs[ei++]=Su,Zs[ei++]=Tu,Tu=t,Su=e}function OE(t,e,n){Qt[Xt++]=qn,Qt[Xt++]=Bn,Qt[Xt++]=_s,_s=t;var r=qn;t=Bn;var s=32-dn(r)-1;r&=~(1<<s),n+=1;var i=32-dn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,qn=1<<32-dn(e)+s|n<<s|r,Bn=i+t}else qn=1<<i|n<<s|r,Bn=t}function _p(t){t.return!==null&&(os(t,1),OE(t,1,0))}function wp(t){for(;t===Tu;)Tu=Zs[--ei],Zs[ei]=null,Su=Zs[--ei],Zs[ei]=null;for(;t===_s;)_s=Qt[--Xt],Qt[Xt]=null,Bn=Qt[--Xt],Qt[Xt]=null,qn=Qt[--Xt],Qt[Xt]=null}var jt=null,zt=null,be=!1,un=null;function qE(t,e){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function b0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,zt=Ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_s!==null?{id:qn,overflow:Bn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,zt=null,!0):!1;default:return!1}}function qf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bf(t){if(be){var e=zt;if(e){var n=e;if(!b0(t,e)){if(qf(t))throw Error(z(418));e=Ar(n.nextSibling);var r=jt;e&&b0(t,e)?qE(r,n):(t.flags=t.flags&-4097|2,be=!1,jt=t)}}else{if(qf(t))throw Error(z(418));t.flags=t.flags&-4097|2,be=!1,jt=t}}}function P0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Cl(t){if(t!==jt)return!1;if(!be)return P0(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lf(t.type,t.memoizedProps)),e&&(e=zt)){if(qf(t))throw BE(),Error(z(418));for(;e;)qE(t,e),e=Ar(e.nextSibling)}if(P0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=jt?Ar(t.stateNode.nextSibling):null;return!0}function BE(){for(var t=zt;t;)t=Ar(t.nextSibling)}function Ti(){zt=jt=null,be=!1}function Ep(t){un===null?un=[t]:un.push(t)}var $A=tr.ReactCurrentBatchConfig;function xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Il(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function M0(t){var e=t._init;return e(t._payload)}function GE(t){function e(A,x){if(t){var k=A.deletions;k===null?(A.deletions=[x],A.flags|=16):k.push(x)}}function n(A,x){if(!t)return null;for(;x!==null;)e(A,x),x=x.sibling;return null}function r(A,x){for(A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function s(A,x){return A=br(A,x),A.index=0,A.sibling=null,A}function i(A,x,k){return A.index=k,t?(k=A.alternate,k!==null?(k=k.index,k<x?(A.flags|=2,x):k):(A.flags|=2,x)):(A.flags|=1048576,x)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,x,k,D){return x===null||x.tag!==6?(x=jd(k,A.mode,D),x.return=A,x):(x=s(x,k),x.return=A,x)}function l(A,x,k,D){var U=k.type;return U===Ws?h(A,x,k.props.children,D,k.key):x!==null&&(x.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===hr&&M0(U)===x.type)?(D=s(x,k.props),D.ref=xo(A,x,k),D.return=A,D):(D=Yl(k.type,k.key,k.props,null,A.mode,D),D.ref=xo(A,x,k),D.return=A,D)}function c(A,x,k,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Wd(k,A.mode,D),x.return=A,x):(x=s(x,k.children||[]),x.return=A,x)}function h(A,x,k,D,U){return x===null||x.tag!==7?(x=ms(k,A.mode,D,U),x.return=A,x):(x=s(x,k),x.return=A,x)}function m(A,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=jd(""+x,A.mode,k),x.return=A,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ml:return k=Yl(x.type,x.key,x.props,null,A.mode,k),k.ref=xo(A,null,x),k.return=A,k;case js:return x=Wd(x,A.mode,k),x.return=A,x;case hr:var D=x._init;return m(A,D(x._payload),k)}if(No(x)||yo(x))return x=ms(x,A.mode,k,null),x.return=A,x;Il(A,x)}return null}function g(A,x,k,D){var U=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return U!==null?null:a(A,x,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ml:return k.key===U?l(A,x,k,D):null;case js:return k.key===U?c(A,x,k,D):null;case hr:return U=k._init,g(A,x,U(k._payload),D)}if(No(k)||yo(k))return U!==null?null:h(A,x,k,D,null);Il(A,k)}return null}function v(A,x,k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return A=A.get(k)||null,a(x,A,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ml:return A=A.get(D.key===null?k:D.key)||null,l(x,A,D,U);case js:return A=A.get(D.key===null?k:D.key)||null,c(x,A,D,U);case hr:var V=D._init;return v(A,x,k,V(D._payload),U)}if(No(D)||yo(D))return A=A.get(k)||null,h(x,A,D,U,null);Il(x,D)}return null}function w(A,x,k,D){for(var U=null,V=null,T=x,E=x=0,S=null;T!==null&&E<k.length;E++){T.index>E?(S=T,T=null):S=T.sibling;var b=g(A,T,k[E],D);if(b===null){T===null&&(T=S);break}t&&T&&b.alternate===null&&e(A,T),x=i(b,x,E),V===null?U=b:V.sibling=b,V=b,T=S}if(E===k.length)return n(A,T),be&&os(A,E),U;if(T===null){for(;E<k.length;E++)T=m(A,k[E],D),T!==null&&(x=i(T,x,E),V===null?U=T:V.sibling=T,V=T);return be&&os(A,E),U}for(T=r(A,T);E<k.length;E++)S=v(T,A,E,k[E],D),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?E:S.key),x=i(S,x,E),V===null?U=S:V.sibling=S,V=S);return t&&T.forEach(function(R){return e(A,R)}),be&&os(A,E),U}function I(A,x,k,D){var U=yo(k);if(typeof U!="function")throw Error(z(150));if(k=U.call(k),k==null)throw Error(z(151));for(var V=U=null,T=x,E=x=0,S=null,b=k.next();T!==null&&!b.done;E++,b=k.next()){T.index>E?(S=T,T=null):S=T.sibling;var R=g(A,T,b.value,D);if(R===null){T===null&&(T=S);break}t&&T&&R.alternate===null&&e(A,T),x=i(R,x,E),V===null?U=R:V.sibling=R,V=R,T=S}if(b.done)return n(A,T),be&&os(A,E),U;if(T===null){for(;!b.done;E++,b=k.next())b=m(A,b.value,D),b!==null&&(x=i(b,x,E),V===null?U=b:V.sibling=b,V=b);return be&&os(A,E),U}for(T=r(A,T);!b.done;E++,b=k.next())b=v(T,A,E,b.value,D),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?E:b.key),x=i(b,x,E),V===null?U=b:V.sibling=b,V=b);return t&&T.forEach(function(M){return e(A,M)}),be&&os(A,E),U}function P(A,x,k,D){if(typeof k=="object"&&k!==null&&k.type===Ws&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ml:e:{for(var U=k.key,V=x;V!==null;){if(V.key===U){if(U=k.type,U===Ws){if(V.tag===7){n(A,V.sibling),x=s(V,k.props.children),x.return=A,A=x;break e}}else if(V.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===hr&&M0(U)===V.type){n(A,V.sibling),x=s(V,k.props),x.ref=xo(A,V,k),x.return=A,A=x;break e}n(A,V);break}else e(A,V);V=V.sibling}k.type===Ws?(x=ms(k.props.children,A.mode,D,k.key),x.return=A,A=x):(D=Yl(k.type,k.key,k.props,null,A.mode,D),D.ref=xo(A,x,k),D.return=A,A=D)}return o(A);case js:e:{for(V=k.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(A,x.sibling),x=s(x,k.children||[]),x.return=A,A=x;break e}else{n(A,x);break}else e(A,x);x=x.sibling}x=Wd(k,A.mode,D),x.return=A,A=x}return o(A);case hr:return V=k._init,P(A,x,V(k._payload),D)}if(No(k))return w(A,x,k,D);if(yo(k))return I(A,x,k,D);Il(A,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(A,x.sibling),x=s(x,k),x.return=A,A=x):(n(A,x),x=jd(k,A.mode,D),x.return=A,A=x),o(A)):n(A,x)}return P}var Si=GE(!0),HE=GE(!1),Cu=Kr(null),Iu=null,ti=null,xp=null;function Tp(){xp=ti=Iu=null}function Sp(t){var e=Cu.current;Ne(Cu),t._currentValue=e}function Gf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ci(t,e){Iu=t,xp=ti=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(xp!==t)if(t={context:t,memoizedValue:e,next:null},ti===null){if(Iu===null)throw Error(z(308));ti=t,Iu.dependencies={lanes:0,firstContext:t}}else ti=ti.next=t;return e}var cs=null;function Cp(t){cs===null?cs=[t]:cs.push(t)}function zE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Cp(e)):(n.next=s.next,s.next=n),e.interleaved=n,Wn(t,r)}function Wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pr=!1;function Ip(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $E(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Wn(t,n)}return s=r.interleaved,s===null?(e.next=e,Cp(r)):(e.next=s.next,s.next=e),r.interleaved=e,Wn(t,n)}function zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dp(t,n)}}function D0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Au(t,e,n,r){var s=t.updateQueue;pr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var m=s.baseState;o=0,h=c=l=null,a=i;do{var g=a.lane,v=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,I=a;switch(g=e,v=n,I.tag){case 1:if(w=I.payload,typeof w=="function"){m=w.call(v,m,g);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,g=typeof w=="function"?w.call(v,m,g):w,g==null)break e;m=Ve({},m,g);break e;case 2:pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,l=m):h=h.next=v,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(l=m),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Es|=o,t.lanes=o,t.memoizedState=m}}function V0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Ua={},An=Kr(Ua),da=Kr(Ua),fa=Kr(Ua);function ds(t){if(t===Ua)throw Error(z(174));return t}function Ap(t,e){switch(Te(fa,e),Te(da,t),Te(An,Ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xf(e,t)}Ne(An),Te(An,e)}function Ci(){Ne(An),Ne(da),Ne(fa)}function jE(t){ds(fa.current);var e=ds(An.current),n=xf(e,t.type);e!==n&&(Te(da,t),Te(An,n))}function kp(t){da.current===t&&(Ne(An),Ne(da))}var Me=Kr(0);function ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qd=[];function Np(){for(var t=0;t<qd.length;t++)qd[t]._workInProgressVersionPrimary=null;qd.length=0}var $l=tr.ReactCurrentDispatcher,Bd=tr.ReactCurrentBatchConfig,ws=0,De=null,Ke=null,et=null,Nu=!1,Bo=!1,ha=0,jA=0;function ft(){throw Error(z(321))}function Rp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function bp(t,e,n,r,s,i){if(ws=i,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$l.current=t===null||t.memoizedState===null?YA:QA,t=n(r,s),Bo){i=0;do{if(Bo=!1,ha=0,25<=i)throw Error(z(301));i+=1,et=Ke=null,e.updateQueue=null,$l.current=XA,t=n(r,s)}while(Bo)}if($l.current=Ru,e=Ke!==null&&Ke.next!==null,ws=0,et=Ke=De=null,Nu=!1,e)throw Error(z(300));return t}function Pp(){var t=ha!==0;return ha=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?De.memoizedState=et=t:et=et.next=t,et}function sn(){if(Ke===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=et===null?De.memoizedState:et.next;if(e!==null)et=e,Ke=t;else{if(t===null)throw Error(z(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},et===null?De.memoizedState=et=t:et=et.next=t}return et}function pa(t,e){return typeof e=="function"?e(t):e}function Gd(t){var e=sn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((ws&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,De.lanes|=h,Es|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,hn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,De.lanes|=i,Es|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hd(t){var e=sn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);hn(i,e.memoizedState)||(Vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function WE(){}function KE(t,e){var n=De,r=sn(),s=e(),i=!hn(r.memoizedState,s);if(i&&(r.memoizedState=s,Vt=!0),r=r.queue,Mp(QE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,ma(9,YE.bind(null,n,r,s,e),void 0,null),tt===null)throw Error(z(349));ws&30||JE(n,e,s)}return s}function JE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YE(t,e,n,r){e.value=n,e.getSnapshot=r,XE(e)&&ZE(t)}function QE(t,e,n){return n(function(){XE(e)&&ZE(t)})}function XE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function ZE(t){var e=Wn(t,1);e!==null&&fn(e,t,1,-1)}function L0(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:t},e.queue=t,t=t.dispatch=JA.bind(null,De,t),[e.memoizedState,t]}function ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ex(){return sn().memoizedState}function jl(t,e,n,r){var s=En();De.flags|=t,s.memoizedState=ma(1|e,n,void 0,r===void 0?null:r)}function yc(t,e,n,r){var s=sn();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,r!==null&&Rp(r,o.deps)){s.memoizedState=ma(e,n,i,r);return}}De.flags|=t,s.memoizedState=ma(1|e,n,i,r)}function U0(t,e){return jl(8390656,8,t,e)}function Mp(t,e){return yc(2048,8,t,e)}function tx(t,e){return yc(4,2,t,e)}function nx(t,e){return yc(4,4,t,e)}function rx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sx(t,e,n){return n=n!=null?n.concat([t]):null,yc(4,4,rx.bind(null,e,t),n)}function Dp(){}function ix(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ox(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ax(t,e,n){return ws&21?(hn(n,e)||(n=fE(),De.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function WA(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Bd.transition;Bd.transition={};try{t(!1),e()}finally{we=n,Bd.transition=r}}function lx(){return sn().memoizedState}function KA(t,e,n){var r=Rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ux(t))cx(e,n);else if(n=zE(t,e,n,r),n!==null){var s=kt();fn(n,t,r,s),dx(n,e,r)}}function JA(t,e,n){var r=Rr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ux(t))cx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,hn(a,o)){var l=e.interleaved;l===null?(s.next=s,Cp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=zE(t,e,s,r),n!==null&&(s=kt(),fn(n,t,r,s),dx(n,e,r))}}function ux(t){var e=t.alternate;return t===De||e!==null&&e===De}function cx(t,e){Bo=Nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dp(t,n)}}var Ru={readContext:rn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},YA={readContext:rn,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:U0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jl(4194308,4,rx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return jl(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KA.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:L0,useDebugValue:Dp,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=L0(!1),e=t[0];return t=WA.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,s=En();if(be){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),tt===null)throw Error(z(349));ws&30||JE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,U0(QE.bind(null,r,i,t),[t]),r.flags|=2048,ma(9,YE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=En(),e=tt.identifierPrefix;if(be){var n=Bn,r=qn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ha++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QA={readContext:rn,useCallback:ix,useContext:rn,useEffect:Mp,useImperativeHandle:sx,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:ox,useReducer:Gd,useRef:ex,useState:function(){return Gd(pa)},useDebugValue:Dp,useDeferredValue:function(t){var e=sn();return ax(e,Ke.memoizedState,t)},useTransition:function(){var t=Gd(pa)[0],e=sn().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:KE,useId:lx,unstable_isNewReconciler:!1},XA={readContext:rn,useCallback:ix,useContext:rn,useEffect:Mp,useImperativeHandle:sx,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:ox,useReducer:Hd,useRef:ex,useState:function(){return Hd(pa)},useDebugValue:Dp,useDeferredValue:function(t){var e=sn();return Ke===null?e.memoizedState=t:ax(e,Ke.memoizedState,t)},useTransition:function(){var t=Hd(pa)[0],e=sn().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:KE,useId:lx,unstable_isNewReconciler:!1};function an(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vc={isMounted:function(t){return(t=t._reactInternals)?Rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Rr(t),i=zn(r,s);i.payload=e,n!=null&&(i.callback=n),e=kr(t,i,s),e!==null&&(fn(e,t,s,r),zl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Rr(t),i=zn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=kr(t,i,s),e!==null&&(fn(e,t,s,r),zl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=Rr(t),s=zn(n,r);s.tag=2,e!=null&&(s.callback=e),e=kr(t,s,r),e!==null&&(fn(e,t,r,n),zl(e,t,r))}};function F0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!aa(n,r)||!aa(s,i):!0}function fx(t,e,n){var r=!1,s=qr,i=e.contextType;return typeof i=="object"&&i!==null?i=rn(i):(s=Ut(e)?vs:Et.current,r=e.contextTypes,i=(r=r!=null)?xi(t,s):qr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function O0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vc.enqueueReplaceState(e,e.state,null)}function zf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ip(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=rn(i):(i=Ut(e)?vs:Et.current,s.context=xi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Hf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vc.enqueueReplaceState(s,s.state,null),Au(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ii(t,e){try{var n="",r=e;do n+=I1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $f(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZA=typeof WeakMap=="function"?WeakMap:Map;function hx(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pu||(Pu=!0,th=r),$f(t,e)},n}function px(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){$f(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$f(t,e),typeof r!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function q0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hk.bind(null,t,e,n),e.then(t,t))}function B0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,kr(n,e,1))),n.lanes|=1),t)}var ek=tr.ReactCurrentOwner,Vt=!1;function At(t,e,n,r){e.child=t===null?HE(e,null,n,r):Si(e,t.child,n,r)}function H0(t,e,n,r,s){n=n.render;var i=e.ref;return ci(e,s),r=bp(t,e,n,r,i,s),n=Pp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Kn(t,e,s)):(be&&n&&_p(e),e.flags|=1,At(t,e,r,s),e.child)}function z0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Gp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mx(t,e,i,r,s)):(t=Yl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:aa,n(o,r)&&t.ref===e.ref)return Kn(t,e,s)}return e.flags|=1,t=br(i,r),t.ref=e.ref,t.return=e,e.child=t}function mx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(aa(i,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,Kn(t,e,s)}return jf(t,e,n,r,s)}function gx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ri,Ht),Ht|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(ri,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(ri,Ht),Ht|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Te(ri,Ht),Ht|=r;return At(t,e,s,n),e.child}function yx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jf(t,e,n,r,s){var i=Ut(n)?vs:Et.current;return i=xi(e,i),ci(e,s),n=bp(t,e,n,r,i,s),r=Pp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Kn(t,e,s)):(be&&r&&_p(e),e.flags|=1,At(t,e,n,s),e.child)}function $0(t,e,n,r,s){if(Ut(n)){var i=!0;xu(e)}else i=!1;if(ci(e,s),e.stateNode===null)Wl(t,e),fx(e,n,r),zf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=rn(c):(c=Ut(n)?vs:Et.current,c=xi(e,c));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&O0(e,o,r,c),pr=!1;var g=e.memoizedState;o.state=g,Au(e,r,o,s),l=e.memoizedState,a!==r||g!==l||Lt.current||pr?(typeof h=="function"&&(Hf(e,n,h,r),l=e.memoizedState),(a=pr||F0(e,n,a,r,g,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$E(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:an(e.type,a),o.props=c,m=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rn(l):(l=Ut(n)?vs:Et.current,l=xi(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||g!==l)&&O0(e,o,r,l),pr=!1,g=e.memoizedState,o.state=g,Au(e,r,o,s);var w=e.memoizedState;a!==m||g!==w||Lt.current||pr?(typeof v=="function"&&(Hf(e,n,v,r),w=e.memoizedState),(c=pr||F0(e,n,c,r,g,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Wf(t,e,n,r,i,s)}function Wf(t,e,n,r,s,i){yx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&R0(e,n,!1),Kn(t,e,i);r=e.stateNode,ek.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Si(e,t.child,null,i),e.child=Si(e,null,a,i)):At(t,e,a,i),e.memoizedState=r.state,s&&R0(e,n,!0),e.child}function vx(t){var e=t.stateNode;e.pendingContext?N0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&N0(t,e.context,!1),Ap(t,e.containerInfo)}function j0(t,e,n,r,s){return Ti(),Ep(s),e.flags|=256,At(t,e,n,r),e.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Jf(t){return{baseLanes:t,cachePool:null,transitions:null}}function _x(t,e,n){var r=e.pendingProps,s=Me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Te(Me,s&1),t===null)return Bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ec(o,r,0,null),t=ms(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Jf(n),e.memoizedState=Kf,t):Vp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return tk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=br(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=br(a,i):(i=ms(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Jf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Kf,r}return i=t.child,t=i.sibling,r=br(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vp(t,e){return e=Ec({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Al(t,e,n,r){return r!==null&&Ep(r),Si(e,t.child,null,n),t=Vp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=zd(Error(z(422))),Al(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ec({mode:"visible",children:r.children},s,0,null),i=ms(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Si(e,t.child,null,o),e.child.memoizedState=Jf(o),e.memoizedState=Kf,i);if(!(e.mode&1))return Al(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=zd(i,r,void 0),Al(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vt||a){if(r=tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wn(t,s),fn(r,t,s,-1))}return Bp(),r=zd(Error(z(421))),Al(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zt=Ar(s.nextSibling),jt=e,be=!0,un=null,t!==null&&(Qt[Xt++]=qn,Qt[Xt++]=Bn,Qt[Xt++]=_s,qn=t.id,Bn=t.overflow,_s=e),e=Vp(e,r.children),e.flags|=4096,e)}function W0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gf(t.return,e,n)}function $d(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(At(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W0(t,n,e);else if(t.tag===19)W0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(Me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ku(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),$d(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ku(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}$d(e,!0,n,null,i);break;case"together":$d(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nk(t,e,n){switch(e.tag){case 3:vx(e),Ti();break;case 5:jE(e);break;case 1:Ut(e.type)&&xu(e);break;case 4:Ap(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Te(Cu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?_x(t,e,n):(Te(Me,Me.current&1),t=Kn(t,e,n),t!==null?t.sibling:null);Te(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,gx(t,e,n)}return Kn(t,e,n)}var Ex,Yf,xx,Tx;Ex=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yf=function(){};xx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ds(An.current);var i=null;switch(n){case"input":s=vf(t,s),r=vf(t,r),i=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),i=[];break;case"textarea":s=Ef(t,s),r=Ef(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wu)}Tf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ea.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Tx=function(t,e,n,r){n!==r&&(e.flags|=4)};function To(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rk(t,e,n){var r=e.pendingProps;switch(wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return Ut(e.type)&&Eu(),ht(e),null;case 3:return r=e.stateNode,Ci(),Ne(Lt),Ne(Et),Np(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(sh(un),un=null))),Yf(t,e),ht(e),null;case 5:kp(e);var s=ds(fa.current);if(n=e.type,t!==null&&e.stateNode!=null)xx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ht(e),null}if(t=ds(An.current),Cl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tn]=e,r[ca]=i,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<bo.length;s++)Ie(bo[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":n0(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":s0(r,i),Ie("invalid",r)}Tf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),s=["children",""+a]):ea.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":gl(r),r0(r,i,!0);break;case"textarea":gl(r),i0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tn]=e,t[ca]=r,Ex(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sf(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),s=r;break;case"iframe":case"object":case"embed":Ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<bo.length;s++)Ie(bo[s],t);s=r;break;case"source":Ie("error",t),s=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=r;break;case"details":Ie("toggle",t),s=r;break;case"input":n0(t,r),s=vf(t,r),Ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":s0(t,r),s=Ef(t,r),Ie("invalid",t);break;default:s=r}Tf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?eE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ta(t,l):typeof l=="number"&&ta(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ea.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ie("scroll",t):l!=null&&ip(t,i,l,o))}switch(n){case"input":gl(t),r0(t,r,!1);break;case"textarea":gl(t),i0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Or(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?oi(t,!!r.multiple,i,!1):r.defaultValue!=null&&oi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)Tx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ds(fa.current),ds(An.current),Cl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(i=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:Sl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return ht(e),null;case 13:if(Ne(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&zt!==null&&e.mode&1&&!(e.flags&128))BE(),Ti(),e.flags|=98560,i=!1;else if(i=Cl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Tn]=e}else Ti(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),i=!1}else un!==null&&(sh(un),un=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?Je===0&&(Je=3):Bp())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return Ci(),Yf(t,e),t===null&&la(e.stateNode.containerInfo),ht(e),null;case 10:return Sp(e.type._context),ht(e),null;case 17:return Ut(e.type)&&Eu(),ht(e),null;case 19:if(Ne(Me),i=e.memoizedState,i===null)return ht(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)To(i,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ku(t),o!==null){for(e.flags|=128,To(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Ai&&(e.flags|=128,r=!0,To(i,!1),e.lanes=4194304)}else{if(!r)if(t=ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),To(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!be)return ht(e),null}else 2*Ge()-i.renderingStartTime>Ai&&n!==1073741824&&(e.flags|=128,r=!0,To(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Me.current,Te(Me,r?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return qp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function sk(t,e){switch(wp(e),e.tag){case 1:return Ut(e.type)&&Eu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ci(),Ne(Lt),Ne(Et),Np(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kp(e),null;case 13:if(Ne(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Me),null;case 4:return Ci(),null;case 10:return Sp(e.type._context),null;case 22:case 23:return qp(),null;case 24:return null;default:return null}}var kl=!1,yt=!1,ik=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ni(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Qf(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var K0=!1;function ok(t,e){if(Df=yu,t=kE(),vp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,m=t,g=null;t:for(;;){for(var v;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)g=m,m=v;for(;;){if(m===t)break t;if(g===n&&++c===s&&(a=o),g===i&&++h===r&&(l=o),(v=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vf={focusedElem:t,selectionRange:n},yu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var I=w.memoizedProps,P=w.memoizedState,A=e.stateNode,x=A.getSnapshotBeforeUpdate(e.elementType===e.type?I:an(e.type,I),P);A.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(D){Fe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return w=K0,K0=!1,w}function Go(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qf(e,n,i)}s=s.next}while(s!==r)}}function _c(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sx(t){var e=t.alternate;e!==null&&(t.alternate=null,Sx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[ca],delete e[Ff],delete e[GA],delete e[HA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cx(t){return t.tag===5||t.tag===3||t.tag===4}function J0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wu));else if(r!==4&&(t=t.child,t!==null))for(Zf(t,e,n),t=t.sibling;t!==null;)Zf(t,e,n),t=t.sibling}function eh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(eh(t,e,n),t=t.sibling;t!==null;)eh(t,e,n),t=t.sibling}var st=null,ln=!1;function dr(t,e,n){for(n=n.child;n!==null;)Ix(t,e,n),n=n.sibling}function Ix(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(dc,n)}catch{}switch(n.tag){case 5:yt||ni(n,e);case 6:var r=st,s=ln;st=null,dr(t,e,n),st=r,ln=s,st!==null&&(ln?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(ln?(t=st,n=n.stateNode,t.nodeType===8?Fd(t.parentNode,n):t.nodeType===1&&Fd(t,n),ia(t)):Fd(st,n.stateNode));break;case 4:r=st,s=ln,st=n.stateNode.containerInfo,ln=!0,dr(t,e,n),st=r,ln=s;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qf(n,e,o),s=s.next}while(s!==r)}dr(t,e,n);break;case 1:if(!yt&&(ni(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}dr(t,e,n);break;case 21:dr(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,dr(t,e,n),yt=r):dr(t,e,n);break;default:dr(t,e,n)}}function Y0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ik),e.forEach(function(r){var s=mk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function on(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,ln=!1;break e;case 3:st=a.stateNode.containerInfo,ln=!0;break e;case 4:st=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(st===null)throw Error(z(160));Ix(i,o,s),st=null,ln=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Fe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ax(e,t),e=e.sibling}function Ax(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(on(e,t),_n(t),r&4){try{Go(3,t,t.return),_c(3,t)}catch(I){Fe(t,t.return,I)}try{Go(5,t,t.return)}catch(I){Fe(t,t.return,I)}}break;case 1:on(e,t),_n(t),r&512&&n!==null&&ni(n,n.return);break;case 5:if(on(e,t),_n(t),r&512&&n!==null&&ni(n,n.return),t.flags&32){var s=t.stateNode;try{ta(s,"")}catch(I){Fe(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Jw(s,i),Sf(a,o);var c=Sf(a,i);for(o=0;o<l.length;o+=2){var h=l[o],m=l[o+1];h==="style"?eE(s,m):h==="dangerouslySetInnerHTML"?Xw(s,m):h==="children"?ta(s,m):ip(s,h,m,c)}switch(a){case"input":_f(s,i);break;case"textarea":Yw(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?oi(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?oi(s,!!i.multiple,i.defaultValue,!0):oi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ca]=i}catch(I){Fe(t,t.return,I)}}break;case 6:if(on(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){Fe(t,t.return,I)}}break;case 3:if(on(e,t),_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ia(e.containerInfo)}catch(I){Fe(t,t.return,I)}break;case 4:on(e,t),_n(t);break;case 13:on(e,t),_n(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fp=Ge())),r&4&&Y0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(c=yt)||h,on(e,t),yt=c):on(e,t),_n(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(m=Q=h;Q!==null;){switch(g=Q,v=g.child,g.tag){case 0:case 11:case 14:case 15:Go(4,g,g.return);break;case 1:ni(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(I){Fe(r,n,I)}}break;case 5:ni(g,g.return);break;case 22:if(g.memoizedState!==null){X0(m);continue}}v!==null?(v.return=g,Q=v):X0(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Zw("display",o))}catch(I){Fe(t,t.return,I)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(I){Fe(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:on(e,t),_n(t),r&4&&Y0(t);break;case 21:break;default:on(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cx(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ta(s,""),r.flags&=-33);var i=J0(t);eh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=J0(t);Zf(t,a,o);break;default:throw Error(z(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ak(t,e,n){Q=t,kx(t)}function kx(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||kl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||yt;a=kl;var c=yt;if(kl=o,(yt=l)&&!c)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Z0(s):l!==null?(l.return=o,Q=l):Z0(s);for(;i!==null;)Q=i,kx(i),i=i.sibling;Q=s,kl=a,yt=c}Q0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):Q0(t)}}function Q0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||_c(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:an(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&V0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&ia(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}yt||e.flags&512&&Xf(e)}catch(g){Fe(e,e.return,g)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function X0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Z0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_c(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Fe(e,s,l)}}var i=e.return;try{Xf(e)}catch(l){Fe(e,i,l)}break;case 5:var o=e.return;try{Xf(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var lk=Math.ceil,bu=tr.ReactCurrentDispatcher,Lp=tr.ReactCurrentOwner,tn=tr.ReactCurrentBatchConfig,ge=0,tt=null,ze=null,at=0,Ht=0,ri=Kr(0),Je=0,ga=null,Es=0,wc=0,Up=0,Ho=null,Mt=null,Fp=0,Ai=1/0,Fn=null,Pu=!1,th=null,Nr=null,Nl=!1,xr=null,Mu=0,zo=0,nh=null,Kl=-1,Jl=0;function kt(){return ge&6?Ge():Kl!==-1?Kl:Kl=Ge()}function Rr(t){return t.mode&1?ge&2&&at!==0?at&-at:$A.transition!==null?(Jl===0&&(Jl=fE()),Jl):(t=we,t!==0||(t=window.event,t=t===void 0?16:_E(t.type)),t):1}function fn(t,e,n,r){if(50<zo)throw zo=0,nh=null,Error(z(185));Da(t,n,r),(!(ge&2)||t!==tt)&&(t===tt&&(!(ge&2)&&(wc|=n),Je===4&&gr(t,at)),Ft(t,r),n===1&&ge===0&&!(e.mode&1)&&(Ai=Ge()+500,gc&&Jr()))}function Ft(t,e){var n=t.callbackNode;$1(t,e);var r=gu(t,t===tt?at:0);if(r===0)n!==null&&l0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l0(n),e===1)t.tag===0?zA(ey.bind(null,t)):FE(ey.bind(null,t)),qA(function(){!(ge&6)&&Jr()}),n=null;else{switch(hE(r)){case 1:n=cp;break;case 4:n=cE;break;case 16:n=mu;break;case 536870912:n=dE;break;default:n=mu}n=Lx(n,Nx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nx(t,e){if(Kl=-1,Jl=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(di()&&t.callbackNode!==n)return null;var r=gu(t,t===tt?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Du(t,r);else{e=r;var s=ge;ge|=2;var i=bx();(tt!==t||at!==e)&&(Fn=null,Ai=Ge()+500,ps(t,e));do try{dk();break}catch(a){Rx(t,a)}while(!0);Tp(),bu.current=i,ge=s,ze!==null?e=0:(tt=null,at=0,e=Je)}if(e!==0){if(e===2&&(s=Nf(t),s!==0&&(r=s,e=rh(t,s))),e===1)throw n=ga,ps(t,0),gr(t,r),Ft(t,Ge()),n;if(e===6)gr(t,r);else{if(s=t.current.alternate,!(r&30)&&!uk(s)&&(e=Du(t,r),e===2&&(i=Nf(t),i!==0&&(r=i,e=rh(t,i))),e===1))throw n=ga,ps(t,0),gr(t,r),Ft(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:as(t,Mt,Fn);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=Fp+500-Ge(),10<e)){if(gu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Uf(as.bind(null,t,Mt,Fn),e);break}as(t,Mt,Fn);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-dn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lk(r/1960))-r,10<r){t.timeoutHandle=Uf(as.bind(null,t,Mt,Fn),r);break}as(t,Mt,Fn);break;case 5:as(t,Mt,Fn);break;default:throw Error(z(329))}}}return Ft(t,Ge()),t.callbackNode===n?Nx.bind(null,t):null}function rh(t,e){var n=Ho;return t.current.memoizedState.isDehydrated&&(ps(t,e).flags|=256),t=Du(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&sh(e)),t}function sh(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function uk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~Up,e&=~wc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function ey(t){if(ge&6)throw Error(z(327));di();var e=gu(t,0);if(!(e&1))return Ft(t,Ge()),null;var n=Du(t,e);if(t.tag!==0&&n===2){var r=Nf(t);r!==0&&(e=r,n=rh(t,r))}if(n===1)throw n=ga,ps(t,0),gr(t,e),Ft(t,Ge()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,as(t,Mt,Fn),Ft(t,Ge()),null}function Op(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Ai=Ge()+500,gc&&Jr())}}function xs(t){xr!==null&&xr.tag===0&&!(ge&6)&&di();var e=ge;ge|=1;var n=tn.transition,r=we;try{if(tn.transition=null,we=1,t)return t()}finally{we=r,tn.transition=n,ge=e,!(ge&6)&&Jr()}}function qp(){Ht=ri.current,Ne(ri)}function ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OA(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(wp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eu();break;case 3:Ci(),Ne(Lt),Ne(Et),Np();break;case 5:kp(r);break;case 4:Ci();break;case 13:Ne(Me);break;case 19:Ne(Me);break;case 10:Sp(r.type._context);break;case 22:case 23:qp()}n=n.return}if(tt=t,ze=t=br(t.current,null),at=Ht=e,Je=0,ga=null,Up=wc=Es=0,Mt=Ho=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cs=null}return t}function Rx(t,e){do{var n=ze;try{if(Tp(),$l.current=Ru,Nu){for(var r=De.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nu=!1}if(ws=0,et=Ke=De=null,Bo=!1,ha=0,Lp.current=null,n===null||n.return===null){Je=1,ga=e,ze=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=B0(o);if(v!==null){v.flags&=-257,G0(v,o,a,i,e),v.mode&1&&q0(i,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var I=new Set;I.add(l),e.updateQueue=I}else w.add(l);break e}else{if(!(e&1)){q0(i,c,e),Bp();break e}l=Error(z(426))}}else if(be&&a.mode&1){var P=B0(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),G0(P,o,a,i,e),Ep(Ii(l,a));break e}}i=l=Ii(l,a),Je!==4&&(Je=2),Ho===null?Ho=[i]:Ho.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var A=hx(i,l,e);D0(i,A);break e;case 1:a=l;var x=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Nr===null||!Nr.has(k)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=px(i,a,e);D0(i,D);break e}}i=i.return}while(i!==null)}Mx(n)}catch(U){e=U,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function bx(){var t=bu.current;return bu.current=Ru,t===null?Ru:t}function Bp(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||!(Es&268435455)&&!(wc&268435455)||gr(tt,at)}function Du(t,e){var n=ge;ge|=2;var r=bx();(tt!==t||at!==e)&&(Fn=null,ps(t,e));do try{ck();break}catch(s){Rx(t,s)}while(!0);if(Tp(),ge=n,bu.current=r,ze!==null)throw Error(z(261));return tt=null,at=0,Je}function ck(){for(;ze!==null;)Px(ze)}function dk(){for(;ze!==null&&!L1();)Px(ze)}function Px(t){var e=Vx(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?Mx(t):ze=e,Lp.current=null}function Mx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sk(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,ze=null;return}}else if(n=rk(n,e,Ht),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);Je===0&&(Je=5)}function as(t,e,n){var r=we,s=tn.transition;try{tn.transition=null,we=1,fk(t,e,n,r)}finally{tn.transition=s,we=r}return null}function fk(t,e,n,r){do di();while(xr!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(j1(t,i),t===tt&&(ze=tt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nl||(Nl=!0,Lx(mu,function(){return di(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tn.transition,tn.transition=null;var o=we;we=1;var a=ge;ge|=4,Lp.current=null,ok(t,n),Ax(n,t),PA(Vf),yu=!!Df,Vf=Df=null,t.current=n,ak(n),U1(),ge=a,we=o,tn.transition=i}else t.current=n;if(Nl&&(Nl=!1,xr=t,Mu=s),i=t.pendingLanes,i===0&&(Nr=null),q1(n.stateNode),Ft(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pu)throw Pu=!1,t=th,th=null,t;return Mu&1&&t.tag!==0&&di(),i=t.pendingLanes,i&1?t===nh?zo++:(zo=0,nh=t):zo=0,Jr(),null}function di(){if(xr!==null){var t=hE(Mu),e=tn.transition,n=we;try{if(tn.transition=null,we=16>t?16:t,xr===null)var r=!1;else{if(t=xr,xr=null,Mu=0,ge&6)throw Error(z(331));var s=ge;for(ge|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Go(8,h,i)}var m=h.child;if(m!==null)m.return=h,Q=m;else for(;Q!==null;){h=Q;var g=h.sibling,v=h.return;if(Sx(h),h===c){Q=null;break}if(g!==null){g.return=v,Q=g;break}Q=v}}}var w=i.alternate;if(w!==null){var I=w.child;if(I!==null){w.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Go(9,i,i.return)}var A=i.sibling;if(A!==null){A.return=i.return,Q=A;break e}Q=i.return}}var x=t.current;for(Q=x;Q!==null;){o=Q;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Q=k;else e:for(o=x;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_c(9,a)}}catch(U){Fe(a,a.return,U)}if(a===o){Q=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Q=D;break e}Q=a.return}}if(ge=s,Jr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(dc,t)}catch{}r=!0}return r}finally{we=n,tn.transition=e}}return!1}function ty(t,e,n){e=Ii(n,e),e=hx(t,e,1),t=kr(t,e,1),e=kt(),t!==null&&(Da(t,1,e),Ft(t,e))}function Fe(t,e,n){if(t.tag===3)ty(t,t,n);else for(;e!==null;){if(e.tag===3){ty(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nr===null||!Nr.has(r))){t=Ii(n,t),t=px(e,t,1),e=kr(e,t,1),t=kt(),e!==null&&(Da(e,1,t),Ft(e,t));break}}e=e.return}}function hk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(at&n)===n&&(Je===4||Je===3&&(at&130023424)===at&&500>Ge()-Fp?ps(t,0):Up|=n),Ft(t,e)}function Dx(t,e){e===0&&(t.mode&1?(e=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):e=1);var n=kt();t=Wn(t,e),t!==null&&(Da(t,e,n),Ft(t,n))}function pk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dx(t,n)}function mk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Dx(t,n)}var Vx;Vx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,nk(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,be&&e.flags&1048576&&OE(e,Su,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wl(t,e),t=e.pendingProps;var s=xi(e,Et.current);ci(e,n),s=bp(null,e,r,t,s,n);var i=Pp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(r)?(i=!0,xu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ip(e),s.updater=vc,e.stateNode=s,s._reactInternals=e,zf(e,r,t,n),e=Wf(null,e,r,!0,i,n)):(e.tag=0,be&&i&&_p(e),At(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=yk(r),t=an(r,t),s){case 0:e=jf(null,e,r,t,n);break e;case 1:e=$0(null,e,r,t,n);break e;case 11:e=H0(null,e,r,t,n);break e;case 14:e=z0(null,e,r,an(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),jf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),$0(t,e,r,s,n);case 3:e:{if(vx(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$E(t,e),Au(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ii(Error(z(423)),e),e=j0(t,e,r,n,s);break e}else if(r!==s){s=Ii(Error(z(424)),e),e=j0(t,e,r,n,s);break e}else for(zt=Ar(e.stateNode.containerInfo.firstChild),jt=e,be=!0,un=null,n=HE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ti(),r===s){e=Kn(t,e,n);break e}At(t,e,r,n)}e=e.child}return e;case 5:return jE(e),t===null&&Bf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lf(r,s)?o=null:i!==null&&Lf(r,i)&&(e.flags|=32),yx(t,e),At(t,e,o,n),e.child;case 6:return t===null&&Bf(e),null;case 13:return _x(t,e,n);case 4:return Ap(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Si(e,null,r,n):At(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),H0(t,e,r,s,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Te(Cu,r._currentValue),r._currentValue=o,i!==null)if(hn(i.value,o)){if(i.children===s.children&&!Lt.current){e=Kn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=zn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Gf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}At(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ci(e,n),s=rn(s),r=r(s),e.flags|=1,At(t,e,r,n),e.child;case 14:return r=e.type,s=an(r,e.pendingProps),s=an(r.type,s),z0(t,e,r,s,n);case 15:return mx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),Wl(t,e),e.tag=1,Ut(r)?(t=!0,xu(e)):t=!1,ci(e,n),fx(e,r,s),zf(e,r,s,n),Wf(null,e,r,!0,t,n);case 19:return wx(t,e,n);case 22:return gx(t,e,n)}throw Error(z(156,e.tag))};function Lx(t,e){return uE(t,e)}function gk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,e,n,r){return new gk(t,e,n,r)}function Gp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yk(t){if(typeof t=="function")return Gp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ap)return 11;if(t===lp)return 14}return 2}function br(t,e){var n=t.alternate;return n===null?(n=en(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Gp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ws:return ms(n.children,s,i,e);case op:o=8,s|=8;break;case pf:return t=en(12,n,e,s|2),t.elementType=pf,t.lanes=i,t;case mf:return t=en(13,n,e,s),t.elementType=mf,t.lanes=i,t;case gf:return t=en(19,n,e,s),t.elementType=gf,t.lanes=i,t;case jw:return Ec(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zw:o=10;break e;case $w:o=9;break e;case ap:o=11;break e;case lp:o=14;break e;case hr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=en(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ms(t,e,n,r){return t=en(7,t,r,e),t.lanes=n,t}function Ec(t,e,n,r){return t=en(22,t,r,e),t.elementType=jw,t.lanes=n,t.stateNode={isHidden:!1},t}function jd(t,e,n){return t=en(6,t,null,e),t.lanes=n,t}function Wd(t,e,n){return e=en(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ad(0),this.expirationTimes=Ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ad(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hp(t,e,n,r,s,i,o,a,l){return t=new vk(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=en(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ip(i),t}function _k(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ux(t){if(!t)return qr;t=t._reactInternals;e:{if(Rs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ut(n))return UE(t,n,e)}return e}function Fx(t,e,n,r,s,i,o,a,l){return t=Hp(n,r,!0,t,s,i,o,a,l),t.context=Ux(null),n=t.current,r=kt(),s=Rr(n),i=zn(r,s),i.callback=e??null,kr(n,i,s),t.current.lanes=s,Da(t,s,r),Ft(t,r),t}function xc(t,e,n,r){var s=e.current,i=kt(),o=Rr(s);return n=Ux(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kr(s,e,o),t!==null&&(fn(t,s,o,i),zl(t,s,o)),o}function Vu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ny(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zp(t,e){ny(t,e),(t=t.alternate)&&ny(t,e)}function wk(){return null}var Ox=typeof reportError=="function"?reportError:function(t){console.error(t)};function $p(t){this._internalRoot=t}Tc.prototype.render=$p.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));xc(t,e,null,null)};Tc.prototype.unmount=$p.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xs(function(){xc(null,t,null,null)}),e[jn]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var e=gE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&vE(t)}};function jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ry(){}function Ek(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Vu(o);i.call(c)}}var o=Fx(e,r,t,0,null,!1,!1,"",ry);return t._reactRootContainer=o,t[jn]=o.current,la(t.nodeType===8?t.parentNode:t),xs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Vu(l);a.call(c)}}var l=Hp(t,0,!1,null,null,!1,!1,"",ry);return t._reactRootContainer=l,t[jn]=l.current,la(t.nodeType===8?t.parentNode:t),xs(function(){xc(e,l,n,r)}),l}function Cc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Vu(o);a.call(l)}}xc(e,o,t,s)}else o=Ek(n,e,t,s,r);return Vu(o)}pE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ro(e.pendingLanes);n!==0&&(dp(e,n|1),Ft(e,Ge()),!(ge&6)&&(Ai=Ge()+500,Jr()))}break;case 13:xs(function(){var r=Wn(t,1);if(r!==null){var s=kt();fn(r,t,1,s)}}),zp(t,1)}};fp=function(t){if(t.tag===13){var e=Wn(t,134217728);if(e!==null){var n=kt();fn(e,t,134217728,n)}zp(t,134217728)}};mE=function(t){if(t.tag===13){var e=Rr(t),n=Wn(t,e);if(n!==null){var r=kt();fn(n,t,e,r)}zp(t,e)}};gE=function(){return we};yE=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};If=function(t,e,n){switch(e){case"input":if(_f(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=mc(r);if(!s)throw Error(z(90));Kw(r),_f(r,s)}}}break;case"textarea":Yw(t,n);break;case"select":e=n.value,e!=null&&oi(t,!!n.multiple,e,!1)}};rE=Op;sE=xs;var xk={usingClientEntryPoint:!1,Events:[La,Qs,mc,tE,nE,Op]},So={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tk={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aE(t),t===null?null:t.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{dc=Rl.inject(Tk),In=Rl}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jp(e))throw Error(z(200));return _k(t,e,null,n)};Kt.createRoot=function(t,e){if(!jp(t))throw Error(z(299));var n=!1,r="",s=Ox;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hp(t,1,!1,null,null,n,!1,r,s),t[jn]=e.current,la(t.nodeType===8?t.parentNode:t),new $p(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=aE(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return xs(t)};Kt.hydrate=function(t,e,n){if(!Sc(e))throw Error(z(200));return Cc(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!jp(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ox;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fx(e,null,t,1,n??null,s,!1,i,o),t[jn]=e.current,la(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Tc(e)};Kt.render=function(t,e,n){if(!Sc(e))throw Error(z(200));return Cc(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!Sc(t))throw Error(z(40));return t._reactRootContainer?(xs(function(){Cc(null,null,t,!1,function(){t._reactRootContainer=null,t[jn]=null})}),!0):!1};Kt.unstable_batchedUpdates=Op;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sc(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Cc(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qx)}catch(t){console.error(t)}}qx(),qw.exports=Kt;var Sk=qw.exports,sy=Sk;ff.createRoot=sy.createRoot,ff.hydrateRoot=sy.hydrateRoot;var Gt=(t=>(t.IDLE="IDLE",t.LOADING="LOADING",t.SUCCESS="SUCCESS",t.ERROR="ERROR",t))(Gt||{});const Bx=["Hindi","Gujarati","Marathi","Punjabi","Bengali","Telugu","Tamil","Kannada","Malayalam","Oriya"],iy=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],Ck=["Australia","Austria","Azerbaijan","Bahrain","Belgium","Bulgaria","Canada","China","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hong Kong","Hungary","Iceland","Indonesia","Ireland","Israel","Italy","Japan","Kazakhstan","Kuwait","Latvia","Liechtenstein","Lithuania","Luxembourg","Macau","Malaysia","Maldives","Malta","Mexico","Monaco","Netherlands","New Zealand","Norway","Oman","Poland","Portugal","Qatar","Romania","Russia","Saudi Arabia","Schengen Area","Singapore","Slovakia","Slovenia","South Korea","Spain","Sweden","Switzerland","Taiwan","Thailand","Turkey","United Arab Emirates","United Kingdom","United States","Uzbekistan","Vatican City","Vietnam"];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ik,Ak;function kk(){return{geminiUrl:Ik,vertexUrl:Ak}}function Nk(t,e,n,r){var s,i;if(!(t!=null&&t.baseUrl)){const o=kk();return e?(s=o.vertexUrl)!==null&&s!==void 0?s:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nr{}function K(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function d(t,e,n){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const a=o.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let c=0;c<l.length;c++){const h=l[c];d(h,e.slice(i+1),n[c])}else for(const c of l)d(c,e.slice(i+1),n)}return}else if(o.endsWith("[0]")){const a=o.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];d(l[0],e.slice(i+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function u(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(a=>u(a,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Rk(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),o=new Set;let a=-1;for(let l=0;l<s.length;l++)if(s[l]==="*"){a=l;break}if(a!==-1&&i.length>a)for(let l=a;l<i.length;l++){const c=i[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}ih(t,s,i,0,o)}}function ih(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2),a=t;if(o in a&&Array.isArray(a[o]))for(const l of a[o])ih(l,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,a=Object.keys(o).filter(c=>!c.startsWith("_")&&!s.has(c)),l={};for(const c of a)l[c]=o[c];for(const[c,h]of Object.entries(l)){const m=[];for(const g of n.slice(r))g==="*"?m.push(c):m.push(g);d(o,m,h)}for(const c of a)delete o[c]}}else{const o=t;i in o&&ih(o[i],e,n,r+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wp(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bk(t){const e={},n=u(t,["operationName"]);n!=null&&d(e,["operationName"],n);const r=u(t,["resourceName"]);return r!=null&&d(e,["_url","resourceName"],r),e}function Pk(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response","generateVideoResponse"]);return o!=null&&d(e,["response"],Dk(o)),e}function Mk(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],Vk(o)),e}function Dk(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Lk(o))),d(e,["generatedVideos"],i)}const r=u(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function Vk(t){const e={},n=u(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Uk(o))),d(e,["generatedVideos"],i)}const r=u(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function Lk(t){const e={},n=u(t,["video"]);return n!=null&&d(e,["video"],Hk(n)),e}function Uk(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],zk(n)),e}function Fk(t){const e={},n=u(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function Ok(t){const e={},n=u(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function qk(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],Bk(o)),e}function Bk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["parent"]);r!=null&&d(e,["parent"],r);const s=u(t,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function Gx(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],Gk(o)),e}function Gk(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["parent"]);r!=null&&d(e,["parent"],r);const s=u(t,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function Hk(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["uri"],n);const r=u(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],Wp(r));const s=u(t,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function zk(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=u(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],Wp(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oy||(oy={}));var ay;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ay||(ay={}));var ly;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ly||(ly={}));var mt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mt||(mt={}));var uy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(uy||(uy={}));var cy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cy||(cy={}));var dy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dy||(dy={}));var fy;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fy||(fy={}));var hy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hy||(hy={}));var py;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(py||(py={}));var my;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(my||(my={}));var gy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(gy||(gy={}));var yy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(yy||(yy={}));var vy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(vy||(vy={}));var _y;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_y||(_y={}));var wy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wy||(wy={}));var Ey;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ey||(Ey={}));var xy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(xy||(xy={}));var Ty;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ty||(Ty={}));var Lu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Lu||(Lu={}));var Sy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Sy||(Sy={}));var Cy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Cy||(Cy={}));var Iy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Iy||(Iy={}));var oh;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(oh||(oh={}));var Ay;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ay||(Ay={}));var ky;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ky||(ky={}));var Ny;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ny||(Ny={}));var Ry;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ry||(Ry={}));var by;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(by||(by={}));var Py;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Py||(Py={}));var My;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(My||(My={}));var Dy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Dy||(Dy={}));var Vy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Vy||(Vy={}));var Ly;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ly||(Ly={}));var Uy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Uy||(Uy={}));var Fy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fy||(Fy={}));var Oy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Oy||(Oy={}));var qy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qy||(qy={}));var By;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(By||(By={}));var Gy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Gy||(Gy={}));var Hy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Hy||(Hy={}));var zy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(zy||(zy={}));var $y;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})($y||($y={}));var jy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(jy||(jy={}));var Wy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Wy||(Wy={}));var Ky;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ky||(Ky={}));var Jy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Jy||(Jy={}));var Yy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Yy||(Yy={}));var Qy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qy||(Qy={}));var Xy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Xy||(Xy={}));var Zy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Zy||(Zy={}));var ev;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ev||(ev={}));var tv;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(tv||(tv={}));var nv;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(nv||(nv={}));var si;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(si||(si={}));class ah{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Co{get text(){var e,n,r,s,i,o,a,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",h=!1;const m=[];for(const g of(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[v,w]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(w!==null||w!==void 0)&&m.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,c+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?c:void 0}get data(){var e,n,r,s,i,o,a,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const h=[];for(const m of(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(m))g!=="inlineData"&&(v!==null||v!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,s,i,o,a,l;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,s,i,o,a,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,s,i,o,a,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(l=(a=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.output}}class rv{}class sv{}class $k{}class jk{}class Wk{}class Kk{}class iv{}class ov{}class av{}class Jk{}class Uu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Uu;let s;const i=e;return n?s=Mk(i):s=Pk(i),Object.assign(r,s),r}}class lv{}class uv{}class cv{}class Yk{}class Qk{}class Xk{}class Kp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Kp,i=qk(e);return Object.assign(r,i),r}}class Zk{}class eN{}class tN{}class dv{}class nN{get text(){var e,n,r;let s="",i=!1;const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,s+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&i.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(s+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class rN{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Jp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Jp,i=Gx(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Hx(t,e){const n=ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function zx(t){return Array.isArray(t)?t.map(e=>Fu(e)):[Fu(t)]}function Fu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function $x(t){const e=Fu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jx(t){const e=Fu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fv(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Wx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>fv(e)):[fv(t)]}function lh(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function hv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function pv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function wt(t){if(t==null)throw new Error("ContentUnion is required");return lh(t)?t:{role:"user",parts:Wx(t)}}function Yp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=wt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=wt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>wt(n)):[wt(e)]}function nn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(hv(t)||pv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wt(t)]}const e=[],n=[],r=lh(t[0]);for(const s of t){const i=lh(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(hv(s)||pv(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:Wx(n)}),e}function sN(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(mt).includes(n[0].toUpperCase())?n[0].toUpperCase():mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(mt).includes(r.toUpperCase())?r.toUpperCase():mt.TYPE_UNSPECIFIED})}}function fi(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&sN(t.type,e);for(const[o,a]of Object.entries(t))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(mt).includes(a.toUpperCase())?a.toUpperCase():mt.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=fi(a);else if(r.includes(o)){const l=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}l.push(fi(c))}e[o]=l}else if(s.includes(o)){const l={};for(const[c,h]of Object.entries(a))l[c]=fi(h);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=a}return e}function Qp(t){return fi(t)}function Xp(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Zp(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Bi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=fi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=fi(e.response));return t}function Gi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function iN(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function rr(t,e){if(typeof e!="string")throw new Error("name must be a string");return iN(t,e,"cachedContents")}function Kx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Yr(t){return Wp(t)}function oN(t){return t!=null&&typeof t=="object"&&"name"in t}function aN(t){return t!=null&&typeof t=="object"&&"video"in t}function lN(t){return t!=null&&typeof t=="object"&&"uri"in t}function Jx(t){var e;let n;if(oN(t)&&(n=t.name),!(lN(t)&&(n=t.uri,n===void 0))&&!(aN(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Yx(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Qx(t){for(const e of["models","tunedModels","publisherModels"])if(uN(t,e))return t[e];return[]}function uN(t,e){return t!==null&&typeof t=="object"&&e in t}function cN(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function dN(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=cN(s,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Xx(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function fN(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Zx(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const o of s){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Hi(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function eT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hN(t){const e={},n=u(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const r=u(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>WN(o))),d(e,["inlinedResponses"],i)}const s=u(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["inlinedEmbedContentResponses"],i)}return e}function pN(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const r=u(t,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const s=u(t,["bigqueryDestination","outputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function mN(t){const e={},n=u(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const r=u(t,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const s=u(t,["bigqueryUri"]);if(s!=null&&d(e,["bigqueryDestination","outputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ql(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const s=u(t,["metadata","state"]);s!=null&&d(e,["state"],eT(s));const i=u(t,["metadata","createTime"]);i!=null&&d(e,["createTime"],i);const o=u(t,["metadata","endTime"]);o!=null&&d(e,["endTime"],o);const a=u(t,["metadata","updateTime"]);a!=null&&d(e,["updateTime"],a);const l=u(t,["metadata","model"]);l!=null&&d(e,["model"],l);const c=u(t,["metadata","output"]);return c!=null&&d(e,["dest"],hN(Zx(c))),e}function uh(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["displayName"]);r!=null&&d(e,["displayName"],r);const s=u(t,["state"]);s!=null&&d(e,["state"],eT(s));const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=u(t,["startTime"]);a!=null&&d(e,["startTime"],a);const l=u(t,["endTime"]);l!=null&&d(e,["endTime"],l);const c=u(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=u(t,["model"]);h!=null&&d(e,["model"],h);const m=u(t,["inputConfig"]);m!=null&&d(e,["src"],gN(m));const g=u(t,["outputConfig"]);g!=null&&d(e,["dest"],pN(Zx(g)));const v=u(t,["completionStats"]);return v!=null&&d(e,["completionStats"],v),e}function gN(t){const e={},n=u(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const r=u(t,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const s=u(t,["bigquerySource","inputUri"]);return s!=null&&d(e,["bigqueryUri"],s),e}function yN(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=u(e,["fileName"]);r!=null&&d(n,["fileName"],r);const s=u(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>jN(t,o))),d(n,["requests","requests"],i)}return n}function vN(t){const e={},n=u(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const r=u(t,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const s=u(t,["bigqueryUri"]);if(s!=null&&d(e,["bigquerySource","inputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function _N(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function wN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Hi(t,r)),n}function EN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Hi(t,r)),n}function xN(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],n);const r=u(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],TN(r));const s=u(t,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const i=u(t,["finishReason"]);i!=null&&d(e,["finishReason"],i);const o=u(t,["avgLogprobs"]);o!=null&&d(e,["avgLogprobs"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const l=u(t,["index"]);l!=null&&d(e,["index"],l);const c=u(t,["logprobsResult"]);c!=null&&d(e,["logprobsResult"],c);const h=u(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),d(e,["safetyRatings"],g)}const m=u(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function TN(t){const e={},n=u(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),d(e,["citations"],r)}return e}function tT(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>eR(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function SN(t,e){const n={},r=u(t,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function CN(t,e){const n={},r=u(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const s=u(t,["dest"]);return e!==void 0&&s!=null&&d(e,["outputConfig"],mN(fN(s))),n}function mv(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["src"]);s!=null&&d(n,["batch","inputConfig"],yN(t,Xx(t,s)));const i=u(e,["config"]);return i!=null&&SN(i,n),n}function IN(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["model"],ye(t,r));const s=u(e,["src"]);s!=null&&d(n,["inputConfig"],vN(Xx(t,s)));const i=u(e,["config"]);return i!=null&&CN(i,n),n}function AN(t,e){const n={},r=u(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["batch","displayName"],r),n}function kN(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["src"]);s!=null&&d(n,["batch","inputConfig"],VN(t,s));const i=u(e,["config"]);return i!=null&&AN(i,n),n}function NN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Hi(t,r)),n}function RN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Hi(t,r)),n}function bN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);return i!=null&&d(e,["error"],i),e}function PN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);return i!=null&&d(e,["error"],i),e}function MN(t,e){const n={},r=u(e,["contents"]);if(r!=null){let i=Yp(t,r);Array.isArray(i)&&(i=i.map(o=>o)),d(n,["requests[]","request","content"],i)}const s=u(e,["config"]);return s!=null&&(d(n,["_self"],DN(s,n)),Rk(n,{"requests[].*":"requests[].request.*"})),n}function DN(t,e){const n={},r=u(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const s=u(t,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const i=u(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&d(e,["requests[]","outputDimensionality"],i),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function VN(t,e){const n={},r=u(e,["fileName"]);r!=null&&d(n,["file_name"],r);const s=u(e,["inlinedRequests"]);return s!=null&&d(n,["requests"],MN(t,s)),n}function LN(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function UN(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FN(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const r=u(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),u(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ON(t,e,n){const r={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],tT(wt(s)));const i=u(e,["temperature"]);i!=null&&d(r,["temperature"],i);const o=u(e,["topP"]);o!=null&&d(r,["topP"],o);const a=u(e,["topK"]);a!=null&&d(r,["topK"],a);const l=u(e,["candidateCount"]);l!=null&&d(r,["candidateCount"],l);const c=u(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const h=u(e,["stopSequences"]);h!=null&&d(r,["stopSequences"],h);const m=u(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const g=u(e,["logprobs"]);g!=null&&d(r,["logprobs"],g);const v=u(e,["presencePenalty"]);v!=null&&d(r,["presencePenalty"],v);const w=u(e,["frequencyPenalty"]);w!=null&&d(r,["frequencyPenalty"],w);const I=u(e,["seed"]);I!=null&&d(r,["seed"],I);const P=u(e,["responseMimeType"]);P!=null&&d(r,["responseMimeType"],P);const A=u(e,["responseSchema"]);A!=null&&d(r,["responseSchema"],Qp(A));const x=u(e,["responseJsonSchema"]);if(x!=null&&d(r,["responseJsonSchema"],x),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(e,["safetySettings"]);if(n!==void 0&&k!=null){let M=k;Array.isArray(M)&&(M=M.map(N=>tR(N))),d(n,["safetySettings"],M)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let M=Gi(D);Array.isArray(M)&&(M=M.map(N=>rR(Bi(N)))),d(n,["tools"],M)}const U=u(e,["toolConfig"]);if(n!==void 0&&U!=null&&d(n,["toolConfig"],nR(U)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&d(n,["cachedContent"],rr(t,V));const T=u(e,["responseModalities"]);T!=null&&d(r,["responseModalities"],T);const E=u(e,["mediaResolution"]);E!=null&&d(r,["mediaResolution"],E);const S=u(e,["speechConfig"]);if(S!=null&&d(r,["speechConfig"],Xp(S)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=u(e,["thinkingConfig"]);b!=null&&d(r,["thinkingConfig"],b);const R=u(e,["imageConfig"]);return R!=null&&d(r,["imageConfig"],$N(R)),r}function qN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>xN(c))),d(e,["candidates"],l)}const s=u(t,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const i=u(t,["promptFeedback"]);i!=null&&d(e,["promptFeedback"],i);const o=u(t,["responseId"]);o!=null&&d(e,["responseId"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function BN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Hi(t,r)),n}function GN(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],Hi(t,r)),n}function HN(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function zN(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function $N(t){const e={},n=u(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=u(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),u(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function jN(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["request","model"],ye(t,r));const s=u(e,["contents"]);if(s!=null){let a=nn(s);Array.isArray(a)&&(a=a.map(l=>tT(l))),d(n,["request","contents"],a)}const i=u(e,["metadata"]);i!=null&&d(n,["metadata"],i);const o=u(e,["config"]);return o!=null&&d(n,["request","generationConfig"],ON(t,o,u(n,["request"],{}))),n}function WN(t){const e={},n=u(t,["response"]);n!=null&&d(e,["response"],qN(n));const r=u(t,["error"]);return r!=null&&d(e,["error"],r),e}function KN(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);if(e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function JN(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&d(e,["_query","pageToken"],s);const i=u(t,["filter"]);return e!==void 0&&i!=null&&d(e,["_query","filter"],i),n}function YN(t){const e={},n=u(t,["config"]);return n!=null&&KN(n,e),e}function QN(t){const e={},n=u(t,["config"]);return n!=null&&JN(n,e),e}function XN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>Ql(o))),d(e,["batchJobs"],i)}return e}function ZN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>uh(o))),d(e,["batchJobs"],i)}return e}function eR(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],LN(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],UN(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],_N(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function tR(t){const e={},n=u(t,["category"]);if(n!=null&&d(e,["category"],n),u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function nR(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],FN(n));const r=u(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function rR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],HN(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],zN(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Jn||(Jn={}));class bs{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(s=o.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sR extends nr{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new bs(Jn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=mv(this.apiClient,e),r=n._url,s=K("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,c=[];for(const h of l){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const v=m.request;v.systemInstruction=g,m.request=v}c.push(m)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),o=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(o)r.dest=`${o}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=IN(this.apiClient,e);return a=K("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>uh(h))}else{const c=mv(this.apiClient,e);return a=K("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Ql(h))}}async createEmbeddingsInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=kN(this.apiClient,e);return i=K("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>Ql(l))}}async get(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=GN(this.apiClient,e);return a=K("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>uh(h))}else{const c=BN(this.apiClient,e);return a=K("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Ql(h))}}async cancel(e){var n,r,s,i;let o="",a={};if(this.apiClient.isVertexAI()){const l=EN(this.apiClient,e);o=K("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=wN(this.apiClient,e);o=K("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=QN(e);return a=K("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=ZN(h),g=new dv;return Object.assign(g,m),g})}else{const c=YN(e);return a=K("batches",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=XN(h),g=new dv;return Object.assign(g,m),g})}}async delete(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=RN(this.apiClient,e);return a=K("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>PN(h))}else{const c=NN(this.apiClient,e);return a=K("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>bN(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iR(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function gv(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>kR(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function oR(t,e){const n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["contents"]);if(e!==void 0&&o!=null){let h=nn(o);Array.isArray(h)&&(h=h.map(m=>gv(m))),d(e,["contents"],h)}const a=u(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],gv(wt(a)));const l=u(t,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(m=>RR(m))),d(e,["tools"],h)}const c=u(t,["toolConfig"]);if(e!==void 0&&c!=null&&d(e,["toolConfig"],NR(c)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function aR(t,e){const n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&d(e,["expireTime"],s);const i=u(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=u(t,["contents"]);if(e!==void 0&&o!=null){let m=nn(o);Array.isArray(m)&&(m=m.map(g=>g)),d(e,["contents"],m)}const a=u(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],wt(a));const l=u(t,["tools"]);if(e!==void 0&&l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>bR(g))),d(e,["tools"],m)}const c=u(t,["toolConfig"]);e!==void 0&&c!=null&&d(e,["toolConfig"],c);const h=u(t,["kmsKeyName"]);return e!==void 0&&h!=null&&d(e,["encryption_spec","kmsKeyName"],h),n}function lR(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["model"],Hx(t,r));const s=u(e,["config"]);return s!=null&&oR(s,n),n}function uR(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["model"],Hx(t,r));const s=u(e,["config"]);return s!=null&&aR(s,n),n}function cR(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],rr(t,r)),n}function dR(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],rr(t,r)),n}function fR(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function hR(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function pR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function mR(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gR(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const r=u(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),u(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yR(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["parameters"]);s!=null&&d(e,["parameters"],s);const i=u(t,["parametersJsonSchema"]);i!=null&&d(e,["parametersJsonSchema"],i);const o=u(t,["response"]);o!=null&&d(e,["response"],o);const a=u(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function vR(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],rr(t,r)),n}function _R(t,e){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],rr(t,r)),n}function wR(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function ER(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function xR(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function TR(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function SR(t){const e={},n=u(t,["config"]);return n!=null&&xR(n,e),e}function CR(t){const e={},n=u(t,["config"]);return n!=null&&TR(n,e),e}function IR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["cachedContents"],i)}return e}function AR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["cachedContents"],i)}return e}function kR(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],pR(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],mR(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],iR(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function NR(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],gR(n));const r=u(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function RR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],wR(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],ER(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function bR(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>yR(g))),d(e,["functionDeclarations"],m)}const r=u(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const s=u(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const i=u(t,["computerUse"]);if(i!=null&&d(e,["computerUse"],i),u(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=u(t,["codeExecution"]);o!=null&&d(e,["codeExecution"],o);const a=u(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const l=u(t,["googleMaps"]);l!=null&&d(e,["googleMaps"],l);const c=u(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const h=u(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function PR(t,e){const n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),n}function MR(t,e){const n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&d(e,["expireTime"],s),n}function DR(t,e){const n={},r=u(e,["name"]);r!=null&&d(n,["_url","name"],rr(t,r));const s=u(e,["config"]);return s!=null&&PR(s,n),n}function VR(t,e){const n={},r=u(e,["name"]);r!=null&&d(n,["_url","name"],rr(t,r));const s=u(e,["config"]);return s!=null&&MR(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LR extends nr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bs(Jn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=uR(this.apiClient,e);return a=K("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const c=lR(this.apiClient,e);return a=K("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=_R(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const c=vR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=dR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=hR(h),g=new uv;return Object.assign(g,m),g})}else{const c=cR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=fR(h),g=new uv;return Object.assign(g,m),g})}}async update(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=VR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const c=DR(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async listInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=CR(e);return a=K("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=AR(h),g=new cv;return Object.assign(g,m),g})}else{const c=SR(e);return a=K("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=IR(h),g=new cv;return Object.assign(g,m),g})}}}function yv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(t){return this instanceof Ae?(this.v=t,this):new Ae(t)}function hi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(w){return Promise.resolve(w).then(v,m)}}function a(v,w){r[v]&&(s[v]=function(I){return new Promise(function(P,A){i.push([v,I,P,A])>1||l(v,I)})},w&&(s[v]=w(s[v])))}function l(v,w){try{c(r[v](w))}catch(I){g(i[0][3],I)}}function c(v){v.value instanceof Ae?Promise.resolve(v.value.v).then(h,m):g(i[0][2],v)}function h(v){l("next",v)}function m(v){l("throw",v)}function g(v,w){v(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function $o(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yv=="function"?yv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UR(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:nT(n)}function nT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function FR(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vv(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!nT(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class OR{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new qR(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qR{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),FR(i)}async sendMessage(e){var n;await this.sendPromise;const r=wt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,a;const l=await s,c=(o=(i=l.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,h=l.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(a=h.slice(m))!==null&&a!==void 0?a:[]);const v=c?[c]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=wt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?vv(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,s;return hi(this,arguments,function*(){var o,a,l,c;const h=[];try{for(var m=!0,g=$o(e),v;v=yield Ae(g.next()),o=v.done,!o;m=!0){c=v.value,m=!1;const w=c;if(UR(w)){const I=(s=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;I!==void 0&&h.push(I)}yield yield Ae(w)}}catch(w){a={error:w}}finally{try{!m&&!o&&(l=g.return)&&(yield Ae(l.call(g)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...vv(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ic extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ic.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BR(t){const e={},n=u(t,["file"]);return n!=null&&d(e,["file"],n),e}function GR(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function HR(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","file"],Jx(n)),e}function zR(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function $R(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","file"],Jx(n)),e}function jR(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function WR(t){const e={},n=u(t,["config"]);return n!=null&&jR(n,e),e}function KR(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JR extends nr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bs(Jn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=WR(e);return i=K("files",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=KR(l),h=new Zk;return Object.assign(h,c),h})}}async createInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=BR(e);return i=K("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=GR(l),h=new eN;return Object.assign(h,c),h})}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$R(e);return i=K("files/{file}",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async delete(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=HR(e);return i=K("files/{file}",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=zR(l),h=new tN;return Object.assign(h,c),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xl(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function YR(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>fb(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function QR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function XR(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZR(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["parameters"]);s!=null&&d(e,["parameters"],s);const i=u(t,["parametersJsonSchema"]);i!=null&&d(e,["parametersJsonSchema"],i);const o=u(t,["response"]);o!=null&&d(e,["response"],o);const a=u(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function eb(t){const e={},n=u(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=u(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const s=u(t,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const i=u(t,["candidateCount"]);i!=null&&d(e,["candidateCount"],i);const o=u(t,["enableAffectiveDialog"]);o!=null&&d(e,["enableAffectiveDialog"],o);const a=u(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const l=u(t,["logprobs"]);l!=null&&d(e,["logprobs"],l);const c=u(t,["maxOutputTokens"]);c!=null&&d(e,["maxOutputTokens"],c);const h=u(t,["mediaResolution"]);h!=null&&d(e,["mediaResolution"],h);const m=u(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const g=u(t,["responseLogprobs"]);g!=null&&d(e,["responseLogprobs"],g);const v=u(t,["responseMimeType"]);v!=null&&d(e,["responseMimeType"],v);const w=u(t,["responseModalities"]);w!=null&&d(e,["responseModalities"],w);const I=u(t,["responseSchema"]);I!=null&&d(e,["responseSchema"],I);const P=u(t,["routingConfig"]);P!=null&&d(e,["routingConfig"],P);const A=u(t,["seed"]);A!=null&&d(e,["seed"],A);const x=u(t,["speechConfig"]);x!=null&&d(e,["speechConfig"],rT(x));const k=u(t,["stopSequences"]);k!=null&&d(e,["stopSequences"],k);const D=u(t,["temperature"]);D!=null&&d(e,["temperature"],D);const U=u(t,["thinkingConfig"]);U!=null&&d(e,["thinkingConfig"],U);const V=u(t,["topK"]);V!=null&&d(e,["topK"],V);const T=u(t,["topP"]);if(T!=null&&d(e,["topP"],T),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function tb(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function nb(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function rb(t,e){const n={},r=u(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const i=u(t,["temperature"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","temperature"],i);const o=u(t,["topP"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","topP"],o);const a=u(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const l=u(t,["maxOutputTokens"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","maxOutputTokens"],l);const c=u(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","seed"],h);const m=u(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Zp(m));const g=u(t,["thinkingConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","thinkingConfig"],g);const v=u(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],YR(wt(w)));const I=u(t,["tools"]);if(e!==void 0&&I!=null){let V=Gi(I);Array.isArray(V)&&(V=V.map(T=>pb(Bi(T)))),d(e,["setup","tools"],V)}const P=u(t,["sessionResumption"]);e!==void 0&&P!=null&&d(e,["setup","sessionResumption"],hb(P));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],A);const x=u(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&d(e,["setup","outputAudioTranscription"],x);const k=u(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&d(e,["setup","realtimeInputConfig"],k);const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],D);const U=u(t,["proactivity"]);return e!==void 0&&U!=null&&d(e,["setup","proactivity"],U),n}function sb(t,e){const n={},r=u(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],eb(r));const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const i=u(t,["temperature"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","temperature"],i);const o=u(t,["topP"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","topP"],o);const a=u(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const l=u(t,["maxOutputTokens"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","maxOutputTokens"],l);const c=u(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","seed"],h);const m=u(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],rT(Zp(m)));const g=u(t,["thinkingConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","thinkingConfig"],g);const v=u(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],wt(w));const I=u(t,["tools"]);if(e!==void 0&&I!=null){let V=Gi(I);Array.isArray(V)&&(V=V.map(T=>mb(Bi(T)))),d(e,["setup","tools"],V)}const P=u(t,["sessionResumption"]);e!==void 0&&P!=null&&d(e,["setup","sessionResumption"],P);const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],A);const x=u(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&d(e,["setup","outputAudioTranscription"],x);const k=u(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&d(e,["setup","realtimeInputConfig"],k);const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],D);const U=u(t,["proactivity"]);return e!==void 0&&U!=null&&d(e,["setup","proactivity"],U),n}function ib(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["setup","model"],ye(t,r));const s=u(e,["config"]);return s!=null&&d(n,["config"],rb(s,n)),n}function ob(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["setup","model"],ye(t,r));const s=u(e,["config"]);return s!=null&&d(n,["config"],sb(s,n)),n}function ab(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],n),e}function lb(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),d(e,["weightedPrompts"],r)}return e}function ub(t){const e={},n=u(t,["media"]);if(n!=null){let c=zx(n);Array.isArray(c)&&(c=c.map(h=>Xl(h))),d(e,["mediaChunks"],c)}const r=u(t,["audio"]);r!=null&&d(e,["audio"],Xl(jx(r)));const s=u(t,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const i=u(t,["video"]);i!=null&&d(e,["video"],Xl($x(i)));const o=u(t,["text"]);o!=null&&d(e,["text"],o);const a=u(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const l=u(t,["activityEnd"]);return l!=null&&d(e,["activityEnd"],l),e}function cb(t){const e={},n=u(t,["media"]);if(n!=null){let c=zx(n);Array.isArray(c)&&(c=c.map(h=>h)),d(e,["mediaChunks"],c)}const r=u(t,["audio"]);r!=null&&d(e,["audio"],jx(r));const s=u(t,["audioStreamEnd"]);s!=null&&d(e,["audioStreamEnd"],s);const i=u(t,["video"]);i!=null&&d(e,["video"],$x(i));const o=u(t,["text"]);o!=null&&d(e,["text"],o);const a=u(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const l=u(t,["activityEnd"]);return l!=null&&d(e,["activityEnd"],l),e}function db(t){const e={},n=u(t,["setupComplete"]);n!=null&&d(e,["setupComplete"],n);const r=u(t,["serverContent"]);r!=null&&d(e,["serverContent"],r);const s=u(t,["toolCall"]);s!=null&&d(e,["toolCall"],s);const i=u(t,["toolCallCancellation"]);i!=null&&d(e,["toolCallCancellation"],i);const o=u(t,["usageMetadata"]);o!=null&&d(e,["usageMetadata"],gb(o));const a=u(t,["goAway"]);a!=null&&d(e,["goAway"],a);const l=u(t,["sessionResumptionUpdate"]);return l!=null&&d(e,["sessionResumptionUpdate"],l),e}function fb(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],QR(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],XR(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],Xl(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function hb(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rT(t){const e={},n=u(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=u(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function pb(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],tb(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],nb(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function mb(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>ZR(g))),d(e,["functionDeclarations"],m)}const r=u(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const s=u(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const i=u(t,["computerUse"]);if(i!=null&&d(e,["computerUse"],i),u(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=u(t,["codeExecution"]);o!=null&&d(e,["codeExecution"],o);const a=u(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const l=u(t,["googleMaps"]);l!=null&&d(e,["googleMaps"],l);const c=u(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const h=u(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function gb(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=u(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const s=u(t,["candidatesTokenCount"]);s!=null&&d(e,["responseTokenCount"],s);const i=u(t,["toolUsePromptTokenCount"]);i!=null&&d(e,["toolUsePromptTokenCount"],i);const o=u(t,["thoughtsTokenCount"]);o!=null&&d(e,["thoughtsTokenCount"],o);const a=u(t,["totalTokenCount"]);a!=null&&d(e,["totalTokenCount"],a);const l=u(t,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(w=>w)),d(e,["promptTokensDetails"],v)}const c=u(t,["cacheTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(w=>w)),d(e,["cacheTokensDetails"],v)}const h=u(t,["candidatesTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),d(e,["responseTokensDetails"],v)}const m=u(t,["toolUsePromptTokensDetails"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(w=>w)),d(e,["toolUsePromptTokensDetails"],v)}const g=u(t,["trafficType"]);return g!=null&&d(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yb(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function vb(t){const e={},n=u(t,["content"]);n!=null&&d(e,["content"],n);const r=u(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],_b(r));const s=u(t,["tokenCount"]);s!=null&&d(e,["tokenCount"],s);const i=u(t,["finishReason"]);i!=null&&d(e,["finishReason"],i);const o=u(t,["avgLogprobs"]);o!=null&&d(e,["avgLogprobs"],o);const a=u(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const l=u(t,["index"]);l!=null&&d(e,["index"],l);const c=u(t,["logprobsResult"]);c!=null&&d(e,["logprobsResult"],c);const h=u(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),d(e,["safetyRatings"],g)}const m=u(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function _b(t){const e={},n=u(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),d(e,["citations"],r)}return e}function wb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["contents"]);if(s!=null){let i=nn(s);Array.isArray(i)&&(i=i.map(o=>o)),d(n,["contents"],i)}return n}function Eb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),d(e,["tokensInfo"],s)}return e}function xb(t){const e={},n=u(t,["values"]);n!=null&&d(e,["values"],n);const r=u(t,["statistics"]);return r!=null&&d(e,["statistics"],Tb(r)),e}function Tb(t){const e={},n=u(t,["truncated"]);n!=null&&d(e,["truncated"],n);const r=u(t,["token_count"]);return r!=null&&d(e,["tokenCount"],r),e}function Ac(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>PP(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function Sb(t){const e={},n=u(t,["controlType"]);n!=null&&d(e,["controlType"],n);const r=u(t,["enableControlImageComputation"]);return r!=null&&d(e,["computeControl"],r),e}function Cb(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ib(t,e){const n={},r=u(t,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],wt(r));const s=u(t,["tools"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>lT(a))),d(e,["tools"],o)}const i=u(t,["generationConfig"]);return e!==void 0&&i!=null&&d(e,["generationConfig"],yP(i)),n}function Ab(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["contents"]);if(s!=null){let o=nn(s);Array.isArray(o)&&(o=o.map(a=>Ac(a))),d(n,["contents"],o)}const i=u(e,["config"]);return i!=null&&Cb(i),n}function kb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["contents"]);if(s!=null){let o=nn(s);Array.isArray(o)&&(o=o.map(a=>a)),d(n,["contents"],o)}const i=u(e,["config"]);return i!=null&&Ib(i,n),n}function Nb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["totalTokens"]);r!=null&&d(e,["totalTokens"],r);const s=u(t,["cachedContentTokenCount"]);return s!=null&&d(e,["cachedContentTokenCount"],s),e}function Rb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["totalTokens"]);return r!=null&&d(e,["totalTokens"],r),e}function bb(t,e){const n={},r=u(e,["model"]);return r!=null&&d(n,["_url","name"],ye(t,r)),n}function Pb(t,e){const n={},r=u(e,["model"]);return r!=null&&d(n,["_url","name"],ye(t,r)),n}function Mb(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Db(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Vb(t,e){const n={},r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const a=u(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const l=u(t,["seed"]);e!==void 0&&l!=null&&d(e,["parameters","seed"],l);const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const m=u(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const g=u(t,["includeRaiReason"]);e!==void 0&&g!=null&&d(e,["parameters","includeRaiReason"],g);const v=u(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","mimeType"],w);const I=u(t,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const P=u(t,["addWatermark"]);e!==void 0&&P!=null&&d(e,["parameters","addWatermark"],P);const A=u(t,["labels"]);e!==void 0&&A!=null&&d(e,["labels"],A);const x=u(t,["editMode"]);e!==void 0&&x!=null&&d(e,["parameters","editMode"],x);const k=u(t,["baseSteps"]);return e!==void 0&&k!=null&&d(e,["parameters","editConfig","baseSteps"],k),n}function Lb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>FP(l))),d(n,["instances[0]","referenceImages"],a)}const o=u(e,["config"]);return o!=null&&Vb(o,n),n}function Ub(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>kc(i))),d(e,["generatedImages"],s)}return e}function Fb(t,e){const n={},r=u(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const s=u(t,["title"]);e!==void 0&&s!=null&&d(e,["requests[]","title"],s);const i=u(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&d(e,["requests[]","outputDimensionality"],i),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ob(t,e){const n={},r=u(t,["taskType"]);e!==void 0&&r!=null&&d(e,["instances[]","task_type"],r);const s=u(t,["title"]);e!==void 0&&s!=null&&d(e,["instances[]","title"],s);const i=u(t,["outputDimensionality"]);e!==void 0&&i!=null&&d(e,["parameters","outputDimensionality"],i);const o=u(t,["mimeType"]);e!==void 0&&o!=null&&d(e,["instances[]","mimeType"],o);const a=u(t,["autoTruncate"]);return e!==void 0&&a!=null&&d(e,["parameters","autoTruncate"],a),n}function qb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["contents"]);if(s!=null){let a=Yp(t,s);Array.isArray(a)&&(a=a.map(l=>l)),d(n,["requests[]","content"],a)}const i=u(e,["config"]);i!=null&&Fb(i,n);const o=u(e,["model"]);return o!==void 0&&d(n,["requests[]","model"],ye(t,o)),n}function Bb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["contents"]);if(s!=null){let o=Yp(t,s);Array.isArray(o)&&(o=o.map(a=>a)),d(n,["instances[]","content"],o)}const i=u(e,["config"]);return i!=null&&Ob(i,n),n}function Gb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["embeddings"],i)}const s=u(t,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function Hb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>xb(o))),d(e,["embeddings"],i)}const s=u(t,["metadata"]);return s!=null&&d(e,["metadata"],s),e}function zb(t){const e={},n=u(t,["endpoint"]);n!=null&&d(e,["name"],n);const r=u(t,["deployedModelId"]);return r!=null&&d(e,["deployedModelId"],r),e}function $b(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function jb(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Wb(t){const e={},n=u(t,["mode"]);n!=null&&d(e,["mode"],n);const r=u(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),u(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kb(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&d(e,["description"],n);const r=u(t,["name"]);r!=null&&d(e,["name"],r);const s=u(t,["parameters"]);s!=null&&d(e,["parameters"],s);const i=u(t,["parametersJsonSchema"]);i!=null&&d(e,["parametersJsonSchema"],i);const o=u(t,["response"]);o!=null&&d(e,["response"],o);const a=u(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function Jb(t,e,n){const r={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],Ac(wt(s)));const i=u(e,["temperature"]);i!=null&&d(r,["temperature"],i);const o=u(e,["topP"]);o!=null&&d(r,["topP"],o);const a=u(e,["topK"]);a!=null&&d(r,["topK"],a);const l=u(e,["candidateCount"]);l!=null&&d(r,["candidateCount"],l);const c=u(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const h=u(e,["stopSequences"]);h!=null&&d(r,["stopSequences"],h);const m=u(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const g=u(e,["logprobs"]);g!=null&&d(r,["logprobs"],g);const v=u(e,["presencePenalty"]);v!=null&&d(r,["presencePenalty"],v);const w=u(e,["frequencyPenalty"]);w!=null&&d(r,["frequencyPenalty"],w);const I=u(e,["seed"]);I!=null&&d(r,["seed"],I);const P=u(e,["responseMimeType"]);P!=null&&d(r,["responseMimeType"],P);const A=u(e,["responseSchema"]);A!=null&&d(r,["responseSchema"],Qp(A));const x=u(e,["responseJsonSchema"]);if(x!=null&&d(r,["responseJsonSchema"],x),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(e,["safetySettings"]);if(n!==void 0&&k!=null){let M=k;Array.isArray(M)&&(M=M.map(N=>OP(N))),d(n,["safetySettings"],M)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let M=Gi(D);Array.isArray(M)&&(M=M.map(N=>jP(Bi(N)))),d(n,["tools"],M)}const U=u(e,["toolConfig"]);if(n!==void 0&&U!=null&&d(n,["toolConfig"],$P(U)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=u(e,["cachedContent"]);n!==void 0&&V!=null&&d(n,["cachedContent"],rr(t,V));const T=u(e,["responseModalities"]);T!=null&&d(r,["responseModalities"],T);const E=u(e,["mediaResolution"]);E!=null&&d(r,["mediaResolution"],E);const S=u(e,["speechConfig"]);if(S!=null&&d(r,["speechConfig"],Xp(S)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=u(e,["thinkingConfig"]);b!=null&&d(r,["thinkingConfig"],b);const R=u(e,["imageConfig"]);return R!=null&&d(r,["imageConfig"],xP(R)),r}function Yb(t,e,n){const r={},s=u(e,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],wt(s));const i=u(e,["temperature"]);i!=null&&d(r,["temperature"],i);const o=u(e,["topP"]);o!=null&&d(r,["topP"],o);const a=u(e,["topK"]);a!=null&&d(r,["topK"],a);const l=u(e,["candidateCount"]);l!=null&&d(r,["candidateCount"],l);const c=u(e,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const h=u(e,["stopSequences"]);h!=null&&d(r,["stopSequences"],h);const m=u(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const g=u(e,["logprobs"]);g!=null&&d(r,["logprobs"],g);const v=u(e,["presencePenalty"]);v!=null&&d(r,["presencePenalty"],v);const w=u(e,["frequencyPenalty"]);w!=null&&d(r,["frequencyPenalty"],w);const I=u(e,["seed"]);I!=null&&d(r,["seed"],I);const P=u(e,["responseMimeType"]);P!=null&&d(r,["responseMimeType"],P);const A=u(e,["responseSchema"]);A!=null&&d(r,["responseSchema"],Qp(A));const x=u(e,["responseJsonSchema"]);x!=null&&d(r,["responseJsonSchema"],x);const k=u(e,["routingConfig"]);k!=null&&d(r,["routingConfig"],k);const D=u(e,["modelSelectionConfig"]);D!=null&&d(r,["modelConfig"],D);const U=u(e,["safetySettings"]);if(n!==void 0&&U!=null){let he=U;Array.isArray(he)&&(he=he.map(pe=>pe)),d(n,["safetySettings"],he)}const V=u(e,["tools"]);if(n!==void 0&&V!=null){let he=Gi(V);Array.isArray(he)&&(he=he.map(pe=>lT(Bi(pe)))),d(n,["tools"],he)}const T=u(e,["toolConfig"]);n!==void 0&&T!=null&&d(n,["toolConfig"],T);const E=u(e,["labels"]);n!==void 0&&E!=null&&d(n,["labels"],E);const S=u(e,["cachedContent"]);n!==void 0&&S!=null&&d(n,["cachedContent"],rr(t,S));const b=u(e,["responseModalities"]);b!=null&&d(r,["responseModalities"],b);const R=u(e,["mediaResolution"]);R!=null&&d(r,["mediaResolution"],R);const M=u(e,["speechConfig"]);M!=null&&d(r,["speechConfig"],aT(Xp(M)));const N=u(e,["audioTimestamp"]);N!=null&&d(r,["audioTimestamp"],N);const X=u(e,["thinkingConfig"]);X!=null&&d(r,["thinkingConfig"],X);const Se=u(e,["imageConfig"]);return Se!=null&&d(r,["imageConfig"],TP(Se)),r}function _v(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["contents"]);if(s!=null){let o=nn(s);Array.isArray(o)&&(o=o.map(a=>Ac(a))),d(n,["contents"],o)}const i=u(e,["config"]);return i!=null&&d(n,["generationConfig"],Jb(t,i,n)),n}function wv(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["contents"]);if(s!=null){let o=nn(s);Array.isArray(o)&&(o=o.map(a=>a)),d(n,["contents"],o)}const i=u(e,["config"]);return i!=null&&d(n,["generationConfig"],Yb(t,i,n)),n}function Ev(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>vb(c))),d(e,["candidates"],l)}const s=u(t,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const i=u(t,["promptFeedback"]);i!=null&&d(e,["promptFeedback"],i);const o=u(t,["responseId"]);o!=null&&d(e,["responseId"],o);const a=u(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function xv(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),d(e,["candidates"],c)}const s=u(t,["createTime"]);s!=null&&d(e,["createTime"],s);const i=u(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=u(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const a=u(t,["responseId"]);a!=null&&d(e,["responseId"],a);const l=u(t,["usageMetadata"]);return l!=null&&d(e,["usageMetadata"],l),e}function Qb(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const s=u(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const i=u(t,["guidanceScale"]);if(e!==void 0&&i!=null&&d(e,["parameters","guidanceScale"],i),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=u(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&d(e,["parameters","safetySetting"],o);const a=u(t,["personGeneration"]);e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a);const l=u(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&d(e,["parameters","includeSafetyAttributes"],l);const c=u(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const h=u(t,["language"]);e!==void 0&&h!=null&&d(e,["parameters","language"],h);const m=u(t,["outputMimeType"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","mimeType"],m);const g=u(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=u(t,["imageSize"]);if(e!==void 0&&v!=null&&d(e,["parameters","sampleImageSize"],v),u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Xb(t,e){const n={},r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&d(e,["parameters","negativePrompt"],s);const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&d(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const a=u(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const l=u(t,["seed"]);e!==void 0&&l!=null&&d(e,["parameters","seed"],l);const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const m=u(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const g=u(t,["includeRaiReason"]);e!==void 0&&g!=null&&d(e,["parameters","includeRaiReason"],g);const v=u(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","mimeType"],w);const I=u(t,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const P=u(t,["addWatermark"]);e!==void 0&&P!=null&&d(e,["parameters","addWatermark"],P);const A=u(t,["labels"]);e!==void 0&&A!=null&&d(e,["labels"],A);const x=u(t,["imageSize"]);e!==void 0&&x!=null&&d(e,["parameters","sampleImageSize"],x);const k=u(t,["enhancePrompt"]);return e!==void 0&&k!=null&&d(e,["parameters","enhancePrompt"],k),n}function Zb(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["config"]);return i!=null&&Qb(i,n),n}function eP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["config"]);return i!=null&&Xb(i,n),n}function tP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>hP(o))),d(e,["generatedImages"],i)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],iT(s)),e}function nP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>kc(o))),d(e,["generatedImages"],i)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],oT(s)),e}function rP(t,e){const n={},r=u(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=u(t,["durationSeconds"]);if(e!==void 0&&s!=null&&d(e,["parameters","durationSeconds"],s),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=u(t,["aspectRatio"]);e!==void 0&&i!=null&&d(e,["parameters","aspectRatio"],i);const o=u(t,["resolution"]);e!==void 0&&o!=null&&d(e,["parameters","resolution"],o);const a=u(t,["personGeneration"]);if(e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=u(t,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const c=u(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&d(e,["parameters","enhancePrompt"],c),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=u(t,["lastFrame"]);e!==void 0&&h!=null&&d(e,["instances[0]","lastFrame"],Nc(h));const m=u(t,["referenceImages"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(v=>i2(v))),d(e,["instances[0]","referenceImages"],g)}if(u(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function sP(t,e){const n={},r=u(t,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const s=u(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const i=u(t,["fps"]);e!==void 0&&i!=null&&d(e,["parameters","fps"],i);const o=u(t,["durationSeconds"]);e!==void 0&&o!=null&&d(e,["parameters","durationSeconds"],o);const a=u(t,["seed"]);e!==void 0&&a!=null&&d(e,["parameters","seed"],a);const l=u(t,["aspectRatio"]);e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l);const c=u(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const m=u(t,["pubsubTopic"]);e!==void 0&&m!=null&&d(e,["parameters","pubsubTopic"],m);const g=u(t,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const v=u(t,["enhancePrompt"]);e!==void 0&&v!=null&&d(e,["parameters","enhancePrompt"],v);const w=u(t,["generateAudio"]);e!==void 0&&w!=null&&d(e,["parameters","generateAudio"],w);const I=u(t,["lastFrame"]);e!==void 0&&I!=null&&d(e,["instances[0]","lastFrame"],mn(I));const P=u(t,["referenceImages"]);if(e!==void 0&&P!=null){let k=P;Array.isArray(k)&&(k=k.map(D=>o2(D))),d(e,["instances[0]","referenceImages"],k)}const A=u(t,["mask"]);e!==void 0&&A!=null&&d(e,["instances[0]","mask"],s2(A));const x=u(t,["compressionQuality"]);return e!==void 0&&x!=null&&d(e,["parameters","compressionQuality"],x),n}function iP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response","generateVideoResponse"]);return o!=null&&d(e,["response"],uP(o)),e}function oP(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],cP(o)),e}function aP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["image"]);i!=null&&d(n,["instances[0]","image"],Nc(i));const o=u(e,["video"]);o!=null&&d(n,["instances[0]","video"],uT(o));const a=u(e,["source"]);a!=null&&dP(a,n);const l=u(e,["config"]);return l!=null&&rP(l,n),n}function lP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["prompt"]);s!=null&&d(n,["instances[0]","prompt"],s);const i=u(e,["image"]);i!=null&&d(n,["instances[0]","image"],mn(i));const o=u(e,["video"]);o!=null&&d(n,["instances[0]","video"],cT(o));const a=u(e,["source"]);a!=null&&fP(a,n);const l=u(e,["config"]);return l!=null&&sP(l,n),n}function uP(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mP(o))),d(e,["generatedVideos"],i)}const r=u(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function cP(t){const e={},n=u(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gP(o))),d(e,["generatedVideos"],i)}const r=u(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&d(e,["raiMediaFilteredReasons"],s),e}function dP(t,e){const n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const s=u(t,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],Nc(s));const i=u(t,["video"]);return e!==void 0&&i!=null&&d(e,["instances[0]","video"],uT(i)),n}function fP(t,e){const n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const s=u(t,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],mn(s));const i=u(t,["video"]);return e!==void 0&&i!=null&&d(e,["instances[0]","video"],cT(i)),n}function hP(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],SP(n));const r=u(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const s=u(t,["_self"]);return s!=null&&d(e,["safetyAttributes"],iT(s)),e}function kc(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["image"],sT(n));const r=u(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const s=u(t,["_self"]);s!=null&&d(e,["safetyAttributes"],oT(s));const i=u(t,["prompt"]);return i!=null&&d(e,["enhancedPrompt"],i),e}function pP(t){const e={},n=u(t,["_self"]);n!=null&&d(e,["mask"],sT(n));const r=u(t,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),d(e,["labels"],s)}return e}function mP(t){const e={},n=u(t,["video"]);return n!=null&&d(e,["video"],n2(n)),e}function gP(t){const e={},n=u(t,["_self"]);return n!=null&&d(e,["video"],r2(n)),e}function yP(t){const e={},n=u(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=u(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const s=u(t,["audioTimestamp"]);s!=null&&d(e,["audioTimestamp"],s);const i=u(t,["candidateCount"]);i!=null&&d(e,["candidateCount"],i);const o=u(t,["enableAffectiveDialog"]);o!=null&&d(e,["enableAffectiveDialog"],o);const a=u(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const l=u(t,["logprobs"]);l!=null&&d(e,["logprobs"],l);const c=u(t,["maxOutputTokens"]);c!=null&&d(e,["maxOutputTokens"],c);const h=u(t,["mediaResolution"]);h!=null&&d(e,["mediaResolution"],h);const m=u(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const g=u(t,["responseLogprobs"]);g!=null&&d(e,["responseLogprobs"],g);const v=u(t,["responseMimeType"]);v!=null&&d(e,["responseMimeType"],v);const w=u(t,["responseModalities"]);w!=null&&d(e,["responseModalities"],w);const I=u(t,["responseSchema"]);I!=null&&d(e,["responseSchema"],I);const P=u(t,["routingConfig"]);P!=null&&d(e,["routingConfig"],P);const A=u(t,["seed"]);A!=null&&d(e,["seed"],A);const x=u(t,["speechConfig"]);x!=null&&d(e,["speechConfig"],aT(x));const k=u(t,["stopSequences"]);k!=null&&d(e,["stopSequences"],k);const D=u(t,["temperature"]);D!=null&&d(e,["temperature"],D);const U=u(t,["thinkingConfig"]);U!=null&&d(e,["thinkingConfig"],U);const V=u(t,["topK"]);V!=null&&d(e,["topK"],V);const T=u(t,["topP"]);if(T!=null&&d(e,["topP"],T),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function vP(t,e){const n={},r=u(e,["model"]);return r!=null&&d(n,["_url","name"],ye(t,r)),n}function _P(t,e){const n={},r=u(e,["model"]);return r!=null&&d(n,["_url","name"],ye(t,r)),n}function wP(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function EP(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function xP(t){const e={},n=u(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=u(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),u(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function TP(t){const e={},n=u(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=u(t,["imageSize"]);r!=null&&d(e,["imageSize"],r);const s=u(t,["outputMimeType"]);s!=null&&d(e,["imageOutputOptions","mimeType"],s);const i=u(t,["outputCompressionQuality"]);return i!=null&&d(e,["imageOutputOptions","compressionQuality"],i),e}function SP(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],Yr(n));const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function sT(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=u(t,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],Yr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Nc(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],Yr(n));const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function mn(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=u(t,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],Yr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function CP(t,e,n){const r={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const i=u(e,["pageToken"]);n!==void 0&&i!=null&&d(n,["_query","pageToken"],i);const o=u(e,["filter"]);n!==void 0&&o!=null&&d(n,["_query","filter"],o);const a=u(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],Yx(t,a)),r}function IP(t,e,n){const r={},s=u(e,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const i=u(e,["pageToken"]);n!==void 0&&i!=null&&d(n,["_query","pageToken"],i);const o=u(e,["filter"]);n!==void 0&&o!=null&&d(n,["_query","filter"],o);const a=u(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],Yx(t,a)),r}function AP(t,e){const n={},r=u(e,["config"]);return r!=null&&CP(t,r,n),n}function kP(t,e){const n={},r=u(e,["config"]);return r!=null&&IP(t,r,n),n}function NP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["_self"]);if(s!=null){let i=Qx(s);Array.isArray(i)&&(i=i.map(o=>ch(o))),d(e,["models"],i)}return e}function RP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["_self"]);if(s!=null){let i=Qx(s);Array.isArray(i)&&(i=i.map(o=>dh(o))),d(e,["models"],i)}return e}function bP(t){const e={},n=u(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const r=u(t,["segmentationClasses"]);r!=null&&d(e,["maskClasses"],r);const s=u(t,["maskDilation"]);return s!=null&&d(e,["dilation"],s),e}function ch(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["displayName"]);r!=null&&d(e,["displayName"],r);const s=u(t,["description"]);s!=null&&d(e,["description"],s);const i=u(t,["version"]);i!=null&&d(e,["version"],i);const o=u(t,["_self"]);o!=null&&d(e,["tunedModelInfo"],WP(o));const a=u(t,["inputTokenLimit"]);a!=null&&d(e,["inputTokenLimit"],a);const l=u(t,["outputTokenLimit"]);l!=null&&d(e,["outputTokenLimit"],l);const c=u(t,["supportedGenerationMethods"]);c!=null&&d(e,["supportedActions"],c);const h=u(t,["temperature"]);h!=null&&d(e,["temperature"],h);const m=u(t,["maxTemperature"]);m!=null&&d(e,["maxTemperature"],m);const g=u(t,["topP"]);g!=null&&d(e,["topP"],g);const v=u(t,["topK"]);v!=null&&d(e,["topK"],v);const w=u(t,["thinking"]);return w!=null&&d(e,["thinking"],w),e}function dh(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["displayName"]);r!=null&&d(e,["displayName"],r);const s=u(t,["description"]);s!=null&&d(e,["description"],s);const i=u(t,["versionId"]);i!=null&&d(e,["version"],i);const o=u(t,["deployedModels"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(g=>zb(g))),d(e,["endpoints"],m)}const a=u(t,["labels"]);a!=null&&d(e,["labels"],a);const l=u(t,["_self"]);l!=null&&d(e,["tunedModelInfo"],KP(l));const c=u(t,["defaultCheckpointId"]);c!=null&&d(e,["defaultCheckpointId"],c);const h=u(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),d(e,["checkpoints"],m)}return e}function PP(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],$b(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],jb(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],yb(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function MP(t){const e={},n=u(t,["productImage"]);return n!=null&&d(e,["image"],mn(n)),e}function DP(t,e){const n={},r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const s=u(t,["baseSteps"]);e!==void 0&&s!=null&&d(e,["parameters","baseSteps"],s);const i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=u(t,["seed"]);e!==void 0&&o!=null&&d(e,["parameters","seed"],o);const a=u(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const l=u(t,["personGeneration"]);e!==void 0&&l!=null&&d(e,["parameters","personGeneration"],l);const c=u(t,["addWatermark"]);e!==void 0&&c!=null&&d(e,["parameters","addWatermark"],c);const h=u(t,["outputMimeType"]);e!==void 0&&h!=null&&d(e,["parameters","outputOptions","mimeType"],h);const m=u(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","compressionQuality"],m);const g=u(t,["enhancePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","enhancePrompt"],g);const v=u(t,["labels"]);return e!==void 0&&v!=null&&d(e,["labels"],v),n}function VP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["source"]);s!=null&&UP(s,n);const i=u(e,["config"]);return i!=null&&DP(i,n),n}function LP(t){const e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>kc(s))),d(e,["generatedImages"],r)}return e}function UP(t,e){const n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const s=u(t,["personImage"]);e!==void 0&&s!=null&&d(e,["instances[0]","personImage","image"],mn(s));const i=u(t,["productImages"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>MP(a))),d(e,["instances[0]","productImages"],o)}return n}function FP(t){const e={},n=u(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],mn(n));const r=u(t,["referenceId"]);r!=null&&d(e,["referenceId"],r);const s=u(t,["referenceType"]);s!=null&&d(e,["referenceType"],s);const i=u(t,["maskImageConfig"]);i!=null&&d(e,["maskImageConfig"],bP(i));const o=u(t,["controlImageConfig"]);o!=null&&d(e,["controlImageConfig"],Sb(o));const a=u(t,["styleImageConfig"]);a!=null&&d(e,["styleImageConfig"],a);const l=u(t,["subjectImageConfig"]);return l!=null&&d(e,["subjectImageConfig"],l),e}function iT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=u(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const s=u(t,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function oT(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=u(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const s=u(t,["contentType"]);return s!=null&&d(e,["contentType"],s),e}function OP(t){const e={},n=u(t,["category"]);if(n!=null&&d(e,["category"],n),u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function qP(t){const e={},n=u(t,["image"]);return n!=null&&d(e,["image"],mn(n)),e}function BP(t,e){const n={},r=u(t,["mode"]);e!==void 0&&r!=null&&d(e,["parameters","mode"],r);const s=u(t,["maxPredictions"]);e!==void 0&&s!=null&&d(e,["parameters","maxPredictions"],s);const i=u(t,["confidenceThreshold"]);e!==void 0&&i!=null&&d(e,["parameters","confidenceThreshold"],i);const o=u(t,["maskDilation"]);e!==void 0&&o!=null&&d(e,["parameters","maskDilation"],o);const a=u(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&d(e,["parameters","binaryColorThreshold"],a);const l=u(t,["labels"]);return e!==void 0&&l!=null&&d(e,["labels"],l),n}function GP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["source"]);s!=null&&zP(s,n);const i=u(e,["config"]);return i!=null&&BP(i,n),n}function HP(t){const e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>pP(s))),d(e,["generatedMasks"],r)}return e}function zP(t,e){const n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const s=u(t,["image"]);e!==void 0&&s!=null&&d(e,["instances[0]","image"],mn(s));const i=u(t,["scribbleImage"]);return e!==void 0&&i!=null&&d(e,["instances[0]","scribble"],qP(i)),n}function aT(t){const e={},n=u(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=u(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function $P(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],Wb(n));const r=u(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function jP(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],wP(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],EP(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}function lT(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>Kb(g))),d(e,["functionDeclarations"],m)}const r=u(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const s=u(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const i=u(t,["computerUse"]);if(i!=null&&d(e,["computerUse"],i),u(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=u(t,["codeExecution"]);o!=null&&d(e,["codeExecution"],o);const a=u(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const l=u(t,["googleMaps"]);l!=null&&d(e,["googleMaps"],l);const c=u(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],c);const h=u(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function WP(t){const e={},n=u(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=u(t,["createTime"]);r!=null&&d(e,["createTime"],r);const s=u(t,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function KP(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const r=u(t,["createTime"]);r!=null&&d(e,["createTime"],r);const s=u(t,["updateTime"]);return s!=null&&d(e,["updateTime"],s),e}function JP(t,e){const n={},r=u(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const s=u(t,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const i=u(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&d(e,["defaultCheckpointId"],i),n}function YP(t,e){const n={},r=u(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const s=u(t,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);const i=u(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&d(e,["defaultCheckpointId"],i),n}function QP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","name"],ye(t,r));const s=u(e,["config"]);return s!=null&&JP(s,n),n}function XP(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["config"]);return s!=null&&YP(s,n),n}function ZP(t,e){const n={},r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const s=u(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const i=u(t,["personGeneration"]);e!==void 0&&i!=null&&d(e,["parameters","personGeneration"],i);const o=u(t,["includeRaiReason"]);e!==void 0&&o!=null&&d(e,["parameters","includeRaiReason"],o);const a=u(t,["outputMimeType"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","mimeType"],a);const l=u(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&d(e,["parameters","outputOptions","compressionQuality"],l);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],c);const h=u(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=u(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const g=u(t,["numberOfImages"]);e!==void 0&&g!=null&&d(e,["parameters","sampleCount"],g);const v=u(t,["mode"]);return e!==void 0&&v!=null&&d(e,["parameters","mode"],v),n}function e2(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["_url","model"],ye(t,r));const s=u(e,["image"]);s!=null&&d(n,["instances[0]","image"],mn(s));const i=u(e,["upscaleFactor"]);i!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=u(e,["config"]);return o!=null&&ZP(o,n),n}function t2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>kc(i))),d(e,["generatedImages"],s)}return e}function n2(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["uri"],n);const r=u(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],Yr(r));const s=u(t,["encoding"]);return s!=null&&d(e,["mimeType"],s),e}function r2(t){const e={},n=u(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=u(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],Yr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function s2(t){const e={},n=u(t,["image"]);n!=null&&d(e,["_self"],mn(n));const r=u(t,["maskMode"]);return r!=null&&d(e,["maskMode"],r),e}function i2(t){const e={},n=u(t,["image"]);n!=null&&d(e,["image"],Nc(n));const r=u(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function o2(t){const e={},n=u(t,["image"]);n!=null&&d(e,["image"],mn(n));const r=u(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function uT(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["uri"],n);const r=u(t,["videoBytes"]);r!=null&&d(e,["encodedVideo"],Yr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["encoding"],s),e}function cT(t){const e={},n=u(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const r=u(t,["videoBytes"]);r!=null&&d(e,["bytesBase64Encoded"],Yr(r));const s=u(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a2="Content-Type",l2="X-Server-Timeout",u2="User-Agent",fh="x-goog-api-client",c2="1.30.0",d2=`google-genai-sdk/${c2}`,f2="v1beta1",h2="v1beta",Tv=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class p2{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:f2,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:h2,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,a]of Object.entries(e.queryParams))s.searchParams.append(o,String(a));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&m2(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Sv(s),new ah(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Sv(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return hi(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let o="";for(;;){const{done:a,value:l}=yield Ae(s.read());if(a){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(l,{stream:!0});try{const m=JSON.parse(c);if("error"in m){const g=JSON.parse(JSON.stringify(m.error)),v=g.status,w=g.code,I=`got status: ${v}. ${JSON.stringify(m)}`;if(w>=400&&w<600)throw new Ic({message:I,status:w})}}catch(m){if(m.name==="ApiError")throw m}o+=c;let h=o.match(Tv);for(;h;){const m=h[1];try{const g=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ae(new ah(g)),o=o.slice(h[0].length),h=o.match(Tv)}catch(g){throw new Error(`exception parsing stream chunk ${m}. ${g}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=d2+" "+this.clientOptions.userAgentExtra;return e[u2]=n,e[fh]=n,e[a2]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(l2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);s.sizeBytes=String(o.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=a;const l={file:s},c=this.getFileName(e),h=K("upload/v1beta/files",l._url),m=await this.fetchUploadUrl(h,s.sizeBytes,s.mimeType,c,l,n==null?void 0:n.httpOptions);return i.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,o=await i.stat(n),a=String(o.size),l=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const g=await this.fetchUploadUrl(c,a,l,h,m,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,o){var a;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const c=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Sv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new Ic({message:s,status:n}):new Error(s)}}function m2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const a=Object.assign({},i);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const c=o[l],h=a[l];c&&typeof c=="object"&&!Array.isArray(c)&&h&&typeof h=="object"&&!Array.isArray(h)?a[l]=r(h,c):(h&&c&&typeof h!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof h}, New type: ${typeof c}. Overwriting.`),a[l]=c)}return a}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g2="mcp_used/unknown";let y2=!1;function dT(t){for(const e of t)if(v2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return y2}function fT(t){var e;const n=(e=t[fh])!==null&&e!==void 0?e:"";t[fh]=(n+` ${g2}`).trimStart()}function v2(t){return t!==null&&typeof t=="object"&&t instanceof em}function _2(t,e=100){return hi(this,arguments,function*(){let r,s=0;for(;s<e;){const i=yield Ae(t.listTools({cursor:r}));for(const o of i.tools)yield yield Ae(o),s++;if(!i.nextCursor)break;r=i.nextCursor}})}class em{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new em(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},o=[];for(const h of this.mcpClients)try{for(var a=!0,l=(n=void 0,$o(_2(h))),c;c=await l.next(),e=c.done,!e;a=!0){s=c.value,a=!1;const m=s;o.push(m);const g=m.name;if(i[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);i[g]=h}}catch(m){n={error:m}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),dN(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function w2(t,e,n){const r=new rN;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class E2{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=S2(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const h=new Promise(k=>{c=k}),m=e.callbacks,g=function(){c({})},v=this.apiClient,w={onopen:g,onmessage:k=>{w2(v,m.onmessage,k)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(k){}},I=this.webSocketFactory.create(l,T2(o),w);I.connect(),await h;const x={setup:{model:ye(this.apiClient,e.model)}};return I.send(JSON.stringify(x)),new x2(I,this.apiClient)}}class x2{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=lb(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=ab(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(si.PLAY)}pause(){this.sendPlaybackControl(si.PAUSE)}stop(){this.sendPlaybackControl(si.STOP)}resetContext(){this.sendPlaybackControl(si.RESET_CONTEXT)}close(){this.conn.close()}}function T2(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function S2(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function I2(t,e,n){const r=new nN;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const o=db(i);Object.assign(r,o)}else Object.assign(r,i);e(r)}class A2{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new E2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&dT(e.config.tools)&&fT(m);const g=b2(m);if(this.apiClient.isVertexAI())h=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const S=this.apiClient.getApiKey();let b="BidiGenerateContent",R="key";S!=null&&S.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),b="BidiGenerateContentConstrained",R="access_token"),h=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${b}?${R}=${S}`}let v=()=>{};const w=new Promise(S=>{v=S}),I=e.callbacks,P=function(){var S;(S=I==null?void 0:I.onopen)===null||S===void 0||S.call(I),v({})},A=this.apiClient,x={onopen:P,onmessage:S=>{I2(A,I.onmessage,S)},onerror:(n=I==null?void 0:I.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=I==null?void 0:I.onclose)!==null&&r!==void 0?r:function(S){}},k=this.webSocketFactory.create(h,R2(g),x);k.connect(),await w;let D=ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const S=this.apiClient.getProject(),b=this.apiClient.getLocation();D=`projects/${S}/locations/${b}/`+D}let U={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Lu.AUDIO]}:e.config.responseModalities=[Lu.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],T=[];for(const S of V)if(this.isCallableTool(S)){const b=S;T.push(await b.tool())}else T.push(S);T.length>0&&(e.config.tools=T);const E={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=ob(this.apiClient,E):U=ib(this.apiClient,E),delete U.config,k.send(JSON.stringify(U)),new N2(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const k2={turnComplete:!0};class N2{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=nn(n.turns),e.isVertexAI()||(r=r.map(s=>Ac(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(C2)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},k2),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:cb(e)}:n={realtimeInput:ub(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function R2(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function b2(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cv=10;function Iv(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(pi(o)){s=!0;break}if(!s)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function pi(t){return"callTool"in t&&typeof t.callTool=="function"}function P2(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>pi(s)))!==null&&r!==void 0?r:!1}function Av(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(pi(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function kv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M2 extends nr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,o,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!P2(n)||Iv(n.config))return await this.generateContentInternal(l);const c=Av(n);if(c.length>0){const I=c.map(P=>`tools[${P}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let h,m;const g=nn(l.contents),v=(i=(s=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:Cv;let w=0;for(;w<v&&(h=await this.generateContentInternal(l),!(!h.functionCalls||h.functionCalls.length===0));){const I=h.candidates[0].content,P=[];for(const A of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(pi(A)){const k=await A.callTool(h.functionCalls);P.push(...k)}w++,m={role:"user",parts:P},l.contents=nn(l.contents),l.contents.push(I),l.contents.push(m),kv(l.config)&&(g.push(I),g.push(m))}return kv(l.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,s,i,o,a;if(this.maybeMoveToResponseJsonSchem(n),Iv(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const l=Av(n);if(l.length>0){const m=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(s=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,h=(a=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((s=l==null?void 0:l.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=l==null?void 0:l.safetyAttributes:o.push(l);let a;return i?a={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new bs(Jn.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,o,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(i=n.source)===null||i===void 0?void 0:i.video)===null||o===void 0)&&o.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const o=await Promise.all(i.map(async l=>pi(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&dT(e.config.tools)){const l=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),fT(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(pi(o)){const a=o,l=await a.tool();for(const c of(s=l.functionDeclarations)!==null&&s!==void 0?s:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,a)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:Cv;let o=!1,a=0;const l=await this.initAfcToolsMap(e);return function(c,h,m){var g,v;return hi(this,arguments,function*(){for(var w,I,P,A;a<i;){o&&(a++,o=!1);const U=yield Ae(c.processParamsMaybeAddMcpUsage(m)),V=yield Ae(c.generateContentStreamInternal(U)),T=[],E=[];try{for(var x=!0,k=(I=void 0,$o(V)),D;D=yield Ae(k.next()),w=D.done,!w;x=!0){A=D.value,x=!1;const S=A;if(yield yield Ae(S),S.candidates&&(!((g=S.candidates[0])===null||g===void 0)&&g.content)){E.push(S.candidates[0].content);for(const b of(v=S.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(a<i&&b.functionCall){if(!b.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(b.functionCall.name)){const R=yield Ae(h.get(b.functionCall.name).callTool([b.functionCall]));T.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${b.functionCall.name}`)}}}}catch(S){I={error:S}}finally{try{!x&&!w&&(P=k.return)&&(yield Ae(P.call(k)))}finally{if(I)throw I.error}}if(T.length>0){o=!0;const S=new Co;S.candidates=[{content:{role:"user",parts:T}}],yield yield Ae(S);const b=[];b.push(...E),b.push({role:"user",parts:T});const R=nn(m.contents).concat(b);m.contents=R}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=wv(this.apiClient,e);return a=K("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=xv(h),g=new Co;return Object.assign(g,m),g})}else{const c=_v(this.apiClient,e);return a=K("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Ev(h),g=new Co;return Object.assign(g,m),g})}}async generateContentStreamInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=wv(this.apiClient,e);return a=K("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(m){return hi(this,arguments,function*(){var g,v,w,I;try{for(var P=!0,A=$o(m),x;x=yield Ae(A.next()),g=x.done,!g;P=!0){I=x.value,P=!1;const k=I,D=xv(yield Ae(k.json()));D.sdkHttpResponse={headers:k.headers};const U=new Co;Object.assign(U,D),yield yield Ae(U)}}catch(k){v={error:k}}finally{try{!P&&!g&&(w=A.return)&&(yield Ae(w.call(A)))}finally{if(v)throw v.error}}})})}else{const c=_v(this.apiClient,e);return a=K("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(m){return hi(this,arguments,function*(){var g,v,w,I;try{for(var P=!0,A=$o(m),x;x=yield Ae(A.next()),g=x.done,!g;P=!0){I=x.value,P=!1;const k=I,D=Ev(yield Ae(k.json()));D.sdkHttpResponse={headers:k.headers};const U=new Co;Object.assign(U,D),yield yield Ae(U)}}catch(k){v={error:k}}finally{try{!P&&!g&&(w=A.return)&&(yield Ae(w.call(A)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Bb(this.apiClient,e);return a=K("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Hb(h),g=new rv;return Object.assign(g,m),g})}else{const c=qb(this.apiClient,e);return a=K("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Gb(h),g=new rv;return Object.assign(g,m),g})}}async generateImagesInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=eP(this.apiClient,e);return a=K("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=nP(h),g=new sv;return Object.assign(g,m),g})}else{const c=Zb(this.apiClient,e);return a=K("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=tP(h),g=new sv;return Object.assign(g,m),g})}}async editImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=Lb(this.apiClient,e);return i=K("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=Ub(l),h=new $k;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=e2(this.apiClient,e);return i=K("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=t2(l),h=new jk;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=VP(this.apiClient,e);return i=K("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=LP(l),h=new Wk;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=GP(this.apiClient,e);return i=K("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=HP(l),h=new Kk;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=_P(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>dh(h))}else{const c=vP(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>ch(h))}}async listInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=kP(this.apiClient,e);return a=K("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=RP(h),g=new iv;return Object.assign(g,m),g})}else{const c=AP(this.apiClient,e);return a=K("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=NP(h),g=new iv;return Object.assign(g,m),g})}}async update(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=XP(this.apiClient,e);return a=K("{model}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>dh(h))}else{const c=QP(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>ch(h))}}async delete(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Pb(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Db(h),g=new ov;return Object.assign(g,m),g})}else{const c=bb(this.apiClient,e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Mb(h),g=new ov;return Object.assign(g,m),g})}}async countTokens(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=kb(this.apiClient,e);return a=K("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Rb(h),g=new av;return Object.assign(g,m),g})}else{const c=Ab(this.apiClient,e);return a=K("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=Nb(h),g=new av;return Object.assign(g,m),g})}}async computeTokens(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=wb(this.apiClient,e);return i=K("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>{const c=Eb(l),h=new Jk;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=lP(this.apiClient,e);return a=K("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const m=oP(h),g=new Uu;return Object.assign(g,m),g})}else{const c=aP(this.apiClient,e);return a=K("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const m=iP(h),g=new Uu;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D2 extends nr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Ok(e);return a=K("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o}else{const c=Fk(e);return a=K("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=bk(e);return i=K("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V2(t){const e={},n=u(t,["data"]);if(n!=null&&d(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function L2(t){const e={},n=u(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>$2(i))),d(e,["parts"],s)}const r=u(t,["role"]);return r!=null&&d(e,["role"],r),e}function U2(t,e,n){const r={},s=u(e,["expireTime"]);n!==void 0&&s!=null&&d(n,["expireTime"],s);const i=u(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&d(n,["newSessionExpireTime"],i);const o=u(e,["uses"]);n!==void 0&&o!=null&&d(n,["uses"],o);const a=u(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&d(n,["bidiGenerateContentSetup"],z2(t,a));const l=u(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&d(n,["fieldMask"],l),r}function F2(t,e){const n={},r=u(e,["config"]);return r!=null&&d(n,["config"],U2(t,r,n)),n}function O2(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=u(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function q2(t){const e={},n=u(t,["id"]);n!=null&&d(e,["id"],n);const r=u(t,["args"]);r!=null&&d(e,["args"],r);const s=u(t,["name"]);if(s!=null&&d(e,["name"],s),u(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function B2(t){const e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function G2(t){const e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function H2(t,e){const n={},r=u(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","responseModalities"],s);const i=u(t,["temperature"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","temperature"],i);const o=u(t,["topP"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","topP"],o);const a=u(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const l=u(t,["maxOutputTokens"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","maxOutputTokens"],l);const c=u(t,["mediaResolution"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","mediaResolution"],c);const h=u(t,["seed"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","seed"],h);const m=u(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Zp(m));const g=u(t,["thinkingConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","thinkingConfig"],g);const v=u(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&d(e,["setup","systemInstruction"],L2(wt(w)));const I=u(t,["tools"]);if(e!==void 0&&I!=null){let V=Gi(I);Array.isArray(V)&&(V=V.map(T=>W2(Bi(T)))),d(e,["setup","tools"],V)}const P=u(t,["sessionResumption"]);e!==void 0&&P!=null&&d(e,["setup","sessionResumption"],j2(P));const A=u(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","inputAudioTranscription"],A);const x=u(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&d(e,["setup","outputAudioTranscription"],x);const k=u(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&d(e,["setup","realtimeInputConfig"],k);const D=u(t,["contextWindowCompression"]);e!==void 0&&D!=null&&d(e,["setup","contextWindowCompression"],D);const U=u(t,["proactivity"]);return e!==void 0&&U!=null&&d(e,["setup","proactivity"],U),n}function z2(t,e){const n={},r=u(e,["model"]);r!=null&&d(n,["setup","model"],ye(t,r));const s=u(e,["config"]);return s!=null&&d(n,["config"],H2(s,n)),n}function $2(t){const e={},n=u(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=u(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const s=u(t,["executableCode"]);s!=null&&d(e,["executableCode"],s);const i=u(t,["fileData"]);i!=null&&d(e,["fileData"],O2(i));const o=u(t,["functionCall"]);o!=null&&d(e,["functionCall"],q2(o));const a=u(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=u(t,["inlineData"]);l!=null&&d(e,["inlineData"],V2(l));const c=u(t,["text"]);c!=null&&d(e,["text"],c);const h=u(t,["thought"]);h!=null&&d(e,["thought"],h);const m=u(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const g=u(t,["videoMetadata"]);return g!=null&&d(e,["videoMetadata"],g),e}function j2(t){const e={},n=u(t,["handle"]);if(n!=null&&d(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function W2(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),d(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const s=u(t,["computerUse"]);s!=null&&d(e,["computerUse"],s);const i=u(t,["fileSearch"]);i!=null&&d(e,["fileSearch"],i);const o=u(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=u(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],B2(a));const l=u(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],G2(l));const c=u(t,["urlContext"]);return c!=null&&d(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K2(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function J2(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=K2(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];s.length>0&&(a=s.map(c=>o.includes(c)?`generationConfig.${c}`:c));const l=[];i&&l.push(i),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class Y2 extends nr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=F2(this.apiClient,e);i=K("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const l=J2(a,e.config);return s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q2(t,e){const n={},r=u(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["displayName"],r),n}function X2(t){const e={},n=u(t,["config"]);return n!=null&&Q2(n,e),e}function Z2(t,e){const n={},r=u(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function eM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=u(t,["config"]);return r!=null&&Z2(r,e),e}function tM(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function nM(t,e){const n={},r=u(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["customMetadata"],i)}const s=u(t,["chunkingConfig"]);return e!==void 0&&s!=null&&d(e,["chunkingConfig"],s),n}function rM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["name"],n);const r=u(t,["metadata"]);r!=null&&d(e,["metadata"],r);const s=u(t,["done"]);s!=null&&d(e,["done"],s);const i=u(t,["error"]);i!=null&&d(e,["error"],i);const o=u(t,["response"]);return o!=null&&d(e,["response"],iM(o)),e}function sM(t){const e={},n=u(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=u(t,["fileName"]);r!=null&&d(e,["fileName"],r);const s=u(t,["config"]);return s!=null&&nM(s,e),e}function iM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["parent"]);r!=null&&d(e,["parent"],r);const s=u(t,["documentName"]);return s!=null&&d(e,["documentName"],s),e}function oM(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function aM(t){const e={},n=u(t,["config"]);return n!=null&&oM(n,e),e}function lM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["fileSearchStores"],i)}return e}function uM(t,e){const n={},r=u(t,["mimeType"]);e!==void 0&&r!=null&&d(e,["mimeType"],r);const s=u(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const i=u(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),d(e,["customMetadata"],a)}const o=u(t,["chunkingConfig"]);return e!==void 0&&o!=null&&d(e,["chunkingConfig"],o),n}function cM(t){const e={},n=u(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=u(t,["config"]);return r!=null&&uM(r,e),e}function dM(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fM(t,e){const n={},r=u(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function hM(t){const e={},n=u(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=u(t,["config"]);return r!=null&&fM(r,e),e}function pM(t){const e={},n=u(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function mM(t,e){const n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&d(e,["_query","pageToken"],s),n}function gM(t){const e={},n=u(t,["parent"]);n!=null&&d(e,["_url","parent"],n);const r=u(t,["config"]);return r!=null&&mM(r,e),e}function yM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=u(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const s=u(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vM extends nr{constructor(e){super(),this.apiClient=e,this.list=async n=>new bs(Jn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pM(e);return i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hM(e);s=K("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gM(e);return i=K("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=yM(l),h=new Yk;return Object.assign(h,c),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _M extends nr{constructor(e,n=new vM(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new bs(Jn.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=X2(e);return i=K("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=tM(e);return i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=eM(e);s=K("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=aM(e);return i=K("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=lM(l),h=new Qk;return Object.assign(h,c),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=cM(e);return i=K("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=dM(l),h=new Xk;return Object.assign(h,c),h})}}async importFile(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=sM(e);return i=K("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),s.then(l=>{const c=rM(l),h=new Kp;return Object.assign(h,c),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wM(t,e){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function EM(t,e){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function xM(t,e,n){const r={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=u(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&d(e,["displayName"],s),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=u(t,["epochCount"]);e!==void 0&&i!=null&&d(e,["tuningTask","hyperparameters","epochCount"],i);const o=u(t,["learningRateMultiplier"]);if(o!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=u(t,["batchSize"]);e!==void 0&&a!=null&&d(e,["tuningTask","hyperparameters","batchSize"],a);const l=u(t,["learningRate"]);if(e!==void 0&&l!=null&&d(e,["tuningTask","hyperparameters","learningRate"],l),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function TM(t,e,n){const r={};let s=u(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const v=u(t,["validationDataset"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec"],Nv(v))}else if(s==="PREFERENCE_TUNING"){const v=u(t,["validationDataset"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec"],Nv(v))}const i=u(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&d(e,["tunedModelDisplayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);let a=u(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const v=u(t,["epochCount"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(a==="PREFERENCE_TUNING"){const v=u(t,["epochCount"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=u(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=u(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=u(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let c=u(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=u(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(c==="PREFERENCE_TUNING"){const v=u(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let h=u(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const v=u(t,["adapterSize"]);e!==void 0&&v!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(h==="PREFERENCE_TUNING"){const v=u(t,["adapterSize"]);e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=u(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const g=u(t,["beta"]);return e!==void 0&&g!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function SM(t,e){const n={},r=u(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const s=u(t,["preTunedModel"]);s!=null&&d(n,["preTunedModel"],s);const i=u(t,["trainingDataset"]);i!=null&&VM(i);const o=u(t,["config"]);return o!=null&&xM(o,n),n}function CM(t,e){const n={},r=u(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const s=u(t,["preTunedModel"]);s!=null&&d(n,["preTunedModel"],s);const i=u(t,["trainingDataset"]);i!=null&&LM(i,n,e);const o=u(t,["config"]);return o!=null&&TM(o,n,e),n}function IM(t,e){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function AM(t,e){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function kM(t,e,n){const r={},s=u(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const i=u(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=u(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),r}function NM(t,e,n){const r={},s=u(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const i=u(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=u(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),r}function RM(t,e){const n={},r=u(t,["config"]);return r!=null&&kM(r,n),n}function bM(t,e){const n={},r=u(t,["config"]);return r!=null&&NM(r,n),n}function PM(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const i=u(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>hT(a))),d(n,["tuningJobs"],o)}return n}function MM(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const i=u(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>hh(a))),d(n,["tuningJobs"],o)}return n}function DM(t,e){const n={},r=u(t,["name"]);r!=null&&d(n,["model"],r);const s=u(t,["name"]);return s!=null&&d(n,["endpoint"],s),n}function VM(t,e){const n={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=u(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),d(n,["examples","examples"],s)}return n}function LM(t,e,n){const r={};let s=u(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=u(t,["gcsUri"]);e!==void 0&&o!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=u(t,["gcsUri"]);e!==void 0&&o!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let i=u(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=u(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=u(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function hT(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["name"]);s!=null&&d(n,["name"],s);const i=u(t,["state"]);i!=null&&d(n,["state"],Kx(i));const o=u(t,["createTime"]);o!=null&&d(n,["createTime"],o);const a=u(t,["tuningTask","startTime"]);a!=null&&d(n,["startTime"],a);const l=u(t,["tuningTask","completeTime"]);l!=null&&d(n,["endTime"],l);const c=u(t,["updateTime"]);c!=null&&d(n,["updateTime"],c);const h=u(t,["description"]);h!=null&&d(n,["description"],h);const m=u(t,["baseModel"]);m!=null&&d(n,["baseModel"],m);const g=u(t,["_self"]);return g!=null&&d(n,["tunedModel"],DM(g)),n}function hh(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["name"]);s!=null&&d(n,["name"],s);const i=u(t,["state"]);i!=null&&d(n,["state"],Kx(i));const o=u(t,["createTime"]);o!=null&&d(n,["createTime"],o);const a=u(t,["startTime"]);a!=null&&d(n,["startTime"],a);const l=u(t,["endTime"]);l!=null&&d(n,["endTime"],l);const c=u(t,["updateTime"]);c!=null&&d(n,["updateTime"],c);const h=u(t,["error"]);h!=null&&d(n,["error"],h);const m=u(t,["description"]);m!=null&&d(n,["description"],m);const g=u(t,["baseModel"]);g!=null&&d(n,["baseModel"],g);const v=u(t,["tunedModel"]);v!=null&&d(n,["tunedModel"],v);const w=u(t,["preTunedModel"]);w!=null&&d(n,["preTunedModel"],w);const I=u(t,["supervisedTuningSpec"]);I!=null&&d(n,["supervisedTuningSpec"],I);const P=u(t,["preferenceOptimizationSpec"]);P!=null&&d(n,["preferenceOptimizationSpec"],P);const A=u(t,["tuningDataStats"]);A!=null&&d(n,["tuningDataStats"],A);const x=u(t,["encryptionSpec"]);x!=null&&d(n,["encryptionSpec"],x);const k=u(t,["partnerModelTuningSpec"]);k!=null&&d(n,["partnerModelTuningSpec"],k);const D=u(t,["customBaseModel"]);D!=null&&d(n,["customBaseModel"],D);const U=u(t,["experiment"]);U!=null&&d(n,["experiment"],U);const V=u(t,["labels"]);V!=null&&d(n,["labels"],V);const T=u(t,["outputUri"]);T!=null&&d(n,["outputUri"],T);const E=u(t,["pipelineJob"]);E!=null&&d(n,["pipelineJob"],E);const S=u(t,["serviceAccount"]);S!=null&&d(n,["serviceAccount"],S);const b=u(t,["tunedModelDisplayName"]);b!=null&&d(n,["tunedModelDisplayName"],b);const R=u(t,["veoTuningSpec"]);return R!=null&&d(n,["veoTuningSpec"],R),n}function UM(t,e){const n={},r=u(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const s=u(t,["name"]);s!=null&&d(n,["name"],s);const i=u(t,["metadata"]);i!=null&&d(n,["metadata"],i);const o=u(t,["done"]);o!=null&&d(n,["done"],o);const a=u(t,["error"]);return a!=null&&d(n,["error"],a),n}function Nv(t,e){const n={},r=u(t,["gcsUri"]);r!=null&&d(n,["validationDatasetUri"],r);const s=u(t,["vertexDatasetResource"]);return s!=null&&d(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FM extends nr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bs(Jn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:oh.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=AM(e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>hh(h))}else{const c=IM(e);return a=K("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>hT(h))}}async listInternal(e){var n,r,s,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=bM(e);return a=K("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=MM(h),g=new lv;return Object.assign(g,m),g})}else{const c=RM(e);return a=K("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const m=PM(h),g=new lv;return Object.assign(g,m),g})}}async cancel(e){var n,r,s,i;let o="",a={};if(this.apiClient.isVertexAI()){const l=EM(e);o=K("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=wM(e);o=K("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const a=CM(e,e);return i=K("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>hh(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=SM(e);return i=K("tunedModels",a._url),o=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:l.headers},h})),s.then(l=>UM(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qM=1024*1024*8,BM=3,GM=1e3,HM=2,Ou="x-goog-upload-status";async function zM(t,e,n){var r;const s=await pT(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Ou])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function $M(t,e,n){var r;const s=await pT(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Ou])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=Gx(i),a=new Jp;return Object.assign(a,o),a}async function pT(t,e,n){var r,s;let i=0,o=0,a=new ah(new Response),l="upload";for(i=t.size;o<i;){const c=Math.min(qM,i-o),h=t.slice(o,o+c);o+c>=i&&(l+=", finalize");let m=0,g=GM;for(;m<BM&&(a=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(c)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Ou]));)m++,await WM(g),g=g*HM;if(o+=c,((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Ou])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function jM(t){return{size:t.size,type:t.type}}function WM(t){return new Promise(e=>setTimeout(e,t))}class KM{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zM(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $M(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JM{create(e,n,r){return new YM(e,n,r)}}class YM{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rv="x-goog-api-key";class QM{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Rv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Rv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XM="gl-node/";class ZM{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Nk(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new QM(this.apiKey);this.apiClient=new p2({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:XM+"web",uploader:new KM,downloader:new OM}),this.models=new M2(this.apiClient),this.live=new A2(this.apiClient,s,new JM),this.batches=new sR(this.apiClient),this.chats=new OR(this.models,this.apiClient),this.caches=new LR(this.apiClient),this.files=new JR(this.apiClient),this.operations=new D2(this.apiClient),this.authTokens=new Y2(this.apiClient),this.tunings=new FM(this.apiClient),this.fileSearchStores=new _M(this.apiClient)}}const Ps=()=>{const t="AIzaSyCDqgY7dR_dDcY_UpFUh3rPrxk6v50sd1k";return new ZM({apiKey:t})},tm=()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),mT=()=>new Date().getFullYear(),Vn={Ireland:["irishimmigration.ie","justice.ie","visa.vfsglobal.com/ind/en/irl"],"United Kingdom":["gov.uk","visa.vfsglobal.com/ind/en/gbr"],"United States":["travel.state.gov","ustraveldocs.com","ceac.state.gov","dhs.gov"],Canada:["canada.ca","ircc.canada.ca","visa.vfsglobal.com/ind/en/can"],Australia:["immi.homeaffairs.gov.au","india.highcommission.gov.au"],"New Zealand":["immigration.govt.nz","visa.vfsglobal.com/ind/en/nzl"],Germany:["india.diplo.de","make-it-in-germany.com","visa.vfsglobal.com/ind/en/deu"],France:["france-visas.gouv.fr","in.ambafrance.org","visa.vfsglobal.com/ind/en/fra"],Netherlands:["netherlandsworldwide.nl","ind.nl","visa.vfsglobal.com/ind/en/nld"],Italy:["vistoperitalia.esteri.it","ambnewdelhi.esteri.it","visa.vfsglobal.com/ind/en/ita"],Spain:["exteriores.gob.es","india.blsspainvisa.com"],Switzerland:["sem.admin.ch","eda.admin.ch","visa.vfsglobal.com/ind/en/che"],Austria:["bmeia.gv.at","migration.gv.at","visa.vfsglobal.com/ind/en/aut"],Malta:["identita.gov.mt","foreign.gov.mt","visa.vfsglobal.com/ind/en/mlt"],Finland:["migri.fi","finlandabroad.fi","visa.vfsglobal.com/ind/en/fin"],Sweden:["migrationsverket.se","swedenabroad.se","visa.vfsglobal.com/ind/en/swe"],Denmark:["nyidanmark.dk","um.dk","applyvisa.um.dk","visa.vfsglobal.com/ind/en/dnk"],Latvia:["pmlp.gov.lv","mfa.gov.lv","visa.vfsglobal.com/ind/en/lva"],Hungary:["oif.gov.hu","konzuliszolgalat.kormany.hu","visa.vfsglobal.com/ind/en/hun"],Portugal:["vistos.mne.gov.pt","visa.vfsglobal.com/ind/en/prt"],Belgium:["dofi.ibz.be","visa.vfsglobal.com/ind/en/bel","diplomatie.belgium.be"],Poland:["gov.pl","visa.vfsglobal.com/ind/en/pol"],"United Arab Emirates":["u.ae","icp.gov.ae","gdrfad.gov.ae"],Singapore:["ica.gov.sg","mfa.gov.sg"],"Schengen Area":["ec.europa.eu"]},ph=(t,e)=>{if(!t)return!1;const n=(e||"").toLowerCase().trim(),r=String(t).toLowerCase();if(["atlys","ivisa","wikipedia","quora","reddit","tripadvisor","makemytrip","cleartrip","goibibo","easemytrip","handyvisas","skyscanner","kayak","booking.com","agoda","travel.usnews","visaguide.world","thomascook","akbartravels","schengenvisainfo"].some(o=>r.includes(o)))return!1;const i=Object.keys(Vn).find(o=>n.includes(o.toLowerCase()));return!!(i&&Vn[i].some(a=>r.includes(a))||r.includes(".gov")||r.includes("gov.")||r.includes(".go.")||r.includes(".gc.ca")||r.includes(".europa.eu")||r.includes(".mil")||r.includes(".nic.in")||r.includes(".gouv")||r.includes(".gob")||r.includes(".diplo")||r.includes("mfa.")||r.includes(".int")||r.includes("vfsglobal")||r.includes("blsinternational")||r.includes("tlscontact")||r.includes("ustraveldocs")||r.includes("ceac.state.gov")||r.includes("gvcworld"))},eD=(t,e)=>{let n=50,r=[];const s=(e||"").toLowerCase().trim(),o=(t.officialSources||[]).filter(v=>ph(v.url,s)),a=Object.keys(Vn).find(v=>s.includes(v.toLowerCase())),l=a?Vn[a]:[];(l.length>0?o.some(v=>l.some(w=>(v.url||"").toLowerCase().includes(w))):!1)?(n+=35,r.push("Verified against official Government allow-list.")):o.length>0?(n+=25,r.push(a?"Sourced from partner domains.":"Verified via official Government TLDs.")):(n-=30,r.push(" No official government sources verified."));const h=String(t.cost||"").toLowerCase();h&&/\d/.test(h)&&!h.includes("vary")&&(n+=5);const m=String(t.processingTime||"");m&&/\d/.test(m)&&(n+=5);const g=String(t.notes||"").toLowerCase();return(g.includes("vfs")||g.includes("bls"))&&(n+=5),n=Math.min(Math.max(n,10),99),{score:n,analysis:r.join(" ")}},bv=(t,e)=>{const n=(e||"").toLowerCase(),r=Object.keys(Vn).find(s=>n.includes(s.toLowerCase()));return r&&Vn[r].some(i=>String(t).toLowerCase().includes(i))?"Gold":t.includes(".gov")||t.includes(".europa.eu")?"Silver":"Bronze"},qe=(t,e="")=>t==null?e:String(t).trim(),tD=async(t,e,n,r)=>{var P,A,x,k,D,U;const s=Ps(),i=(n||"").trim(),o=tm(),a=mT(),l=Object.keys(Vn).find(V=>i.toLowerCase().includes(V.toLowerCase())),c=l?Vn[l].join(", "):"Official government websites, embassies, or consulates",h=`
    You are the "EEC Chief Immigration Officer", a specialized AI for Indian citizens.
    Current Date: ${o}.
    
    CRITICAL E-E-A-T MANDATE:
    1.  LEGAL CITATIONS: You MUST cite specific immigration acts where possible (e.g. "Section 214(b) of INA" for USA, "Immigration Rules Appendix V" for UK).
    2.  SOURCE TRUTH: Prioritize specific government sources if available. For ${i}, look for: ${c}.
    3.  IGNORE AGGREGATORS: Do not look at Atlys, iVisa, Wikipedia.
    4.  CONTEXT: User is an Indian Citizen from ${e}.
    5.  OUTPUT: Return raw JSON ONLY matching the provided structure.
  `,m=`
    Report on ${r} visa for ${i} (Indian Passport).
    Context: Today is ${o}. Ensure all data (fees, processing times) is current as of ${a}.
    Search Query: "Official ${i} visa requirements for Indian citizens ${e} government consulate ${a}"
    Search Query: "Official visa fees ${i} India ${a}"
    Search Query: "${i} visa rejection reasons for Indian students ${a}"

    Return the response as a VALID JSON Object with the following structure:
    {
        "visaName": "string",
        "status": "string",
        "duration": "string",
        "validity": "string",
        "cost": "string",
        "processingTime": "string",
        "summary": "string",
        "documents": ["string", "string"],
        "processSteps": ["string", "string"],
        "difficulty": "Easy" | "Medium" | "Hard",
        "financialReqs": "string",
        "photoReqs": "string",
        "insuranceReqs": "string",
        "accommodationReqs": "string",
        "notes": "string",
        "embassyContact": "string",
        "officialSources": [{ "title": "string", "url": "string" }],
        "lastUpdate": "string",
        "confidenceScore": number,
        "aiAnalysis": "string",
        "legalCitations": ["string"],
        "rejectionRisk": {
            "probability": "Low" | "Moderate" | "High",
            "primaryReason": "string",
            "mitigationTip": "string"
        }
    }
  `;let g;try{g=await s.models.generateContent({model:"gemini-2.5-flash",contents:m,config:{systemInstruction:h,tools:[{googleSearch:{}}]}})}catch(V){throw console.error("API Error during fetch:",V),new Error("Unable to connect to visa intelligence service.")}let v={visaName:`${r} Visa for ${i}`,status:"Manual Verification Required",summary:"We could not automatically verify requirements for this specific destination at this time. Please check official embassy sources directly.",documents:[],processSteps:[],officialSources:[],difficulty:"Medium",confidenceScore:0,aiAnalysis:"Data generation failed or was incomplete.",cost:"Check Embassy",validity:"Check Embassy",processingTime:"Check Embassy",duration:"Check Embassy",financialReqs:"",photoReqs:"",insuranceReqs:"",accommodationReqs:"",notes:"Automated verification failed."};try{let V="";if(g&&g.candidates&&g.candidates.length>0)try{V=(g.text||"{}").trim()}catch{V=((x=(A=(P=g.candidates[0].content)==null?void 0:P.parts)==null?void 0:A[0])==null?void 0:x.text)||"{}"}else V="{}";const T=V.match(/```json([\s\S]*?)```/)||V.match(/```([\s\S]*?)```/);if(T)V=T[1];else{const S=V.indexOf("{"),b=V.lastIndexOf("}");S!==-1&&b!==-1&&(V=V.substring(S,b+1))}const E=JSON.parse(V);E&&typeof E=="object"&&!Array.isArray(E)&&(v={...v,...E})}catch(V){console.warn("Gemini returned invalid JSON. Using partial fallback.",V)}v.documents=Array.isArray(v.documents)?v.documents.filter(V=>V!=null).map(String):[],v.processSteps=Array.isArray(v.processSteps)?v.processSteps.filter(V=>V!=null).map(String):[],v.legalCitations=Array.isArray(v.legalCitations)?v.legalCitations.filter(V=>V!=null).map(String):[],Array.isArray(v.officialSources)?v.officialSources=v.officialSources.filter(V=>V&&typeof V=="object").map(V=>({title:qe(V.title,"Official Source"),url:qe(V.url,""),authorityLevel:V.authorityLevel})):v.officialSources=[],v.processingTime=qe(v.processingTime,"Check Embassy"),v.cost=qe(v.cost,"Check Embassy"),v.validity=qe(v.validity,"Check Embassy"),v.duration=qe(v.duration,"Check Embassy"),v.status=qe(v.status,"Check Embassy"),v.visaName=qe(v.visaName,`${r} Visa`),v.notes=qe(v.notes),v.embassyContact=qe(v.embassyContact),v.summary=qe(v.summary,"Details unavailable."),v.financialReqs=qe(v.financialReqs),v.photoReqs=qe(v.photoReqs),v.insuranceReqs=qe(v.insuranceReqs),v.accommodationReqs=qe(v.accommodationReqs),v.aiAnalysis=qe(v.aiAnalysis),v.difficulty=["Easy","Medium","Hard"].includes(v.difficulty)?v.difficulty:"Medium",v.confidenceScore=typeof v.confidenceScore=="number"?v.confidenceScore:50,!v.rejectionRisk||typeof v.rejectionRisk!="object"?v.rejectionRisk={probability:"Moderate",primaryReason:"Generic Documentation Errors",mitigationTip:"Ensure all documents are original and verifiable."}:(v.rejectionRisk.probability=qe(v.rejectionRisk.probability,"Moderate"),v.rejectionRisk.primaryReason=qe(v.rejectionRisk.primaryReason,"Standard Scrutiny"),v.rejectionRisk.mitigationTip=qe(v.rejectionRisk.mitigationTip,"Check official guidelines."));let w=[];g&&((U=(D=(k=g.candidates)==null?void 0:k[0])==null?void 0:D.groundingMetadata)!=null&&U.groundingChunks)&&(w=(g.candidates[0].groundingMetadata.groundingChunks||[]).filter(T=>{var E,S;return((E=T.web)==null?void 0:E.uri)&&((S=T.web)==null?void 0:S.title)}).map(T=>({title:String(T.web.title),url:String(T.web.uri),authorityLevel:bv(String(T.web.uri),i)})).filter(T=>ph(T.url,i))),v.officialSources&&v.officialSources.filter(T=>ph(T.url,i)).forEach(T=>{w.some(E=>E.url===T.url)||w.push({...T,authorityLevel:bv(T.url,i)})}),v.officialSources=w;const I=eD(v,i);return v.confidenceScore=I.score,v.aiAnalysis=I.analysis,v},nD=async(t,e)=>{const n=Ps(),r=`Identify the Indian State for these coordinates: Latitude ${t}, Longitude ${e}. Return ONLY the state name.`,s=await n.models.generateContent({model:"gemini-2.5-flash",contents:r});return qe(s.text).replace(/['".]/g,"")||""},rD=async(t,e)=>{const n=Ps(),r=`Translate values to ${e}. Keep keys English. Object: ${JSON.stringify(t)}`,s=await n.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}});let i={};try{i=JSON.parse(s.text||"{}")}catch{i={}}const o={...t,...i};return o.documents=Array.isArray(o.documents)?o.documents.map(String):t.documents,o.processSteps=Array.isArray(o.processSteps)?o.processSteps.map(String):t.processSteps,o},sD=async(t,e,n,r)=>{const s=Ps(),i=`Create a strict "Forensic Document Checklist" for ${r} visa to ${n} for a resident of ${e}, ${t}. Focus on rejection reasons.`,o=await s.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:mt.ARRAY,items:{type:mt.OBJECT,properties:{categoryName:{type:mt.STRING},items:{type:mt.ARRAY,items:{type:mt.OBJECT,properties:{item:{type:mt.STRING},description:{type:mt.STRING},isCritical:{type:mt.BOOLEAN}}}}}}}}});try{const a=JSON.parse(o.text||"[]");return Array.isArray(a)?a:[]}catch{return[]}},iD=async(t,e,n,r,s)=>{const i=Ps(),o=qe(s).toLowerCase(),a=tm(),l=Object.keys(Vn).find(w=>o.includes(w.toLowerCase())),c=l?Vn[l]:[];let h="";c.length>0?h=`
        STRICT GROUNDING RULE:
        You must prioritize and verify information against these OFFICIAL domains: ${c.join(", ")}.
        If you need to search for new information, REJECT any source that is not a government (.gov) site or one of the listed domains.
        `:h=`
        STRICT GROUNDING RULE:
        As specific URL rules are not pre-configured for ${s}, you must strictly adhere to this heuristic:
        1. TRUST ONLY: Websites ending in .gov, .gob, .gouv, .mil, .int, or official VFS/BLS/TLS partner sites.
        2. REJECT: Blogs, News sites, Wikipedia, iVisa, Atlys, and other aggregators.
        3. TRANSPARENCY: If you cannot find the answer on an official government site, explicitly state: "I cannot verify this with an official government source."
        `;const m=`
    You are the **EEC Expert Visa Consultant** from **Enbee Education Center (EEC)**, Gujarat's premier study abroad consultancy (Est. 1997).
    Current Date: ${a}.
    
    Context Data: ${JSON.stringify(n)}.
    User Language: ${r}.
    Destination: ${s}.
    
    ${h}

    BEHAVIOR:
    1. BRAND AUTHORITY: Always speak with the senior authority of EEC. You are NOT a generic AI. You are a consultant with 27 years of legacy.
    2. FORENSIC TONE: Use terms like "Consular Protocol", "Risk Assessment", "Financial Forensics", and "Documentation Integrity".
    3. SOURCE CITATION: When providing facts (fees, documents), cite the source domain in brackets e.g. [travel.state.gov].
    4. JURISDICTION AWARENESS: Always check the user's state (${n.embassyContact}) before advising on where to apply.
    5. If the user asks a NEW question, use the Google Search tool.
    6. ALWAYS apply the STRICT GROUNDING RULE to search results.
    `;return(await i.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:m,tools:[{googleSearch:{}}]},history:t}).sendMessage({message:e})).text||"No response generated."},oD=async(t,e)=>{const n=Ps();if(e==="English")return t;const r=`Translate to ${e}: ${t}`;return(await n.models.generateContent({model:"gemini-2.5-flash",contents:r})).text||t},aD=async(t,e)=>{const n=Ps(),r=tm(),s=mT(),i=`
    Act as the Chief Consular Officer for Enbee Education Center (Est 1997).
    Generate a strict "Internal Visa Bulletin" for ${t} ${e} Visa for Indian applicants.
    Context: Today is ${r}.
    
    Return VALID JSON ONLY:
    {
      "bulletinId": "EEC-${s}-[RANDOM_4_DIGIT]",
      "riskLevel": "Low" | "Medium" | "High",
      "economicTiesAnalysis": "2 sentences on what proves 'Economic Ties' specifically for ${t}.",
      "consularPsychology": "2 sentences on what the Visa Officer is subconsciously looking for in the interview.",
      "documentForensics": {
          "document": "Name of 1 specific sensitive document (e.g. Bank Statement)",
          "forgeryErrorReason": "1 common forensic error or forgery reason to avoid"
      },
      "recentPolicyShift": "Mention 1 recent or upcoming policy change/trend for ${s}."
    }
    `;try{const o=await n.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json"}}),a=JSON.parse(o.text||"{}");return a.riskLevel&&!["Low","Medium","High"].includes(a.riskLevel)&&(a.riskLevel="Medium"),a}catch(o){return console.error("Bulletin Gen Error",o),{bulletinId:"EEC-AUTO-FAIL",riskLevel:"Medium",economicTiesAnalysis:"Standard financial proof required.",consularPsychology:"Confidence and clarity are key.",documentForensics:"Ensure all bank statements are original.",recentPolicyShift:"Standard scrutiny applies."}}},qu=[{"@type":"EducationalOrganization",name:"EEC Alkapuri",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor,B-Wing,Windsor Plaza, Rc Dutt Rd, Alkapuri, Vadodara",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8000506539",url:"https://Wa.Me/918000506539"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750036",url:"https://Wa.Me/918758750036"}],counselors:[{name:"Tabassum Khan",phone:"8758750036",email:"eeccouns009@gmail.com"},{name:"Tanvi Pathak",phone:"8758880430",email:"eeccouns60@gmail.com"}],hasMap:"https://maps.app.goo.gl/2Fw9ZqQ2cxPnc7oG7",identifier:"1"},{"@type":"EducationalOrganization",name:"EEC Nizampura",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Procube Complex, Nizampura Rd, Above Gsrtc Bus Station, Nizampura Main Road, Vadodara.",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758753333",url:"https://Wa.Me/918758753333"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 9375974748",url:"https://Wa.Me/919375974748"}],counselors:[{name:"Janvi Mahajan",phone:"8758880045",email:"eecapply15@gmail.com"},{name:"Riddhesh Vyas",phone:"8758880590",email:"eeccouns57@gmail.com"},{name:"Kedar Bhatt",phone:"8758880073",email:"eeccouns58@gmail.com"},{name:"Jeel Patel",phone:"",email:"eecapply14@gmail.com"}],hasMap:"https://maps.app.goo.gl/YdvZNZxtHWd2yc8c6",identifier:"2"},{"@type":"EducationalOrganization",name:"EEC Manjalpur",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Infinity Arcade Opposite Pratapnagar Police Hq Ongc Dairy Road, Manjalpur, Vadodara.",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750037",url:"https://Wa.Me/918758750037"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758884882",url:"https://Wa.Me/918758884882"}],counselors:[{name:"Nilay Kapadiya",phone:"8758880015",email:"eeccouns39@gmail.com"}],hasMap:"https://maps.app.goo.gl/UnPqodGxMcrEo3Fz5",identifier:"3"},{"@type":"EducationalOrganization",name:"EEC Manjalpur",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Infinity Arcade Opposite Pratapnagar Police Hq Ongc Dairy Road, Manjalpur, Vadodara.",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750037",url:"https://Wa.Me/918758750037"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758884882",url:"https://Wa.Me/918758884882"}],counselors:[{name:"Himani Soni",phone:"8758884882",email:"eeccouns026@gmail.com"}],hasMap:"https://maps.app.goo.gl/UnPqodGxMcrEo3Fz5",identifier:"11"},{"@type":"EducationalOrganization",name:"EEC New Vip Road",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Shree Siddheshwar Plaza, New Vip Rd, Sheshnarayan Society, Sardar Estate, Sayaji Park Society, Vadodara.",addressLocality:"Vadodara",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750040",url:"https://Wa.Me/918758750040"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880034",url:"https://Wa.Me/918758880034"}],counselors:[{name:"Jaymika Patel",phone:"8758880034",email:"eeccouns005@gmail.com"}],hasMap:"https://maps.app.goo.gl/KuJKjF8j3HPnjaDf6",identifier:"4"},{"@type":"EducationalOrganization",name:"EEC Nadiad",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Nexus 2, College Rd, Opposite Mcdonalds, Nadiad",addressLocality:"Nadiad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880010",url:"https://Wa.Me/918758880010"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880670",url:"https://Wa.Me/918758880670"}],counselors:[{name:"Ayushi Makwana",phone:"8758880010",email:"eeccouns34@gmail.com"},{name:"Dhruti Kabra",phone:"87588 80670",email:"eecaustralia01@gmail.com"}],hasMap:"https://maps.app.goo.gl/RTNfRzf4G8Tdejrz5",identifier:"5"},{"@type":"EducationalOrganization",name:"EEC Vallabh Vidyanagar Anand",address:{"@type":"PostalAddress",streetAddress:"1St Floor, Sigma Prime Complex, Above Royal Enfield, Sardar Patel Statue Circle, Janta Road, Vallabh Vidyanagar, Anand",addressLocality:"Anand",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758882884",url:"https://Wa.Me/918758882884"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758882884",url:"https://Wa.Me/918758882884"}],counselors:[{name:"Anuj Sir",phone:"8758750014",email:"eecvvnusa@gmail.com"},{name:"Kavita Pillai",phone:"8758882884",email:"eeccouns35@gmail.com"}],hasMap:"https://maps.app.goo.gl/DQ6cuxAXGSncLrYbA",identifier:"6"},{"@type":"EducationalOrganization",name:"EEC Parvat Patia (Dumbhal)",address:{"@type":"PostalAddress",streetAddress:"Ug10, Ams, Shri Vardhan Textile Market Above Zudio & Opp. Samrat International School, Dumbhal, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880210",url:"https://Wa.Me/918758880210"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880210",url:"https://Wa.Me/918758880210"}],counselors:[{name:"Vidhi Vaghela",phone:"8758880210",email:"eecparvatpatiya@gmail.com"}],hasMap:"https://maps.app.goo.gl/v4X4Xn9drJngRj2h9",identifier:"7"},{"@type":"EducationalOrganization",name:"EEC Mota Varachha",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Opera Business Hub, Lajamni Chowk, Mota Varachha, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750018",url:"https://Wa.Me/918758750018"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880035",url:"https://Wa.Me/918758880035"}],counselors:[{name:"Priya Parsaniya",phone:"8758880035",email:"eecvarachacanada@gmail.com"}],hasMap:"https://maps.app.goo.gl/zhgM8HA2CjJu8c6m9",identifier:"8"},{"@type":"EducationalOrganization",name:"EEC Katargam",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Neeru Farms, Rajhans Flamingo, Gajera Rd, Priya Park Society, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880160",url:"https://Wa.Me/918758880160"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880630",url:"https://Wa.Me/918758880630"}],counselors:[{name:"Gaurang Badhivala",phone:"8758880630",email:"eeccouns49@gmail.com"}],hasMap:"https://maps.app.goo.gl/6NfEPdx7ThDbkjtm8",identifier:"9"},{"@type":"EducationalOrganization",name:"EEC Ghod Dod Road",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Jade Blue Union Square, Ghod Dod Rd, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758757777",url:"https://Wa.Me/918758757777"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880170",url:"https://Wa.Me/918758880170"}],counselors:[{name:"Sejal Chavda",phone:"9227112456",email:"eeccouns59@gmail.com"},{name:"Foram Umrigar",phone:"8758880170",email:"eeccouns017@gmail.com"}],hasMap:"https://maps.app.goo.gl/C3wzygXWeAHW6b8t5",identifier:"10"},{"@type":"EducationalOrganization",name:"EEC Vesu",address:{"@type":"PostalAddress",streetAddress:"1St Floor, International Finance Centre, Ifc, Vip Rd, Vesu, Surat",addressLocality:"Surat",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750029",url:"https://Wa.Me/918758750029"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750029",url:"https://Wa.Me/918758750029"}],counselors:[{name:"Prachi Jain",phone:"8758750029",email:"eecvesu@gmail.com"}],hasMap:"https://maps.app.goo.gl/dNUVu7cD7nE4mbcBA",identifier:"11"},{"@type":"EducationalOrganization",name:"EEC Vapi",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Eec, Isquare Building, Daman Rd, Opposite Axis Bank, Daulat Nagar,Vapi",addressLocality:"Vapi",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880040",url:"https://Wa.Me/918758880040"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880040",url:"https://Wa.Me/918758880040"}],counselors:[{name:"Aditya Singh",phone:"8758880040",email:"eecvisavapi@gmail.com"}],hasMap:"https://maps.app.goo.gl/YiLTBLZhCm6rBdnD8",identifier:"12"},{"@type":"EducationalOrganization",name:"EEC Navsari",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Sachi Arcade Opp. Prajapati Ashram, Khumbharwad, Navsari",addressLocality:"Navsari",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880055",url:"https://Wa.Me/918758880055"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880055",url:"https://Wa.Me/918758880055"}],counselors:[{name:"Shrushti Lad",phone:"8758880055",email:"eeccouns48@gmail.com"},{name:"",phone:"",email:"eecnavsarivisa@gmail.com"},{name:"Shrushti Gandhi",phone:"6355511406",email:"eeccouns42@gmail.com"}],hasMap:"https://maps.app.goo.gl/MS9E6Rc53e8LA9Ly7",identifier:"13"},{"@type":"EducationalOrganization",name:"EEC Bharuch",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Shalimar Complex, Above Reliance Mart, Station Road, Bharuch",addressLocality:"Bharuch",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758884889",url:"https://Wa.Me/918758884889"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758884889",url:"https://Wa.Me/918758884889"}],counselors:[{name:"Darshan Raj",phone:"8758884889",email:"eecbharuchvisa@gmail.com"}],hasMap:"https://maps.app.goo.gl/VBAtqRoL3PiH4oBL9",identifier:"14"},{"@type":"EducationalOrganization",name:"EEC Memnagar",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Satya One, Opp. Manav Mandir, Helmet Circle, Memnagar, Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758883889",url:"https://Wa.Me/918758883889"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880310",url:"https://Wa.Me/918758880310"}],counselors:[{name:"Vishwa Shah",phone:"8758880100",email:"eecukahmvisa@gmail.com"},{name:"Krima Nayak",phone:"8758880490",email:"eeccouns54@gmail.com"},{name:"Sumit Ahuja",phone:"8758880310",email:"eeccouns032@gmail.com"},{name:"Harshil Desai",phone:"8758880510",email:"eecghatlodiyavisa01@gmail.com"}],hasMap:"https://maps.app.goo.gl/HabxCB5xTpg2CDwg6",identifier:"15"},{"@type":"EducationalOrganization",name:"EEC Ghatlodiya",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Shayona Sarvopari Shayona City, R.C. Technical Road Shayona City, Road, Ghatlodiya, Chanakyapuri, Ahmedabad,",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880710",url:"https://Wa.Me/918758880710"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880510",url:"https://Wa.Me/918758880510"}],counselors:[{name:"Astha Dhrangu",phone:"8758880018",email:"eecghatlodiyavisa@gmail.com"}],hasMap:"https://maps.app.goo.gl/svz3SdkthSb6k1Kd6",identifier:"16"},{"@type":"EducationalOrganization",name:"EEC Chandkheda",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Sigma Arcade, Above Vijay Sales, Near Visat Circle, Chandkheda , Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750010",url:"https://Wa.Me/918758750010"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750010",url:"https://Wa.Me/918758750010"}],counselors:[{name:"Sonal Shah",phone:"8758750010",email:"eecchandkheda@gmail.com"}],hasMap:"https://maps.app.goo.gl/y1ARGMfmyjMxun728",identifier:"17"},{"@type":"EducationalOrganization",name:"EEC Maninagar",address:{"@type":"PostalAddress",streetAddress:"4Th Floor, Prism Building, Below Apple Cinema, Shah Alam Tolnaka, Kankaria, Ahmedabad.",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 7096083333",url:"https://Wa.Me/917096083333"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880015",url:"https://Wa.Me/918758880015"}],counselors:[{name:"Nilay Kapadiya",phone:"8758880015",email:"eeccouns39@gmail.com"}],hasMap:"https://maps.app.goo.gl/zHAm836PeUWRQDDh7",identifier:"18"},{"@type":"EducationalOrganization",name:"EEC Odhav",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Kahan Commercial Complex, Sardar Patel Ring Rd, Above Vijay Sales, Gokul Nagar, Adinath Nagar, Odhav, Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758881885",url:"https://Wa.Me/918758881885"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758881885",url:"https://Wa.Me/918758881885"}],counselors:[{name:"Akib Vahora",phone:"8758881885",email:"eeccouns55@gmail.com"},{name:"Gurpreet Khalsa",phone:"8758880570",email:"eeccouns38@gmail.com"}],hasMap:"https://maps.app.goo.gl/AM2hxunaJJw1mQes5",identifier:"19"},{"@type":"EducationalOrganization",name:"EEC Nikol",address:{"@type":"PostalAddress",streetAddress:"3Rd Floor, Suvas Scala, Opp. Nikol Police Station, Nikol, Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880700",url:"https://Wa.Me/918758880700"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880700",url:"https://Wa.Me/918758880700"}],counselors:[{name:"Vaibhavi Gajjar",phone:"8758880700",email:"eecnikolvisa@gmail.com"}],hasMap:"https://maps.app.goo.gl/wmFoU7EjVnZ6fUBU6",identifier:"20"},{"@type":"EducationalOrganization",name:"EEC Bapunagar",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, White House, India Colony Road, Opposite Swaminarayan Mandir,Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880320",url:"https://Wa.Me/918758880320"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880390",url:"https://Wa.Me/918758880390"}],counselors:[{name:"Simmy Pandey",phone:"8758880390",email:"eecbapunagarvisa01@gmail.com"},{name:"Jeel Jain",phone:"8758880390",email:"eecbapunagarvisa01@gmail.com"}],hasMap:"https://maps.app.goo.gl/TrwUQNXy2u2QA7vWA",identifier:"21"},{"@type":"EducationalOrganization",name:"EEC Naroda",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Sahitya Hills & Icon, Above Style Up Store, Muktidham Char Rasta, Vasant Vihar 2, Naroda, Ahmedabad",addressLocality:"Ahmedabad",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880730",url:"https://Wa.Me/918758880730"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880730",url:"https://Wa.Me/918758880730"}],counselors:[{name:"Rachita Vyas",phone:"8758880032",email:"eecnarodavisa@gmail.com"}],hasMap:"https://maps.app.goo.gl/Ec65JHFzi4cy1e459",identifier:"22"},{"@type":"EducationalOrganization",name:"EEC Kalol",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Above Raymond, Near Hdfc Bank, Navjivan Mill Compound, Memon Market, Kalol",addressLocality:"Kalol",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750090",url:"https://Wa.Me/918758750090"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750090",url:"https://Wa.Me/918758750090"}],counselors:[{name:"Hiral Barot",phone:"8758750090",email:"eeckalol@gmail.com"}],hasMap:"https://maps.app.goo.gl/J7JbtSYwE9rRkXbi9",identifier:"23"},{"@type":"EducationalOrganization",name:"EEC Himatnagar",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Platinum Square Building, Opposite Post Office, Himatnagar",addressLocality:"Himatnagar",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750080",url:"https://Wa.Me/918758750080"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880080",url:"https://Wa.Me/918758880080"}],counselors:[{name:"Nishank Doshi",phone:"8758750080",email:"eechimatnagar@gmail.com"}],hasMap:"https://maps.app.goo.gl/KcBi8DfDZ4mzsnnu5",identifier:"24"},{"@type":"EducationalOrganization",name:"EEC Mehsana",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Perfect Plaza, Near Aayush Hospital, Radhanpur Road, Mehsana",addressLocality:"Mehsana",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758880886",url:"https://Wa.Me/918758880886"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758880069",url:"https://Wa.Me/918758880069"}],counselors:[{name:"Honey",phone:"8758880069",email:"eecahmusa@gmail.com"}],hasMap:"https://maps.app.goo.gl/HACNeuMnYg56HdTf6",identifier:"25"},{"@type":"EducationalOrganization",name:"EEC Visnagar",address:{"@type":"PostalAddress",streetAddress:"2Nd Floor, Above Shukan Restaurant Visnagar Kheralu Road, Visnagar",addressLocality:"Visnagar",addressRegion:"Gujarat",addressCountry:"India"},contactPoint:[{"@type":"ContactPoint",contactType:"Coaching Information",telephone:"+91 8758750086",url:"https://Wa.Me/918758750086"},{"@type":"ContactPoint",contactType:"Admission and Visa Information",telephone:"+91 8758750086",url:"https://Wa.Me/918758750086"}],counselors:[{name:"No counselor listed",phone:"8758750086",email:""}],hasMap:"https://maps.app.goo.gl/WYhAJgDMYTwbLHUY6",identifier:"26"}],lD=()=>{};var Pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,m=(i&3)<<4|a>>4;let g=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(g=64)),r.push(n[h],n[m],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||m==null)throw new cD;const g=i<<2|a>>4;if(r.push(g),c!==64){const v=a<<4&240|c>>2;if(r.push(v),m!==64){const w=c<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dD=function(t){const e=gT(t);return yT.encodeByteArray(e,!0)},Bu=function(t){return dD(t).replace(/\./g,"")},vT=function(t){try{return yT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=()=>fD().__FIREBASE_DEFAULTS__,pD=()=>{if(typeof process>"u"||typeof Pv>"u")return;const t=Pv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vT(t[1]);return e&&JSON.parse(e)},Rc=()=>{try{return lD()||hD()||pD()||mD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_T=t=>{var e,n;return(n=(e=Rc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gD=t=>{const e=_T(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wT=()=>{var t;return(t=Rc())==null?void 0:t.config},ET=t=>{var e;return(e=Rc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bu(JSON.stringify(n)),Bu(JSON.stringify(o)),""].join(".")}const jo={};function _D(){const t={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?t.emulator.push(e):t.prod.push(e);return t}function wD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Mv=!1;function TT(t,e){if(typeof window>"u"||typeof document>"u"||!zi(window.location.host)||jo[t]===e||jo[t]||Mv)return;jo[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=_D().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Mv=!0,o()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=wD(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),I=n("learnmore"),P=document.getElementById(I)||document.createElement("a"),A=n("preprendIcon"),x=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;a(k),h(P,I);const D=c();l(x,A),k.append(x,w,P,D),document.body.appendChild(k)}i?(w.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ED(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function xD(){var e;const t=(e=Rc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ID(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AD(){return!xD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kD(){try{return typeof indexedDB=="object"}catch{return!1}}function ND(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="FirebaseError";class sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RD,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fa.prototype.create)}}class Fa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?bD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new sr(s,a,r)}}function bD(t,e){return t.replace(PD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PD=/\{\$([^}]+)}/g;function MD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ts(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Dv(i)&&Dv(o)){if(!Ts(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Dv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DD(t,e){const n=new VD(t,e);return n.subscribe.bind(n)}class VD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Kd),s.error===void 0&&(s.error=Kd),s.complete===void 0&&(s.complete=Kd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OD(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FD(t){return t===ls?void 0:t}function OD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const BD={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},GD=ce.INFO,HD={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},zD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=HD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nm{constructor(e){this.name=e,this._logLevel=GD,this._logHandler=zD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const $D=(t,e)=>e.some(n=>t instanceof n);let Vv,Lv;function jD(){return Vv||(Vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WD(){return Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,mh=new WeakMap,CT=new WeakMap,Jd=new WeakMap,rm=new WeakMap;function KD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Pr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ST.set(n,t)}).catch(()=>{}),rm.set(e,t),e}function JD(t){if(mh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});mh.set(t,e)}let gh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YD(t){gh=t(gh)}function QD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yd(this),e,...n);return CT.set(r,e.sort?e.sort():[e]),Pr(r)}:WD().includes(t)?function(...e){return t.apply(Yd(this),e),Pr(ST.get(this))}:function(...e){return Pr(t.apply(Yd(this),e))}}function XD(t){return typeof t=="function"?QD(t):(t instanceof IDBTransaction&&JD(t),$D(t,jD())?new Proxy(t,gh):t)}function Pr(t){if(t instanceof IDBRequest)return KD(t);if(Jd.has(t))return Jd.get(t);const e=XD(t);return e!==t&&(Jd.set(t,e),rm.set(e,t)),e}const Yd=t=>rm.get(t);function ZD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Pr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Pr(o.result),l.oldVersion,l.newVersion,Pr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const e4=["get","getKey","getAll","getAllKeys","count"],t4=["put","add","delete","clear"],Qd=new Map;function Uv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=t4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Qd.set(e,i),i}YD(t=>({...t,get:(e,n,r)=>Uv(e,n)||t.get(e,n,r),has:(e,n)=>!!Uv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yh="@firebase/app",Fv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new nm("@firebase/app"),s4="@firebase/app-compat",i4="@firebase/analytics-compat",o4="@firebase/analytics",a4="@firebase/app-check-compat",l4="@firebase/app-check",u4="@firebase/auth",c4="@firebase/auth-compat",d4="@firebase/database",f4="@firebase/data-connect",h4="@firebase/database-compat",p4="@firebase/functions",m4="@firebase/functions-compat",g4="@firebase/installations",y4="@firebase/installations-compat",v4="@firebase/messaging",_4="@firebase/messaging-compat",w4="@firebase/performance",E4="@firebase/performance-compat",x4="@firebase/remote-config",T4="@firebase/remote-config-compat",S4="@firebase/storage",C4="@firebase/storage-compat",I4="@firebase/firestore",A4="@firebase/ai",k4="@firebase/firestore-compat",N4="firebase",R4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="[DEFAULT]",b4={[yh]:"fire-core",[s4]:"fire-core-compat",[o4]:"fire-analytics",[i4]:"fire-analytics-compat",[l4]:"fire-app-check",[a4]:"fire-app-check-compat",[u4]:"fire-auth",[c4]:"fire-auth-compat",[d4]:"fire-rtdb",[f4]:"fire-data-connect",[h4]:"fire-rtdb-compat",[p4]:"fire-fn",[m4]:"fire-fn-compat",[g4]:"fire-iid",[y4]:"fire-iid-compat",[v4]:"fire-fcm",[_4]:"fire-fcm-compat",[w4]:"fire-perf",[E4]:"fire-perf-compat",[x4]:"fire-rc",[T4]:"fire-rc-compat",[S4]:"fire-gcs",[C4]:"fire-gcs-compat",[I4]:"fire-fst",[k4]:"fire-fst-compat",[A4]:"fire-vertex","fire-js":"fire-js",[N4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,P4=new Map,_h=new Map;function Ov(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ki(t){const e=t.name;if(_h.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;_h.set(e,t);for(const n of Gu.values())Ov(n,t);for(const n of P4.values())Ov(n,t);return!0}function sm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Fa("app","Firebase",M4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=R4;function IT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Mr.create("bad-app-name",{appName:String(s)});if(n||(n=wT()),!n)throw Mr.create("no-options");const i=Gu.get(s);if(i){if(Ts(n,i.options)&&Ts(r,i.config))return i;throw Mr.create("duplicate-app",{appName:s})}const o=new qD(s);for(const l of _h.values())o.addComponent(l);const a=new D4(n,r,o);return Gu.set(s,a),a}function AT(t=vh){const e=Gu.get(t);if(!e&&t===vh&&wT())return IT();if(!e)throw Mr.create("no-app",{appName:t});return e}function Dr(t,e,n){let r=b4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(o.join(" "));return}ki(new Ss(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="firebase-heartbeat-database",L4=1,ya="firebase-heartbeat-store";let Xd=null;function kT(){return Xd||(Xd=ZD(V4,L4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Xd}async function U4(t){try{const n=(await kT()).transaction(ya),r=await n.objectStore(ya).get(NT(t));return await n.done,r}catch(e){if(e instanceof sr)Yn.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yn.warn(n.message)}}}async function qv(t,e){try{const r=(await kT()).transaction(ya,"readwrite");await r.objectStore(ya).put(e,NT(t)),await r.done}catch(n){if(n instanceof sr)Yn.warn(n.message);else{const r=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yn.warn(r.message)}}}function NT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1024,O4=30;class q4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Bv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>O4){const o=H4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bv(),{heartbeatsToSend:r,unsentEntries:s}=B4(this._heartbeatsCache.heartbeats),i=Bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Yn.warn(n),""}}}function Bv(){return new Date().toISOString().substring(0,10)}function B4(t,e=F4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Gv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Gv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kD()?ND().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Gv(t){return Bu(JSON.stringify({version:2,heartbeats:t})).length}function H4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){ki(new Ss("platform-logger",e=>new n4(e),"PRIVATE")),ki(new Ss("heartbeat",e=>new q4(e),"PRIVATE")),Dr(yh,Fv,t),Dr(yh,Fv,"esm2020"),Dr("fire-js","")}z4("");var $4="firebase",j4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr($4,j4,"app");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,RT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function S(){}S.prototype=E.prototype,T.F=E.prototype,T.prototype=new S,T.prototype.constructor=T,T.D=function(b,R,M){for(var N=Array(arguments.length-2),X=2;X<arguments.length;X++)N[X-2]=arguments[X];return E.prototype[R].apply(b,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,S){S||(S=0);const b=Array(16);if(typeof E=="string")for(var R=0;R<16;++R)b[R]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(R=0;R<16;++R)b[R]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=T.g[0],S=T.g[1],R=T.g[2];let M=T.g[3],N;N=E+(M^S&(R^M))+b[0]+3614090360&4294967295,E=S+(N<<7&4294967295|N>>>25),N=M+(R^E&(S^R))+b[1]+3905402710&4294967295,M=E+(N<<12&4294967295|N>>>20),N=R+(S^M&(E^S))+b[2]+606105819&4294967295,R=M+(N<<17&4294967295|N>>>15),N=S+(E^R&(M^E))+b[3]+3250441966&4294967295,S=R+(N<<22&4294967295|N>>>10),N=E+(M^S&(R^M))+b[4]+4118548399&4294967295,E=S+(N<<7&4294967295|N>>>25),N=M+(R^E&(S^R))+b[5]+1200080426&4294967295,M=E+(N<<12&4294967295|N>>>20),N=R+(S^M&(E^S))+b[6]+2821735955&4294967295,R=M+(N<<17&4294967295|N>>>15),N=S+(E^R&(M^E))+b[7]+4249261313&4294967295,S=R+(N<<22&4294967295|N>>>10),N=E+(M^S&(R^M))+b[8]+1770035416&4294967295,E=S+(N<<7&4294967295|N>>>25),N=M+(R^E&(S^R))+b[9]+2336552879&4294967295,M=E+(N<<12&4294967295|N>>>20),N=R+(S^M&(E^S))+b[10]+4294925233&4294967295,R=M+(N<<17&4294967295|N>>>15),N=S+(E^R&(M^E))+b[11]+2304563134&4294967295,S=R+(N<<22&4294967295|N>>>10),N=E+(M^S&(R^M))+b[12]+1804603682&4294967295,E=S+(N<<7&4294967295|N>>>25),N=M+(R^E&(S^R))+b[13]+4254626195&4294967295,M=E+(N<<12&4294967295|N>>>20),N=R+(S^M&(E^S))+b[14]+2792965006&4294967295,R=M+(N<<17&4294967295|N>>>15),N=S+(E^R&(M^E))+b[15]+1236535329&4294967295,S=R+(N<<22&4294967295|N>>>10),N=E+(R^M&(S^R))+b[1]+4129170786&4294967295,E=S+(N<<5&4294967295|N>>>27),N=M+(S^R&(E^S))+b[6]+3225465664&4294967295,M=E+(N<<9&4294967295|N>>>23),N=R+(E^S&(M^E))+b[11]+643717713&4294967295,R=M+(N<<14&4294967295|N>>>18),N=S+(M^E&(R^M))+b[0]+3921069994&4294967295,S=R+(N<<20&4294967295|N>>>12),N=E+(R^M&(S^R))+b[5]+3593408605&4294967295,E=S+(N<<5&4294967295|N>>>27),N=M+(S^R&(E^S))+b[10]+38016083&4294967295,M=E+(N<<9&4294967295|N>>>23),N=R+(E^S&(M^E))+b[15]+3634488961&4294967295,R=M+(N<<14&4294967295|N>>>18),N=S+(M^E&(R^M))+b[4]+3889429448&4294967295,S=R+(N<<20&4294967295|N>>>12),N=E+(R^M&(S^R))+b[9]+568446438&4294967295,E=S+(N<<5&4294967295|N>>>27),N=M+(S^R&(E^S))+b[14]+3275163606&4294967295,M=E+(N<<9&4294967295|N>>>23),N=R+(E^S&(M^E))+b[3]+4107603335&4294967295,R=M+(N<<14&4294967295|N>>>18),N=S+(M^E&(R^M))+b[8]+1163531501&4294967295,S=R+(N<<20&4294967295|N>>>12),N=E+(R^M&(S^R))+b[13]+2850285829&4294967295,E=S+(N<<5&4294967295|N>>>27),N=M+(S^R&(E^S))+b[2]+4243563512&4294967295,M=E+(N<<9&4294967295|N>>>23),N=R+(E^S&(M^E))+b[7]+1735328473&4294967295,R=M+(N<<14&4294967295|N>>>18),N=S+(M^E&(R^M))+b[12]+2368359562&4294967295,S=R+(N<<20&4294967295|N>>>12),N=E+(S^R^M)+b[5]+4294588738&4294967295,E=S+(N<<4&4294967295|N>>>28),N=M+(E^S^R)+b[8]+2272392833&4294967295,M=E+(N<<11&4294967295|N>>>21),N=R+(M^E^S)+b[11]+1839030562&4294967295,R=M+(N<<16&4294967295|N>>>16),N=S+(R^M^E)+b[14]+4259657740&4294967295,S=R+(N<<23&4294967295|N>>>9),N=E+(S^R^M)+b[1]+2763975236&4294967295,E=S+(N<<4&4294967295|N>>>28),N=M+(E^S^R)+b[4]+1272893353&4294967295,M=E+(N<<11&4294967295|N>>>21),N=R+(M^E^S)+b[7]+4139469664&4294967295,R=M+(N<<16&4294967295|N>>>16),N=S+(R^M^E)+b[10]+3200236656&4294967295,S=R+(N<<23&4294967295|N>>>9),N=E+(S^R^M)+b[13]+681279174&4294967295,E=S+(N<<4&4294967295|N>>>28),N=M+(E^S^R)+b[0]+3936430074&4294967295,M=E+(N<<11&4294967295|N>>>21),N=R+(M^E^S)+b[3]+3572445317&4294967295,R=M+(N<<16&4294967295|N>>>16),N=S+(R^M^E)+b[6]+76029189&4294967295,S=R+(N<<23&4294967295|N>>>9),N=E+(S^R^M)+b[9]+3654602809&4294967295,E=S+(N<<4&4294967295|N>>>28),N=M+(E^S^R)+b[12]+3873151461&4294967295,M=E+(N<<11&4294967295|N>>>21),N=R+(M^E^S)+b[15]+530742520&4294967295,R=M+(N<<16&4294967295|N>>>16),N=S+(R^M^E)+b[2]+3299628645&4294967295,S=R+(N<<23&4294967295|N>>>9),N=E+(R^(S|~M))+b[0]+4096336452&4294967295,E=S+(N<<6&4294967295|N>>>26),N=M+(S^(E|~R))+b[7]+1126891415&4294967295,M=E+(N<<10&4294967295|N>>>22),N=R+(E^(M|~S))+b[14]+2878612391&4294967295,R=M+(N<<15&4294967295|N>>>17),N=S+(M^(R|~E))+b[5]+4237533241&4294967295,S=R+(N<<21&4294967295|N>>>11),N=E+(R^(S|~M))+b[12]+1700485571&4294967295,E=S+(N<<6&4294967295|N>>>26),N=M+(S^(E|~R))+b[3]+2399980690&4294967295,M=E+(N<<10&4294967295|N>>>22),N=R+(E^(M|~S))+b[10]+4293915773&4294967295,R=M+(N<<15&4294967295|N>>>17),N=S+(M^(R|~E))+b[1]+2240044497&4294967295,S=R+(N<<21&4294967295|N>>>11),N=E+(R^(S|~M))+b[8]+1873313359&4294967295,E=S+(N<<6&4294967295|N>>>26),N=M+(S^(E|~R))+b[15]+4264355552&4294967295,M=E+(N<<10&4294967295|N>>>22),N=R+(E^(M|~S))+b[6]+2734768916&4294967295,R=M+(N<<15&4294967295|N>>>17),N=S+(M^(R|~E))+b[13]+1309151649&4294967295,S=R+(N<<21&4294967295|N>>>11),N=E+(R^(S|~M))+b[4]+4149444226&4294967295,E=S+(N<<6&4294967295|N>>>26),N=M+(S^(E|~R))+b[11]+3174756917&4294967295,M=E+(N<<10&4294967295|N>>>22),N=R+(E^(M|~S))+b[2]+718787259&4294967295,R=M+(N<<15&4294967295|N>>>17),N=S+(M^(R|~E))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.v=function(T,E){E===void 0&&(E=T.length);const S=E-this.blockSize,b=this.C;let R=this.h,M=0;for(;M<E;){if(R==0)for(;M<=S;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<E;)if(b[R++]=T.charCodeAt(M++),R==this.blockSize){s(this,b),R=0;break}}else for(;M<E;)if(b[R++]=T[M++],R==this.blockSize){s(this,b),R=0;break}}this.h=R,this.o+=E},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;E=this.o*8;for(var S=T.length-8;S<T.length;++S)T[S]=E&255,E/=256;for(this.v(T),T=Array(16),E=0,S=0;S<4;++S)for(let b=0;b<32;b+=8)T[E++]=this.g[S]>>>b&255;return T};function i(T,E){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=E(T)}function o(T,E){this.h=E;const S=[];let b=!0;for(let R=T.length-1;R>=0;R--){const M=T[R]|0;b&&M==E||(S[R]=M,b=!1)}this.g=S}var a={};function l(T){return-128<=T&&T<128?i(T,function(E){return new o([E|0],E<0?-1:0)}):new o([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return P(c(-T));const E=[];let S=1;for(let b=0;T>=S;b++)E[b]=T/S|0,S*=4294967296;return new o(E,0)}function h(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return P(h(T.substring(1),E));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(E,8));let b=m;for(let M=0;M<T.length;M+=8){var R=Math.min(8,T.length-M);const N=parseInt(T.substring(M,M+R),E);R<8?(R=c(Math.pow(E,R)),b=b.j(R).add(c(N))):(b=b.j(S),b=b.add(c(N)))}return b}var m=l(0),g=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-P(this).m();let T=0,E=1;for(let S=0;S<this.g.length;S++){const b=this.i(S);T+=(b>=0?b:4294967296+b)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(I(this))return"-"+P(this).toString(T);const E=c(Math.pow(T,6));var S=this;let b="";for(;;){const R=D(S,E).g;S=A(S,R.j(E));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(T);if(S=R,w(S))return M+b;for(;M.length<6;)M="0"+M;b=M+b}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(let E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=A(this,T),I(T)?-1:w(T)?0:1};function P(T){const E=T.g.length,S=[];for(let b=0;b<E;b++)S[b]=~T.g[b];return new o(S,~T.h).add(g)}t.abs=function(){return I(this)?P(this):this},t.add=function(T){const E=Math.max(this.g.length,T.g.length),S=[];let b=0;for(let R=0;R<=E;R++){let M=b+(this.i(R)&65535)+(T.i(R)&65535),N=(M>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);b=N>>>16,M&=65535,N&=65535,S[R]=N<<16|M}return new o(S,S[S.length-1]&-2147483648?-1:0)};function A(T,E){return T.add(P(E))}t.j=function(T){if(w(this)||w(T))return m;if(I(this))return I(T)?P(this).j(P(T)):P(P(this).j(T));if(I(T))return P(this.j(P(T)));if(this.l(v)<0&&T.l(v)<0)return c(this.m()*T.m());const E=this.g.length+T.g.length,S=[];for(var b=0;b<2*E;b++)S[b]=0;for(b=0;b<this.g.length;b++)for(let R=0;R<T.g.length;R++){const M=this.i(b)>>>16,N=this.i(b)&65535,X=T.i(R)>>>16,Se=T.i(R)&65535;S[2*b+2*R]+=N*Se,x(S,2*b+2*R),S[2*b+2*R+1]+=M*Se,x(S,2*b+2*R+1),S[2*b+2*R+1]+=N*X,x(S,2*b+2*R+1),S[2*b+2*R+2]+=M*X,x(S,2*b+2*R+2)}for(T=0;T<E;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=E;T<2*E;T++)S[T]=0;return new o(S,0)};function x(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function k(T,E){this.g=T,this.h=E}function D(T,E){if(w(E))throw Error("division by zero");if(w(T))return new k(m,m);if(I(T))return E=D(P(T),E),new k(P(E.g),P(E.h));if(I(E))return E=D(T,P(E)),new k(P(E.g),E.h);if(T.g.length>30){if(I(T)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var S=g,b=E;b.l(T)<=0;)S=U(S),b=U(b);var R=V(S,1),M=V(b,1);for(b=V(b,2),S=V(S,2);!w(b);){var N=M.add(b);N.l(T)<=0&&(R=R.add(S),M=N),b=V(b,1),S=V(S,1)}return E=A(T,R.j(E)),new k(R,E)}for(R=m;T.l(E)>=0;){for(S=Math.max(1,Math.floor(T.m()/E.m())),b=Math.ceil(Math.log(S)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),M=c(S),N=M.j(E);I(N)||N.l(T)>0;)S-=b,M=c(S),N=M.j(E);w(M)&&(M=g),R=R.add(M),T=A(T,N)}return new k(R,T)}t.B=function(T){return D(this,T).h},t.and=function(T){const E=Math.max(this.g.length,T.g.length),S=[];for(let b=0;b<E;b++)S[b]=this.i(b)&T.i(b);return new o(S,this.h&T.h)},t.or=function(T){const E=Math.max(this.g.length,T.g.length),S=[];for(let b=0;b<E;b++)S[b]=this.i(b)|T.i(b);return new o(S,this.h|T.h)},t.xor=function(T){const E=Math.max(this.g.length,T.g.length),S=[];for(let b=0;b<E;b++)S[b]=this.i(b)^T.i(b);return new o(S,this.h^T.h)};function U(T){const E=T.g.length+1,S=[];for(let b=0;b<E;b++)S[b]=T.i(b)<<1|T.i(b-1)>>>31;return new o(S,T.h)}function V(T,E){const S=E>>5;E%=32;const b=T.g.length-S,R=[];for(let M=0;M<b;M++)R[M]=E>0?T.i(M+S)>>>E|T.i(M+S+1)<<32-E:T.i(M+S);return new o(R,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Vr=o}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bT,Po,PT,Zl,wh,MT,DT,VT;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bl=="object"&&bl];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(f,y){if(y)e:{var _=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var L=f[C];if(!(L in _))break e;_=_[L]}f=f[f.length-1],C=_[f],y=y(C),y!=C&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(y){var _=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&_.push([C,y[C]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function l(f,y,_){return f.call.apply(f.bind,arguments)}function c(f,y,_){return c=l,c.apply(null,arguments)}function h(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function m(f,y){function _(){}_.prototype=y.prototype,f.Z=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Ob=function(C,L,O){for(var W=Array(arguments.length-2),le=2;le<arguments.length;le++)W[le-2]=arguments[le];return y.prototype[L].apply(C,W)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function v(f){const y=f.length;if(y>0){const _=Array(y);for(let C=0;C<y;C++)_[C]=f[C];return _}return[]}function w(f,y){for(let C=1;C<arguments.length;C++){const L=arguments[C];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=f.length||0;const O=L.length||0;f.length=_+O;for(let W=0;W<O;W++)f[_+W]=L[W]}else f.push(L)}}class I{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(f){o.setTimeout(()=>{throw f},0)}function A(){var f=T;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class x{constructor(){this.h=this.g=null}add(y,_){const C=k.get();C.set(y,_),this.h?this.h.next=C:this.g=C,this.h=C}}var k=new I(()=>new D,f=>f.reset());class D{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let U,V=!1,T=new x,E=()=>{const f=Promise.resolve(void 0);U=()=>{f.then(S)}};function S(){for(var f;f=A();){try{f.h.call(f.g)}catch(_){P(_)}var y=k;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}V=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};o.addEventListener("test",_,y),o.removeEventListener("test",_,y)}catch{}return f}();function N(f){return/^[\s\xa0]*$/.test(f)}function X(f,y){R.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}m(X,R),X.prototype.init=function(f,y){const _=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(_=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),he=0;function pe(f,y,_,C,L){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!C,this.ha=L,this.key=++he,this.da=this.fa=!1}function q(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function H(f,y,_){for(const C in f)y.call(_,f[C],C,f)}function $(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function ee(f){const y={};for(const _ in f)y[_]=f[_];return y}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(f,y){let _,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(_ in C)f[_]=C[_];for(let O=0;O<se.length;O++)_=se[O],Object.prototype.hasOwnProperty.call(C,_)&&(f[_]=C[_])}}function Re(f){this.src=f,this.g={},this.h=0}Re.prototype.add=function(f,y,_,C,L){const O=f.toString();f=this.g[O],f||(f=this.g[O]=[],this.h++);const W=Pe(f,y,C,L);return W>-1?(y=f[W],_||(y.fa=!1)):(y=new pe(y,this.src,O,!!C,L),y.fa=_,f.push(y)),y};function St(f,y){const _=y.type;if(_ in f.g){var C=f.g[_],L=Array.prototype.indexOf.call(C,y,void 0),O;(O=L>=0)&&Array.prototype.splice.call(C,L,1),O&&(q(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function Pe(f,y,_,C){for(let L=0;L<f.length;++L){const O=f[L];if(!O.da&&O.listener==y&&O.capture==!!_&&O.ha==C)return L}return-1}var nt="closure_lm_"+(Math.random()*1e6|0),_e={};function rt(f,y,_,C,L){if(Array.isArray(y)){for(let O=0;O<y.length;O++)rt(f,y[O],_,C,L);return null}return _=tg(_),f&&f[Se]?f.J(y,_,a(C)?!!C.capture:!1,L):ct(f,y,_,!1,C,L)}function ct(f,y,_,C,L,O){if(!y)throw Error("Invalid event type");const W=a(L)?!!L.capture:!!L;let le=rd(f);if(le||(f[nt]=le=new Re(f)),_=le.add(y,_,C,W,O),_.proxy)return _;if(C=Yt(),_.proxy=C,C.src=f,C.listener=_,f.addEventListener)M||(L=W),L===void 0&&(L=!1),f.addEventListener(y.toString(),C,L);else if(f.attachEvent)f.attachEvent(eg(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yt(){function f(_){return y.call(f.src,f.listener,_)}const y=CI;return f}function tl(f,y,_,C,L){if(Array.isArray(y))for(var O=0;O<y.length;O++)tl(f,y[O],_,C,L);else C=a(C)?!!C.capture:!!C,_=tg(_),f&&f[Se]?(f=f.i,O=String(y).toString(),O in f.g&&(y=f.g[O],_=Pe(y,_,C,L),_>-1&&(q(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete f.g[O],f.h--)))):f&&(f=rd(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Pe(y,_,C,L)),(_=f>-1?y[f]:null)&&nd(_))}function nd(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Se])St(y.i,f);else{var _=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(_,C,f.capture):y.detachEvent?y.detachEvent(eg(_),C):y.addListener&&y.removeListener&&y.removeListener(C),(_=rd(y))?(St(_,f),_.h==0&&(_.src=null,y[nt]=null)):q(f)}}}function eg(f){return f in _e?_e[f]:_e[f]="on"+f}function CI(f,y){if(f.da)f=!0;else{y=new X(y,this);const _=f.listener,C=f.ha||f.src;f.fa&&nd(f),f=_.call(C,y)}return f}function rd(f){return f=f[nt],f instanceof Re?f:null}var sd="__closure_events_fn_"+(Math.random()*1e9>>>0);function tg(f){return typeof f=="function"?f:(f[sd]||(f[sd]=function(y){return f.handleEvent(y)}),f[sd])}function dt(){b.call(this),this.i=new Re(this),this.M=this,this.G=null}m(dt,b),dt.prototype[Se]=!0,dt.prototype.removeEventListener=function(f,y,_,C){tl(this,f,y,_,C)};function Ct(f,y){var _,C=f.G;if(C)for(_=[];C;C=C.G)_.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new R(y,f);else if(y instanceof R)y.target=y.target||f;else{var L=y;y=new R(C,f),Tt(y,L)}L=!0;let O,W;if(_)for(W=_.length-1;W>=0;W--)O=y.g=_[W],L=nl(O,C,!0,y)&&L;if(O=y.g=f,L=nl(O,C,!0,y)&&L,L=nl(O,C,!1,y)&&L,_)for(W=0;W<_.length;W++)O=y.g=_[W],L=nl(O,C,!1,y)&&L}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const _=f.g[y];for(let C=0;C<_.length;C++)q(_[C]);delete f.g[y],f.h--}}this.G=null},dt.prototype.J=function(f,y,_,C){return this.i.add(String(f),y,!1,_,C)},dt.prototype.K=function(f,y,_,C){return this.i.add(String(f),y,!0,_,C)};function nl(f,y,_,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let L=!0;for(let O=0;O<y.length;++O){const W=y[O];if(W&&!W.da&&W.capture==_){const le=W.listener,We=W.ha||W.src;W.fa&&St(f.i,W),L=le.call(We,C)!==!1&&L}}return L&&!C.defaultPrevented}function II(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=c(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:o.setTimeout(f,y||0)}function ng(f){f.g=II(()=>{f.g=null,f.i&&(f.i=!1,ng(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class AI extends b{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ng(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(f){b.call(this),this.h=f,this.g={}}m(eo,b);var rg=[];function sg(f){H(f.g,function(y,_){this.g.hasOwnProperty(_)&&nd(y)},f),f.g={}}eo.prototype.N=function(){eo.Z.N.call(this),sg(this)},eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var id=o.JSON.stringify,kI=o.JSON.parse,NI=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function ig(){}function og(){}var to={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function od(){R.call(this,"d")}m(od,R);function ad(){R.call(this,"c")}m(ad,R);var es={},ag=null;function rl(){return ag=ag||new dt}es.Ia="serverreachability";function lg(f){R.call(this,es.Ia,f)}m(lg,R);function no(f){const y=rl();Ct(y,new lg(y))}es.STAT_EVENT="statevent";function ug(f,y){R.call(this,es.STAT_EVENT,f),this.stat=y}m(ug,R);function It(f){const y=rl();Ct(y,new ug(y,f))}es.Ja="timingevent";function cg(f,y){R.call(this,es.Ja,f),this.size=y}m(cg,R);function ro(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},y)}function so(){this.g=!0}so.prototype.ua=function(){this.g=!1};function RI(f,y,_,C,L,O){f.info(function(){if(f.g)if(O){var W="",le=O.split("&");for(let Ee=0;Ee<le.length;Ee++){var We=le[Ee].split("=");if(We.length>1){const Xe=We[0];We=We[1];const vn=Xe.split("_");W=vn.length>=2&&vn[1]=="type"?W+(Xe+"="+We+"&"):W+(Xe+"=redacted&")}}}else W=null;else W=O;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+y+`
`+_+`
`+W})}function bI(f,y,_,C,L,O,W){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+y+`
`+_+`
`+O+" "+W})}function Fs(f,y,_,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+MI(f,_)+(C?" "+C:"")})}function PI(f,y){f.info(function(){return"TIMEOUT: "+y})}so.prototype.info=function(){};function MI(f,y){if(!f.g)return y;if(!y)return null;try{const O=JSON.parse(y);if(O){for(f=0;f<O.length;f++)if(Array.isArray(O[f])){var _=O[f];if(!(_.length<2)){var C=_[1];if(Array.isArray(C)&&!(C.length<1)){var L=C[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<C.length;W++)C[W]=""}}}}return id(O)}catch{return y}}var sl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fg;function ld(){}m(ld,ig),ld.prototype.g=function(){return new XMLHttpRequest},fg=new ld;function io(f){return encodeURIComponent(String(f))}function DI(f){var y=1;f=f.split(":");const _=[];for(;y>0&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function ir(f,y,_,C){this.j=f,this.i=y,this.l=_,this.S=C||1,this.V=new eo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hg}function hg(){this.i=null,this.g="",this.h=!1}var pg={},ud={};function cd(f,y,_){f.M=1,f.A=ol(yn(y)),f.u=_,f.R=!0,mg(f,null)}function mg(f,y){f.F=Date.now(),il(f),f.B=yn(f.A);var _=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),kg(_.i,"t",C),f.C=0,_=f.j.L,f.h=new hg,f.g=jg(f.j,_?y:null,!f.u),f.P>0&&(f.O=new AI(c(f.Y,f,f.g),f.P)),y=f.V,_=f.g,C=f.ba;var L="readystatechange";Array.isArray(L)||(L&&(rg[0]=L.toString()),L=rg);for(let O=0;O<L.length;O++){const W=rt(_,L[O],C||y.handleEvent,!1,y.h||y);if(!W)break;y.g[W.key]=W}y=f.J?ee(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),no(),RI(f.i,f.v,f.B,f.l,f.S,f.u)}ir.prototype.ba=function(f){f=f.target;const y=this.O;y&&lr(f)==3?y.j():this.Y(f)},ir.prototype.Y=function(f){try{if(f==this.g)e:{const le=lr(this.g),We=this.g.ya(),Ee=this.g.ca();if(!(le<3)&&(le!=3||this.g&&(this.h.h||this.g.la()||Vg(this.g)))){this.K||le!=4||We==7||(We==8||Ee<=0?no(3):no(2)),dd(this);var y=this.g.ca();this.X=y;var _=VI(this);if(this.o=y==200,bI(this.i,this.v,this.B,this.l,this.S,le,y),this.o){if(this.U&&!this.L){t:{if(this.g){var C,L=this.g;if((C=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var O=C;break t}}O=null}if(f=O)Fs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fd(this,f);else{this.o=!1,this.m=3,It(12),ts(this),oo(this);break e}}if(this.R){f=!0;let Xe;for(;!this.K&&this.C<_.length;)if(Xe=LI(this,_),Xe==ud){le==4&&(this.m=4,It(14),f=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==pg){this.m=4,It(15),Fs(this.i,this.l,_,"[Invalid Chunk]"),f=!1;break}else Fs(this.i,this.l,Xe,null),fd(this,Xe);if(gg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),le!=4||_.length!=0||this.h.h||(this.m=1,It(16),f=!1),this.o=this.o&&f,!f)Fs(this.i,this.l,_,"[Invalid Chunked Response]"),ts(this),oo(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),wd(W),W.P=!0,It(11))}}else Fs(this.i,this.l,_,null),fd(this,_);le==4&&ts(this),this.o&&!this.K&&(le==4?Gg(this.j,this):(this.o=!1,il(this)))}else YI(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),ts(this),oo(this)}}}catch{}finally{}};function VI(f){if(!gg(f))return f.g.la();const y=Vg(f.g);if(y==="")return"";let _="";const C=y.length,L=lr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ts(f),oo(f),"";f.h.i=new o.TextDecoder}for(let O=0;O<C;O++)f.h.h=!0,_+=f.h.i.decode(y[O],{stream:!(L&&O==C-1)});return y.length=0,f.h.g+=_,f.C=0,f.h.g}function gg(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function LI(f,y){var _=f.C,C=y.indexOf(`
`,_);return C==-1?ud:(_=Number(y.substring(_,C)),isNaN(_)?pg:(C+=1,C+_>y.length?ud:(y=y.slice(C,C+_),f.C=C+_,y)))}ir.prototype.cancel=function(){this.K=!0,ts(this)};function il(f){f.T=Date.now()+f.H,yg(f,f.H)}function yg(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ro(c(f.aa,f),y)}function dd(f){f.D&&(o.clearTimeout(f.D),f.D=null)}ir.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(PI(this.i,this.B),this.M!=2&&(no(),It(17)),ts(this),this.m=2,oo(this)):yg(this,this.T-f)};function oo(f){f.j.I==0||f.K||Gg(f.j,f)}function ts(f){dd(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,sg(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function fd(f,y){try{var _=f.j;if(_.I!=0&&(_.g==f||hd(_.h,f))){if(!f.L&&hd(_.h,f)&&_.I==3){try{var C=_.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<f.F)dl(_),ul(_);else break e;_d(_),It(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ro(c(_.Va,_),6e3));wg(_.h)<=1&&_.ta&&(_.ta=void 0)}else rs(_,11)}else if((f.L||_.g==f)&&dl(_),!N(y))for(L=_.Ba.g.parse(y),y=0;y<L.length;y++){let Ee=L[y];const Xe=Ee[0];if(!(Xe<=_.K))if(_.K=Xe,Ee=Ee[1],_.I==2)if(Ee[0]=="c"){_.M=Ee[1],_.ba=Ee[2];const vn=Ee[3];vn!=null&&(_.ka=vn,_.j.info("VER="+_.ka));const ss=Ee[4];ss!=null&&(_.za=ss,_.j.info("SVER="+_.za));const ur=Ee[5];ur!=null&&typeof ur=="number"&&ur>0&&(C=1.5*ur,_.O=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const cr=f.g;if(cr){const hl=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hl){var O=C.h;O.g||hl.indexOf("spdy")==-1&&hl.indexOf("quic")==-1&&hl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(pd(O,O.h),O.h=null))}if(C.G){const Ed=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ed&&(C.wa=Ed,Ce(C.J,C.G,Ed))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-f.F,_.j.info("Handshake RTT: "+_.T+"ms")),C=_;var W=f;if(C.na=$g(C,C.L?C.ba:null,C.W),W.L){Eg(C.h,W);var le=W,We=C.O;We&&(le.H=We),le.D&&(dd(le),il(le)),C.g=W}else qg(C);_.i.length>0&&cl(_)}else Ee[0]!="stop"&&Ee[0]!="close"||rs(_,7);else _.I==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?rs(_,7):vd(_):Ee[0]!="noop"&&_.l&&_.l.qa(Ee),_.A=0)}}no(4)}catch{}}var UI=class{constructor(f,y){this.g=f,this.map=y}};function vg(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _g(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wg(f){return f.h?1:f.g?f.g.size:0}function hd(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function pd(f,y){f.g?f.g.add(y):f.h=y}function Eg(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}vg.prototype.cancel=function(){if(this.i=xg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function xg(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.G);return y}return v(f.i)}var Tg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FI(f,y){if(f){f=f.split("&");for(let _=0;_<f.length;_++){const C=f[_].indexOf("=");let L,O=null;C>=0?(L=f[_].substring(0,C),O=f[_].substring(C+1)):L=f[_],y(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function or(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof or?(this.l=f.l,ao(this,f.j),this.o=f.o,this.g=f.g,lo(this,f.u),this.h=f.h,md(this,Ng(f.i)),this.m=f.m):f&&(y=String(f).match(Tg))?(this.l=!1,ao(this,y[1]||"",!0),this.o=uo(y[2]||""),this.g=uo(y[3]||"",!0),lo(this,y[4]),this.h=uo(y[5]||"",!0),md(this,y[6]||"",!0),this.m=uo(y[7]||"")):(this.l=!1,this.i=new fo(null,this.l))}or.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(co(y,Sg,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(co(y,Sg,!0),"@"),f.push(io(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&f.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(co(_,_.charAt(0)=="/"?BI:qI,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",co(_,HI)),f.join("")},or.prototype.resolve=function(f){const y=yn(this);let _=!!f.j;_?ao(y,f.j):_=!!f.o,_?y.o=f.o:_=!!f.g,_?y.g=f.g:_=f.u!=null;var C=f.h;if(_)lo(y,f.u);else if(_=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var L=y.h.lastIndexOf("/");L!=-1&&(C=y.h.slice(0,L+1)+C)}if(L=C,L==".."||L==".")C="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){C=L.lastIndexOf("/",0)==0,L=L.split("/");const O=[];for(let W=0;W<L.length;){const le=L[W++];le=="."?C&&W==L.length&&O.push(""):le==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),C&&W==L.length&&O.push("")):(O.push(le),C=!0)}C=O.join("/")}else C=L}return _?y.h=C:_=f.i.toString()!=="",_?md(y,Ng(f.i)):_=!!f.m,_&&(y.m=f.m),y};function yn(f){return new or(f)}function ao(f,y,_){f.j=_?uo(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function lo(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function md(f,y,_){y instanceof fo?(f.i=y,zI(f.i,f.l)):(_||(y=co(y,GI)),f.i=new fo(y,f.l))}function Ce(f,y,_){f.i.set(y,_)}function ol(f){return Ce(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function uo(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function co(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,OI),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function OI(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Sg=/[#\/\?@]/g,qI=/[#\?:]/g,BI=/[#\?]/g,GI=/[#\?@]/g,HI=/#/g;function fo(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function ns(f){f.g||(f.g=new Map,f.h=0,f.i&&FI(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}t=fo.prototype,t.add=function(f,y){ns(this),this.i=null,f=Os(this,f);let _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function Cg(f,y){ns(f),y=Os(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ig(f,y){return ns(f),y=Os(f,y),f.g.has(y)}t.forEach=function(f,y){ns(this),this.g.forEach(function(_,C){_.forEach(function(L){f.call(y,L,C,this)},this)},this)};function Ag(f,y){ns(f);let _=[];if(typeof y=="string")Ig(f,y)&&(_=_.concat(f.g.get(Os(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)_=_.concat(f[y]);return _}t.set=function(f,y){return ns(this),this.i=null,f=Os(this,f),Ig(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=Ag(this,f),f.length>0?String(f[0]):y):y};function kg(f,y,_){Cg(f,y),_.length>0&&(f.i=null,f.g.set(Os(f,y),v(_)),f.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var _=y[C];const L=io(_);_=Ag(this,_);for(let O=0;O<_.length;O++){let W=L;_[O]!==""&&(W+="="+io(_[O])),f.push(W)}}return this.i=f.join("&")};function Ng(f){const y=new fo;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Os(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function zI(f,y){y&&!f.j&&(ns(f),f.i=null,f.g.forEach(function(_,C){const L=C.toLowerCase();C!=L&&(Cg(this,C),kg(this,L,_))},f)),f.j=y}function $I(f,y){const _=new so;if(o.Image){const C=new Image;C.onload=h(ar,_,"TestLoadImage: loaded",!0,y,C),C.onerror=h(ar,_,"TestLoadImage: error",!1,y,C),C.onabort=h(ar,_,"TestLoadImage: abort",!1,y,C),C.ontimeout=h(ar,_,"TestLoadImage: timeout",!1,y,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function jI(f,y){const _=new so,C=new AbortController,L=setTimeout(()=>{C.abort(),ar(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(O=>{clearTimeout(L),O.ok?ar(_,"TestPingServer: ok",!0,y):ar(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),ar(_,"TestPingServer: error",!1,y)})}function ar(f,y,_,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(_)}catch{}}function WI(){this.g=new NI}function gd(f){this.i=f.Sb||null,this.h=f.ab||!1}m(gd,ig),gd.prototype.g=function(){return new al(this.i,this.h)};function al(f,y){dt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(al,dt),t=al.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,po(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||o).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ho(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rg(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rg(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ho(this):po(this),this.readyState==3&&Rg(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ho(this))},t.Na=function(f){this.g&&(this.response=f,ho(this))},t.ga=function(){this.g&&ho(this)};function ho(f){f.readyState=4,f.l=null,f.j=null,f.B=null,po(f)}t.setRequestHeader=function(f,y){this.A.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function po(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function bg(f){let y="";return H(f,function(_,C){y+=C,y+=":",y+=_,y+=`\r
`}),y}function yd(f,y,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=bg(_),typeof f=="string"?_!=null&&io(_):Ce(f,y,_))}function Ue(f){dt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ue,dt);var KI=/^https?$/i,JI=["POST","PUT"];t=Ue.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,y,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fg.g(),this.g.onreadystatechange=g(c(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(O){Pg(this,O);return}if(f=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)_.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const O of C.keys())_.set(O,C.get(O));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(O=>O.toLowerCase()=="content-type"),L=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(JI,y,void 0)>=0)||C||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,W]of _)this.g.setRequestHeader(O,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(O){Pg(this,O)}};function Pg(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Mg(f),ll(f)}function Mg(f){f.A||(f.A=!0,Ct(f,"complete"),Ct(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ct(this,"complete"),Ct(this,"abort"),ll(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ll(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Dg(this):this.Xa())},t.Xa=function(){Dg(this)};function Dg(f){if(f.h&&typeof i<"u"){if(f.v&&lr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ct(f,"readystatechange"),lr(f)==4){f.h=!1;try{const O=f.ca();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var C;if(C=O===0){let W=String(f.D).match(Tg)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),C=!KI.test(W?W.toLowerCase():"")}_=C}if(_)Ct(f,"complete"),Ct(f,"success");else{f.o=6;try{var L=lr(f)>2?f.g.statusText:""}catch{L=""}f.l=L+" ["+f.ca()+"]",Mg(f)}}finally{ll(f)}}}}function ll(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const _=f.g;f.g=null,y||Ct(f,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function lr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return lr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),kI(y)}};function Vg(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function YI(f){const y={};f=(f.g&&lr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(N(f[C]))continue;var _=DI(f[C]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const O=y[L]||[];y[L]=O,O.push(_)}$(y,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mo(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function Lg(f){this.za=0,this.i=[],this.j=new so,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mo("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mo("baseRetryDelayMs",5e3,f),this.Za=mo("retryDelaySeedMs",1e4,f),this.Ta=mo("forwardChannelMaxRetries",2,f),this.va=mo("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new vg(f&&f.concurrentRequestLimit),this.Ba=new WI,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Lg.prototype,t.ka=8,t.I=1,t.connect=function(f,y,_,C){It(0),this.W=f,this.H=y||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.J=$g(this,null,this.W),cl(this)};function vd(f){if(Ug(f),f.I==3){var y=f.V++,_=yn(f.J);if(Ce(_,"SID",f.M),Ce(_,"RID",y),Ce(_,"TYPE","terminate"),go(f,_),y=new ir(f,f.j,y),y.M=2,y.A=ol(yn(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=y.A,_=!0),_||(y.g=jg(y.j,null),y.g.ea(y.A)),y.F=Date.now(),il(y)}zg(f)}function ul(f){f.g&&(wd(f),f.g.cancel(),f.g=null)}function Ug(f){ul(f),f.v&&(o.clearTimeout(f.v),f.v=null),dl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function cl(f){if(!_g(f.h)&&!f.m){f.m=!0;var y=f.Ea;U||E(),V||(U(),V=!0),T.add(y,f),f.D=0}}function QI(f,y){return wg(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ro(c(f.Ea,f,y),Hg(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const L=new ir(this,this.j,f);let O=this.o;if(this.U&&(O?(O=ee(O),Tt(O,this.U)):O=this.U),this.u!==null||this.R||(L.J=O,O=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Og(this,L,y),_=yn(this.J),Ce(_,"RID",f),Ce(_,"CVER",22),this.G&&Ce(_,"X-HTTP-Session-Id",this.G),go(this,_),O&&(this.R?y="headers="+io(bg(O))+"&"+y:this.u&&yd(_,this.u,O)),pd(this.h,L),this.Ra&&Ce(_,"TYPE","init"),this.S?(Ce(_,"$req",y),Ce(_,"SID","null"),L.U=!0,cd(L,_,null)):cd(L,_,y),this.I=2}}else this.I==3&&(f?Fg(this,f):this.i.length==0||_g(this.h)||Fg(this))};function Fg(f,y){var _;y?_=y.l:_=f.V++;const C=yn(f.J);Ce(C,"SID",f.M),Ce(C,"RID",_),Ce(C,"AID",f.K),go(f,C),f.u&&f.o&&yd(C,f.u,f.o),_=new ir(f,f.j,_,f.D+1),f.u===null&&(_.J=f.o),y&&(f.i=y.G.concat(f.i)),y=Og(f,_,1e3),_.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),pd(f.h,_),cd(_,C,y)}function go(f,y){f.H&&H(f.H,function(_,C){Ce(y,C,_)}),f.l&&H({},function(_,C){Ce(y,C,_)})}function Og(f,y,_){_=Math.min(f.i.length,_);const C=f.l?c(f.l.Ka,f.l,f):null;e:{var L=f.i;let le=-1;for(;;){const We=["count="+_];le==-1?_>0?(le=L[0].g,We.push("ofs="+le)):le=0:We.push("ofs="+le);let Ee=!0;for(let Xe=0;Xe<_;Xe++){var O=L[Xe].g;const vn=L[Xe].map;if(O-=le,O<0)le=Math.max(0,L[Xe].g-100),Ee=!1;else try{O="req"+O+"_"||"";try{var W=vn instanceof Map?vn:Object.entries(vn);for(const[ss,ur]of W){let cr=ur;a(ur)&&(cr=id(ur)),We.push(O+ss+"="+encodeURIComponent(cr))}}catch(ss){throw We.push(O+"type="+encodeURIComponent("_badmap")),ss}}catch{C&&C(vn)}}if(Ee){W=We.join("&");break e}}W=void 0}return f=f.i.splice(0,_),y.G=f,W}function qg(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;U||E(),V||(U(),V=!0),T.add(y,f),f.A=0}}function _d(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ro(c(f.Da,f),Hg(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Bg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ro(c(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),ul(this),Bg(this))};function wd(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function Bg(f){f.g=new ir(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=yn(f.na);Ce(y,"RID","rpc"),Ce(y,"SID",f.M),Ce(y,"AID",f.K),Ce(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ce(y,"TO",f.ia),Ce(y,"TYPE","xmlhttp"),go(f,y),f.u&&f.o&&yd(y,f.u,f.o),f.O&&(f.g.H=f.O);var _=f.g;f=f.ba,_.M=1,_.A=ol(yn(y)),_.u=null,_.R=!0,mg(_,f)}t.Va=function(){this.C!=null&&(this.C=null,ul(this),_d(this),It(19))};function dl(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function Gg(f,y){var _=null;if(f.g==y){dl(f),wd(f),f.g=null;var C=2}else if(hd(f.h,y))_=y.G,Eg(f.h,y),C=1;else return;if(f.I!=0){if(y.o)if(C==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var L=f.D;C=rl(),Ct(C,new cg(C,_)),cl(f)}else qg(f);else if(L=y.m,L==3||L==0&&y.X>0||!(C==1&&QI(f,y)||C==2&&_d(f)))switch(_&&_.length>0&&(y=f.h,y.i=y.i.concat(_)),L){case 1:rs(f,5);break;case 4:rs(f,10);break;case 3:rs(f,6);break;default:rs(f,2)}}}function Hg(f,y){let _=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(_*=2),_*y}function rs(f,y){if(f.j.info("Error code "+y),y==2){var _=c(f.bb,f),C=f.Ua;const L=!C;C=new or(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ao(C,"https"),ol(C),L?$I(C.toString(),_):jI(C.toString(),_)}else It(2);f.I=0,f.l&&f.l.pa(y),zg(f),Ug(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function zg(f){if(f.I=0,f.ja=[],f.l){const y=xg(f.h);(y.length!=0||f.i.length!=0)&&(w(f.ja,y),w(f.ja,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.oa()}}function $g(f,y,_){var C=_ instanceof or?yn(_):new or(_);if(C.g!="")y&&(C.g=y+"."+C.g),lo(C,C.u);else{var L=o.location;C=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;const O=new or(null);C&&ao(O,C),y&&(O.g=y),L&&lo(O,L),_&&(O.h=_),C=O}return _=f.G,y=f.wa,_&&y&&Ce(C,_,y),Ce(C,"VER",f.ka),go(f,C),C}function jg(f,y,_){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new Ue(new gd({ab:_})):new Ue(f.ma),y.Fa(f.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wg(){}t=Wg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fl(){}fl.prototype.g=function(f,y){return new Bt(f,y)};function Bt(f,y){dt.call(this),this.g=new Lg(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!N(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new qs(this)}m(Bt,dt),Bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){vd(this.g)},Bt.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.v&&(_={},_.__data__=id(f),f=_);y.i.push(new UI(y.Ya++,f)),y.I==3&&cl(y)},Bt.prototype.N=function(){this.g.l=null,delete this.j,vd(this.g),delete this.g,Bt.Z.N.call(this)};function Kg(f){od.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}m(Kg,od);function Jg(){ad.call(this),this.status=1}m(Jg,ad);function qs(f){this.g=f}m(qs,Wg),qs.prototype.ra=function(){Ct(this.g,"a")},qs.prototype.qa=function(f){Ct(this.g,new Kg(f))},qs.prototype.pa=function(f){Ct(this.g,new Jg)},qs.prototype.oa=function(){Ct(this.g,"b")},fl.prototype.createWebChannel=fl.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,VT=function(){return new fl},DT=function(){return rl()},MT=es,wh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,Zl=sl,dg.COMPLETE="complete",PT=dg,og.EventType=to,to.OPEN="a",to.CLOSE="b",to.ERROR="c",to.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Po=og,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,bT=Ue}).apply(typeof bl<"u"?bl:typeof self<"u"?self:typeof window<"u"?window:{});const zv="@firebase/firestore",$v="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ji="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new nm("@firebase/firestore");function Gs(){return Cs.logLevel}function Y(t,...e){if(Cs.logLevel<=ce.DEBUG){const n=e.map(im);Cs.debug(`Firestore (${ji}): ${t}`,...n)}}function Qn(t,...e){if(Cs.logLevel<=ce.ERROR){const n=e.map(im);Cs.error(`Firestore (${ji}): ${t}`,...n)}}function Ni(t,...e){if(Cs.logLevel<=ce.WARN){const n=e.map(im);Cs.warn(`Firestore (${ji}): ${t}`,...n)}}function im(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,LT(t,r,n)}function LT(t,e,n){let r=`FIRESTORE (${ji}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qn(r),new Error(r)}function ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||LT(e,s,r)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class K4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J4{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Lr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Lr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new UT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class Y4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Z4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function Eh(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Zd(s)===Zd(i)?de(s,i):Zd(s)?1:-1}return de(t.length,e.length)}const e5=55296,t5=57343;function Zd(t){const e=t.charCodeAt(0);return e>=e5&&e<=t5}function Ri(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class xn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=xn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return de(e.length,n.length)}static compareSegments(e,n){const r=xn.isNumericId(e),s=xn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?xn.extractNumericId(e).compare(xn.extractNumericId(n)):Eh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class xe extends xn{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const n5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends xn{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return n5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new ot([Wv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(xe.fromString(e))}static fromName(e){return new Z(xe.fromString(e).popFirst(5))}static empty(){return new Z(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r5(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kv(t){if(!Z.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jv(t){if(Z.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bc(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e){const n={typeString:t};return e&&(n.value=e),n}function qa(t,e){if(!OT(t))throw new J(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=-62135596800,Qv=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Qv);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yv)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qa(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:je("string",ke._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new ke(0,0))}static max(){return new ie(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=-1;function s5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new Br(s,Z.empty(),e)}function i5(t){return new Br(t.readTime,t.key,va)}class Br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Br(ie.min(),Z.empty(),va)}static max(){return new Br(ie.max(),Z.empty(),va)}}function o5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wi(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==a5)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(s=>s?G.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new G((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new G((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function u5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ki(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=-1;function Mc(t){return t==null}function Hu(t){return t===0&&1/t==-1/0}function c5(t){return typeof t=="number"&&Number.isInteger(t)&&!Hu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="";function d5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xv(e)),e=f5(t.get(n),e);return Xv(e)}function f5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case qT:n+="";break;default:n+=i}}return n}function Xv(t){return t+qT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}}class Pl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??it.EMPTY,this.right=i??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new it(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new $t([])}unionWith(e){let n=new Qe(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ri(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new GT("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const h5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=h5.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hr(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="server_timestamp",zT="__type__",$T="__previous_value__",jT="__local_write_time__";function lm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zT])==null?void 0:r.stringValue)===HT}function Dc(t){const e=t.mapValue.fields[$T];return lm(e)?Dc(e):e}function _a(t){const e=Gr(t.mapValue.fields[jT].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,s,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const zu="(default)";class wa{constructor(e,n){this.projectId=e,this.database=n||zu}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database===zu}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="__type__",m5="__max__",Ml={mapValue:{}},KT="__vector__",$u="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lm(t)?4:y5(t)?9007199254740991:g5(t)?10:11:ne(28295,{value:t})}function Ln(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _a(t).isEqual(_a(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Gr(s.timestampValue),a=Gr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Hr(s.bytesValue).isEqual(Hr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Be(s.doubleValue),a=Be(i.doubleValue);return o===a?Hu(o)===Hu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ri(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Zv(o)!==Zv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ln(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Ea(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Pi(t,e){if(t===e)return 0;const n=zr(t),r=zr(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Be(i.integerValue||i.doubleValue),l=Be(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return t_(t.timestampValue,e.timestampValue);case 4:return t_(_a(t),_a(e));case 5:return Eh(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Hr(i),l=Hr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=de(a[c],l[c]);if(h!==0)return h}return de(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=de(Be(i.latitude),Be(o.latitude));return a!==0?a:de(Be(i.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return n_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,v,w,I;const a=i.fields||{},l=o.fields||{},c=(g=a[$u])==null?void 0:g.arrayValue,h=(v=l[$u])==null?void 0:v.arrayValue,m=de(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return m!==0?m:n_(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ml.mapValue&&o===Ml.mapValue)return 0;if(i===Ml.mapValue)return 1;if(o===Ml.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let m=0;m<l.length&&m<h.length;++m){const g=Eh(l[m],h[m]);if(g!==0)return g;const v=Pi(a[l[m]],c[h[m]]);if(v!==0)return v}return de(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{he:n})}}function t_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Gr(t),r=Gr(e),s=de(n.seconds,r.seconds);return s!==0?s:de(n.nanos,r.nanos)}function n_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Pi(n[s],r[s]);if(i)return i}return de(n.length,r.length)}function Mi(t){return xh(t)}function xh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=xh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${xh(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function eu(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dc(t);return e?16+eu(e):16;case 5:return 2*t.stringValue.length;case 6:return Hr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+eu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Qr(r.fields,(i,o)=>{s+=i.length+eu(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function r_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Th(t){return!!t&&"integerValue"in t}function um(t){return!!t&&"arrayValue"in t}function s_(t){return!!t&&"nullValue"in t}function i_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tu(t){return!!t&&"mapValue"in t}function g5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[WT])==null?void 0:r.stringValue)===KT}function Wo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wo(t.arrayValue.values[n]);return e}return{...t}}function y5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===m5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(n)}setAll(e){let n=ot.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Wo(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];tu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Dt(Wo(this.value))}}function JT(t){const e=[];return Qr(t.fields,(n,r)=>{const s=new ot([n]);if(tu(r)){const i=JT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new $t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vt(e,0,ie.min(),ie.min(),ie.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,s){return new vt(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new vt(e,2,n,ie.min(),ie.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,ie.min(),ie.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.position=e,this.inclusive=n}}function o_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Pi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function v5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class $e extends YT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w5(e,n,r):n==="array-contains"?new T5(e,r):n==="in"?new S5(e,r):n==="not-in"?new C5(e,r):n==="array-contains-any"?new I5(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E5(e,r):new x5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pi(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Pi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends YT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pn(e,n)}matches(e){return QT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(t){return t.op==="and"}function XT(t){return _5(t)&&QT(t)}function _5(t){for(const e of t.filters)if(e instanceof pn)return!1;return!0}function Sh(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Mi(t.value);if(XT(t))return t.filters.map(e=>Sh(e)).join(",");{const e=t.filters.map(n=>Sh(n)).join(",");return`${t.op}(${e})`}}function ZT(t,e){return t instanceof $e?function(r,s){return s instanceof $e&&r.op===s.op&&r.field.isEqual(s.field)&&Ln(r.value,s.value)}(t,e):t instanceof pn?function(r,s){return s instanceof pn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ZT(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function eS(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Mi(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(eS).join(" ,")+"}"}(t):"Filter"}class w5 extends $e{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class E5 extends $e{constructor(e,n){super(e,"in",n),this.keys=tS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x5 extends $e{constructor(e,n){super(e,"not-in",n),this.keys=tS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class T5 extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return um(n)&&Ea(n.arrayValue,this.value)}}class S5 extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class C5 extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ea(this.value.arrayValue,n)}}class I5 extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ea(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function l_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new A5(t,e,n,r,s,i,o)}function cm(t){const e=oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mi(r)).join(",")),e.Te=n}return e.Te}function dm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a_(t.startAt,e.startAt)&&a_(t.endAt,e.endAt)}function Ch(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function k5(t,e,n,r,s,i,o,a){return new Ba(t,e,n,r,s,i,o,a)}function nS(t){return new Ba(t)}function u_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rS(t){return t.collectionGroup!==null}function Ko(t){const e=oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qe(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Wu(i,r))}),n.has(ot.keyField().canonicalString())||e.Ie.push(new Wu(ot.keyField(),r))}return e.Ie}function kn(t){const e=oe(t);return e.Ee||(e.Ee=N5(e,Ko(t))),e.Ee}function N5(t,e){if(t.limitType==="F")return l_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Wu(s.field,i)});const n=t.endAt?new ju(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ju(t.startAt.position,t.startAt.inclusive):null;return l_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ih(t,e){const n=t.filters.concat([e]);return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ah(t,e,n){return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vc(t,e){return dm(kn(t),kn(e))&&t.limitType===e.limitType}function sS(t){return`${cm(kn(t))}|lt:${t.limitType}`}function Hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>eS(s)).join(", ")}]`),Mc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Mi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Mi(s)).join(",")),`Target(${r})`}(kn(t))}; limitType=${t.limitType})`}function Lc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ko(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=o_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ko(r),s)||r.endAt&&!function(o,a,l){const c=o_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ko(r),s))}(t,e)}function R5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iS(t){return(e,n)=>{let r=!1;for(const s of Ko(t)){const i=b5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function b5(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Pi(l,c):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return BT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new Le(Z.comparator);function Xn(){return P5}const oS=new Le(Z.comparator);function Mo(...t){let e=oS;for(const n of t)e=e.insert(n.key,n);return e}function aS(t){let e=oS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return Jo()}function lS(){return Jo()}function Jo(){return new Ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const M5=new Le(Z.comparator),D5=new Qe(Z.comparator);function fe(...t){let e=D5;for(const n of t)e=e.add(n);return e}const V5=new Qe(de);function L5(){return V5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function uS(t){return{integerValue:""+t}}function cS(t,e){return c5(e)?uS(e):fm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this._=void 0}}function U5(t,e,n){return t instanceof xa?function(s,i){const o={fields:{[zT]:{stringValue:HT},[jT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&lm(i)&&(i=Dc(i)),i&&(o.fields[$T]=i),{mapValue:o}}(n,e):t instanceof Ta?fS(t,e):t instanceof Sa?hS(t,e):function(s,i){const o=dS(s,i),a=c_(o)+c_(s.Ae);return Th(o)&&Th(s.Ae)?uS(a):fm(s.serializer,a)}(t,e)}function F5(t,e,n){return t instanceof Ta?fS(t,e):t instanceof Sa?hS(t,e):n}function dS(t,e){return t instanceof Ca?function(r){return Th(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class xa extends Uc{}class Ta extends Uc{constructor(e){super(),this.elements=e}}function fS(t,e){const n=pS(e);for(const r of t.elements)n.some(s=>Ln(s,r))||n.push(r);return{arrayValue:{values:n}}}class Sa extends Uc{constructor(e){super(),this.elements=e}}function hS(t,e){let n=pS(e);for(const r of t.elements)n=n.filter(s=>!Ln(s,r));return{arrayValue:{values:n}}}class Ca extends Uc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function c_(t){return Be(t.integerValue||t.doubleValue)}function pS(t){return um(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.field=e,this.transform=n}}function O5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ta&&s instanceof Ta||r instanceof Sa&&s instanceof Sa?Ri(r.elements,s.elements,Ln):r instanceof Ca&&s instanceof Ca?Ln(r.Ae,s.Ae):r instanceof xa&&s instanceof xa}(t.transform,e.transform)}class q5{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fc{}function gS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vS(t.key,Nn.none()):new Ga(t.key,t.data,Nn.none());{const n=t.data,r=Dt.empty();let s=new Qe(ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Xr(t.key,r,new $t(s.toArray()),Nn.none())}}function B5(t,e,n){t instanceof Ga?function(s,i,o){const a=s.value.clone(),l=f_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(s,i,o){if(!nu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=f_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(yS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yo(t,e,n,r){return t instanceof Ga?function(i,o,a,l){if(!nu(i.precondition,o))return a;const c=i.value.clone(),h=h_(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(i,o,a,l){if(!nu(i.precondition,o))return a;const c=h_(i.fieldTransforms,l,o),h=o.data;return h.setAll(yS(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return nu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function G5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=dS(r.transform,s||null);i!=null&&(n===null&&(n=Dt.empty()),n.set(r.field,i))}return n||null}function d_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ri(r,s,(i,o)=>O5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ga extends Fc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xr extends Fc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function f_(t,e,n){const r=new Map;ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,F5(o,a,n[s]))}return r}function h_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,U5(i,o,e))}return r}class vS extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H5 extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&B5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=gS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Ri(this.mutations,e.mutations,(n,r)=>d_(n,r))&&Ri(this.baseMutations,e.baseMutations,(n,r)=>d_(n,r))}}class hm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return M5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new hm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,me;function W5(t){switch(t){case B.OK:return ne(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function _S(t){if(t===void 0)return Qn("GRPC error has no .code"),B.UNKNOWN;switch(t){case He.OK:return B.OK;case He.CANCELLED:return B.CANCELLED;case He.UNKNOWN:return B.UNKNOWN;case He.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case He.INTERNAL:return B.INTERNAL;case He.UNAVAILABLE:return B.UNAVAILABLE;case He.UNAUTHENTICATED:return B.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case He.NOT_FOUND:return B.NOT_FOUND;case He.ALREADY_EXISTS:return B.ALREADY_EXISTS;case He.PERMISSION_DENIED:return B.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case He.ABORTED:return B.ABORTED;case He.OUT_OF_RANGE:return B.OUT_OF_RANGE;case He.UNIMPLEMENTED:return B.UNIMPLEMENTED;case He.DATA_LOSS:return B.DATA_LOSS;default:return ne(39323,{code:t})}}(me=He||(He={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new Vr([4294967295,4294967295],0);function p_(t){const e=K5().encode(t),n=new RT;return n.update(e),new Uint8Array(n.digest())}function m_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vr([n,r],0),new Vr([s,i],0)]}class pm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Do(`Invalid padding: ${n}`);if(r<0)throw new Do(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Do(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Vr.fromNumber(r)));return s.compare(J5)===1&&(s=new Vr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=p_(e),[r,s]=m_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new pm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=p_(e),[r,s]=m_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ha.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Oc(ie.min(),s,new Le(de),Xn(),fe())}}class Ha{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ha(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wS{constructor(e,n){this.targetId=e,this.Ce=n}}class ES{constructor(e,n,r=ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class g_{constructor(){this.ve=0,this.Fe=y_(),this.Me=ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new Ha(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=y_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xn(),this.Je=Dl(),this.He=Dl(),this.Ye=new Le(de)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Ch(i))if(r===0){const o=new Z(i.path);this.et(n,o,vt.newNoDocument(o,ie.min()))}else ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Hr(r).toUint8Array()}catch(l){if(l instanceof GT)return Ni("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pm(o,s,i)}catch(l){return Ni(l instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Ch(a.target)){const l=new Z(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,vt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=fe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Oc(e,n,this.Ye,this.je,r);return this.je=Xn(),this.Je=Dl(),this.He=Dl(),this.Ye=new Le(de),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new g_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qe(de),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qe(de),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dl(){return new Le(Z.comparator)}function y_(){return new Le(Z.comparator)}const Q5={asc:"ASCENDING",desc:"DESCENDING"},X5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z5={and:"AND",or:"OR"};class e8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kh(t,e){return t.useProto3Json||Mc(e)?e:{value:e}}function Ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t8(t,e){return Ku(t,e.toTimestamp())}function Rn(t){return ve(!!t,49232),ie.fromTimestamp(function(n){const r=Gr(n);return new ke(r.seconds,r.nanos)}(t))}function mm(t,e){return Nh(t,e).canonicalString()}function Nh(t,e){const n=function(s){return new xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TS(t){const e=xe.fromString(t);return ve(kS(e),10190,{key:e.toString()}),e}function Rh(t,e){return mm(t.databaseId,e.path)}function ef(t,e){const n=TS(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(CS(n))}function SS(t,e){return mm(t.databaseId,e)}function n8(t){const e=TS(t);return e.length===4?xe.emptyPath():CS(e)}function bh(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CS(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function v_(t,e,n){return{name:Rh(t,e),fields:n.value.mapValue.fields}}function r8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ve(h===void 0||typeof h=="string",58123),ut.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:_S(c.code);return new J(h,c.message||"")}(o);n=new ES(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ef(t,r.document.name),i=Rn(r.document.updateTime),o=r.document.createTime?Rn(r.document.createTime):ie.min(),a=new Dt({mapValue:{fields:r.document.fields}}),l=vt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ru(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ef(t,r.document),i=r.readTime?Rn(r.readTime):ie.min(),o=vt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ru([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ef(t,r.document),i=r.removedTargetIds||[];n=new ru([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new j5(s,i),a=r.targetId;n=new wS(a,o)}}return n}function s8(t,e){let n;if(e instanceof Ga)n={update:v_(t,e.key,e.value)};else if(e instanceof vS)n={delete:Rh(t,e.key)};else if(e instanceof Xr)n={update:v_(t,e.key,e.data),updateMask:h8(e.fieldMask)};else{if(!(e instanceof H5))return ne(16599,{Vt:e.type});n={verify:Rh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof xa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ta)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ca)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:t8(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function i8(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Rn(s.updateTime):Rn(i);return o.isEqual(ie.min())&&(o=Rn(i)),new q5(o,s.transformResults||[])}(n,e))):[]}function o8(t,e){return{documents:[SS(t,e.path)]}}function a8(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SS(t,s);const i=function(c){if(c.length!==0)return AS(pn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:zs(g.field),direction:c8(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=kh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function l8(t){let e=n8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const g=IS(m);return g instanceof pn&&XT(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(w){return new Wu($s(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,Mc(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(m){const g=!!m.before,v=m.values||[];return new ju(v,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,v=m.values||[];return new ju(v,g)}(n.endAt)),k5(e,s,o,i,a,"F",l,c)}function u8(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$s(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$s(n.unaryFilter.field);return $e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$s(n.unaryFilter.field);return $e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$s(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return $e.create($s(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>IS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function c8(t){return Q5[t]}function d8(t){return X5[t]}function f8(t){return Z5[t]}function zs(t){return{fieldPath:t.canonicalString()}}function $s(t){return ot.fromServerFormat(t.fieldPath)}function AS(t){return t instanceof $e?function(n){if(n.op==="=="){if(i_(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(s_(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i_(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(s_(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:d8(n.op),value:n.value}}}(t):t instanceof pn?function(n){const r=n.getFilters().map(s=>AS(s));return r.length===1?r[0]:{compositeFilter:{op:f8(n.op),filters:r}}}(t):ne(54877,{filter:t})}function h8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,s,i=ie.min(),o=ie.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.yt=e}}function m8(t){const e=l8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this.Cn=new y8}addToCollectionParentIndex(e,n){return this.Cn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Br.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class y8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qe(xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qe(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NS=41943040;class Pt{static withCacheSize(e){return new Pt(e,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(NS,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Di(0)}static cr(){return new Di(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",v8=1048576;function E_([t,e],[n,r]){const s=de(t,n);return s===0?de(e,r):s}class _8{constructor(e){this.Ir=e,this.buffer=new Qe(E_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();E_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(w_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ki(n)?Y(w_,"Ignoring IndexedDB error during garbage collection: ",n):await Wi(n)}await this.Vr(3e5)})}}class E8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return G.resolve(Pc.ce);const r=new _8(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(__)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),Gs()<=ce.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${m} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function x8(t,e){return new E8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.changes=new Ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Yo(r.mutation,s,$t.empty(),ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const s=fs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Mo();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Xn();const o=Jo(),a=function(){return Jo()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Xr)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Yo(h.mutation,c,h.mutation.getFieldMask(),ke.now())):o.set(c.key,$t.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new S8(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Jo();let s=new Le((o,a)=>o-a),i=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||$t.empty();h=a.applyToLocalView(c,h),r.set(l,h);const m=(s.get(a.batchId)||fe()).add(l);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,m=lS();h.forEach(g=>{if(!i.has(g)){const v=gS(n.get(g),r.get(g));v!==null&&m.set(g,v),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):G.resolve(fs());let a=va,l=i;return o.next(c=>G.forEach(c,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(h)?G.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,fe())).next(h=>({batchId:a,changes:aS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let s=Mo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Mo();return this.indexManager.getCollectionParents(e,i).next(a=>G.forEach(a,l=>{const c=function(m,g){return new Ba(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,vt.newInvalidDocument(h)))});let a=Mo();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&Yo(h.mutation,c,$t.empty(),ke.now()),Lc(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return G.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Rn(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:m8(s.bundledQuery),readTime:Rn(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(){this.overlays=new Le(Z.comparator),this.qr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return G.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=fs(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Le((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=fs(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=fs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return G.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $5(n,r));let i=this.qr.get(n);i===void 0&&(i=fe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Qr=new Qe(Ze.$r),this.Ur=new Qe(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ze(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new xe([])),r=new Ze(n,e),s=new Ze(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new xe([])),r=new Ze(n,e),s=new Ze(n,e+1);let i=fe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ze(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||de(e.Yr,n.Yr)}static Kr(e,n){return de(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Ze.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new z5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Ze(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return G.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?am:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),s=new Ze(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),G.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(de);return n.forEach(s=>{const i=new Ze(s,0),o=new Ze(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),G.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new Ze(new Z(i),0);let a=new Qe(de);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),G.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return G.forEach(n.mutations,s=>{const i=new Ze(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ze(n,0),s=this.Zr.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.ri=e,this.docs=function(){return new Le(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():vt.newInvalidDocument(s))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Xn();const o=n.path,a=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||o5(i5(h),r)<=0||(s.has(h.key)||Lc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return G.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}ii(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new b8(this)}getSize(e){return G.resolve(this.size)}}class b8 extends T8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.persistence=e,this.si=new Ms(n=>cm(n),dm),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new gm,this.targetCount=0,this.ai=Di.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),G.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Di(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Pr(n),G.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),G.waitFor(i).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),G.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pc(0),this.li=!1,this.li=!0,this.hi=new k8,this.referenceDelegate=e(this),this.Pi=new P8(this),this.indexManager=new g8,this.remoteDocumentCache=function(s){return new R8(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new p8(n),this.Ii=new I8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new N8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new M8(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return G.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class M8 extends l5{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ri=new gm,this.Vi=null}static mi(e){return new ym(e)}get fi(){if(this.Vi)return this.Vi;throw ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,r=>{const s=Z.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return G.or([()=>G.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ju{constructor(e,n){this.persistence=e,this.pi=new Ms(r=>d5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=x8(this,n)}static mi(e,n){return new Ju(e,n)}Ei(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return G.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?G.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ie.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eu(e.data.value)),n}br(e,n,r){return G.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return G.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=fe(),s=fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new vm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return AD()?8:u5(xt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new D8;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Gs()<=ce.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(Gs()<=ce.DEBUG&&Y("QueryEngine","Query:",Hs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Gs()<=ce.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(n))):G.resolve())}ys(e,n){if(u_(n))return G.resolve(null);let r=kn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ah(n,null,"F"),r=kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=fe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Ah(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return u_(n)||s.isEqual(ie.min())?G.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?G.resolve(null):(Gs()<=ce.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hs(n)),this.vs(e,o,n,s5(s,va)).next(a=>a))})}Ds(e,n){let r=new Qe(iS(e));return n.forEach((s,i)=>{Lc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Gs()<=ce.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Hs(n)),this.ps.getDocumentsMatchingQuery(e,n,Br.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="LocalStore",L8=3e8;class U8{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Le(de),this.xs=new Ms(i=>cm(i),dm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function F8(t,e,n,r){return new U8(t,e,n,r)}async function bS(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=fe();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function O8(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const m=c.batch,g=m.keys();let v=G.resolve();return g.forEach(w=>{v=v.next(()=>h.getEntry(l,w)).next(I=>{const P=c.docVersions.get(w);ve(P!==null,48541),I.version.compareTo(P)<0&&(m.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function PS(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function q8(t,e){const n=oe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,m)=>{const g=s.get(m);if(!g)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,m)));let v=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(ut.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(m,v),function(I,P,A){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=L8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let l=Xn(),c=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(B8(i,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(ie.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return G.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function B8(t,e,n){let r=fe(),s=fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Xn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(_m,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function G8(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=am),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H8(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,G.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Tr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ph(t,e,n){const r=oe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ki(o))throw o;Y(_m,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function x_(t,e,n){const r=oe(t);let s=ie.min(),i=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const m=oe(l),g=m.xs.get(h);return g!==void 0?G.resolve(m.Ms.get(g)):m.Pi.getTargetData(c,h)}(r,o,kn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:fe())).next(a=>(z8(r,R5(e),a),{documents:a,Qs:i})))}function z8(t,e,n){let r=t.Os.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class T_{constructor(){this.activeTargetIds=L5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $8{constructor(){this.Mo=new T_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new T_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="ConnectivityMonitor";class C_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(S_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(S_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl=null;function Mh(){return Vl===null?Vl=function(){return 268435456+Math.round(2147483648*Math.random())}():Vl++,"0x"+Vl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="RestConnection",W8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===zu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Mh(),a=this.zo(e,n.toUriEncodedString());Y(tf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),h=zi(c);return this.Jo(e,a,l,r,h).then(m=>(Y(tf,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Ni(tf,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ji}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=W8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class Y8 extends K8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Mh();return new Promise((a,l)=>{const c=new bT;c.setWithCredentials(!0),c.listenOnce(PT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zl.NO_ERROR:const m=c.getResponseJson();Y(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Zl.TIMEOUT:Y(pt,`RPC '${e}' ${o} timed out`),l(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case Zl.HTTP_ERROR:const g=c.getStatus();if(Y(pt,`RPC '${e}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const I=function(A){const x=A.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(x)>=0?x:B.UNKNOWN}(w.status);l(new J(I,w.message))}else l(new J(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new J(B.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Y(pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Y(pt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Mh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VT(),a=DT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Y(pt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const m=o.createWebChannel(h,l);this.I_(m);let g=!1,v=!1;const w=new J8({Yo:P=>{v?Y(pt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(g||(Y(pt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),Y(pt,`RPC '${e}' stream ${s} sending:`,P),m.send(P))},Zo:()=>m.close()}),I=(P,A,x)=>{P.listen(A,k=>{try{x(k)}catch(D){setTimeout(()=>{throw D},0)}})};return I(m,Po.EventType.OPEN,()=>{v||(Y(pt,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),I(m,Po.EventType.CLOSE,()=>{v||(v=!0,Y(pt,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(m))}),I(m,Po.EventType.ERROR,P=>{v||(v=!0,Ni(pt,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),w.a_(new J(B.UNAVAILABLE,"The operation could not be completed")))}),I(m,Po.EventType.MESSAGE,P=>{var A;if(!v){const x=P.data[0];ve(!!x,16349);const k=x,D=(k==null?void 0:k.error)||((A=k[0])==null?void 0:A.error);if(D){Y(pt,`RPC '${e}' stream ${s} received error:`,D);const U=D.status;let V=function(S){const b=He[S];if(b!==void 0)return _S(b)}(U),T=D.message;V===void 0&&(V=B.INTERNAL,T="Unknown error status: "+U+" with message "+D.message),v=!0,w.a_(new J(V,T)),m.close()}else Y(pt,`RPC '${e}' stream ${s} received:`,x),w.u_(x)}}),I(a,MT.STAT_EVENT,P=>{P.stat===wh.PROXY?Y(pt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===wh.NOPROXY&&Y(pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){return new e8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class DS{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q8 extends DS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=r8(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Rn(o.readTime):ie.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=bh(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Ch(l)?{documents:o8(i,l)}:{query:a8(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xS(i,o.resumeToken);const c=kh(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=Ku(i,o.snapshotVersion.toTimestamp());const c=kh(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=u8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=bh(this.serializer),n.removeTarget=e,this.q_(n)}}class X8 extends DS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=i8(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=bh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s8(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{}class eV extends Z8{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Nh(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Nh(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class tV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qn(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class nV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ds(this)&&(Y(Is,"Restarting streams for network reachability change."),await async function(l){const c=oe(l);c.Ea.add(4),await za(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Bc(c)}(this))})}),this.Ra=new tV(r,s)}}async function Bc(t){if(Ds(t))for(const e of t.da)await e(!0)}async function za(t){for(const e of t.da)await e(!1)}function VS(t,e){const n=oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tm(n)?xm(n):Ji(n).O_()&&Em(n,e))}function wm(t,e){const n=oe(t),r=Ji(n);n.Ia.delete(e),r.O_()&&LS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ds(n)&&n.Ra.set("Unknown"))}function Em(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ji(t).Y_(e)}function LS(t,e){t.Va.Ue(e),Ji(t).Z_(e)}function xm(t){t.Va=new Y5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ji(t).start(),t.Ra.ua()}function Tm(t){return Ds(t)&&!Ji(t).x_()&&t.Ia.size>0}function Ds(t){return oe(t).Ea.size===0}function US(t){t.Va=void 0}async function rV(t){t.Ra.set("Online")}async function sV(t){t.Ia.forEach((e,n)=>{Em(t,e)})}async function iV(t,e){US(t),Tm(t)?(t.Ra.ha(e),xm(t)):t.Ra.set("Unknown")}async function oV(t,e,n){if(t.Ra.set("Online"),e instanceof ES&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yu(t,r)}else if(e instanceof ru?t.Va.Ze(e):e instanceof wS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ie.min()))try{const r=await PS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),LS(i,l);const m=new Tr(h.target,l,c,h.sequenceNumber);Em(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(Is,"Failed to raise snapshot:",r),await Yu(t,r)}}async function Yu(t,e,n){if(!Ki(e))throw e;t.Ea.add(1),await za(t),t.Ra.set("Offline"),n||(n=()=>PS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Is,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bc(t)})}function FS(t,e){return e().catch(n=>Yu(t,n,e))}async function Gc(t){const e=oe(t),n=$r(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:am;for(;aV(e);)try{const s=await G8(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,lV(e,s)}catch(s){await Yu(e,s)}OS(e)&&qS(e)}function aV(t){return Ds(t)&&t.Ta.length<10}function lV(t,e){t.Ta.push(e);const n=$r(t);n.O_()&&n.X_&&n.ea(e.mutations)}function OS(t){return Ds(t)&&!$r(t).x_()&&t.Ta.length>0}function qS(t){$r(t).start()}async function uV(t){$r(t).ra()}async function cV(t){const e=$r(t);for(const n of t.Ta)e.ea(n.mutations)}async function dV(t,e,n){const r=t.Ta.shift(),s=hm.from(r,e,n);await FS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gc(t)}async function fV(t,e){e&&$r(t).X_&&await async function(r,s){if(function(o){return W5(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();$r(r).B_(),await FS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gc(r)}}(t,e),OS(t)&&qS(t)}async function A_(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),Y(Is,"RemoteStore received new credentials");const r=Ds(n);n.Ea.add(3),await za(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bc(n)}async function hV(t,e){const n=oe(t);e?(n.Ea.delete(2),await Bc(n)):e||(n.Ea.add(2),await za(n),n.Ra.set("Unknown"))}function Ji(t){return t.ma||(t.ma=function(n,r,s){const i=oe(n);return i.sa(),new Q8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:rV.bind(null,t),t_:sV.bind(null,t),r_:iV.bind(null,t),H_:oV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Tm(t)?xm(t):t.Ra.set("Unknown")):(await t.ma.stop(),US(t))})),t.ma}function $r(t){return t.fa||(t.fa=function(n,r,s){const i=oe(n);return i.sa(),new X8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:uV.bind(null,t),r_:fV.bind(null,t),ta:cV.bind(null,t),na:dV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gc(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(Is,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Sm(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),Ki(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{static emptySet(e){return new mi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Mo(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.ga=new Le(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vi{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vi(e,n,mi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mV{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=oe(n),i=s.queries;s.queries=N_(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function N_(){return new Ms(t=>sS(t),Vc)}async function gV(t,e){const n=oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new pV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Cm(o,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Im(n)}async function yV(t,e){const n=oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vV(t,e){const n=oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Im(n)}function _V(t,e,n){const r=oe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Im(t){t.Ca.forEach(e=>{e.next()})}var Dh,R_;(R_=Dh||(Dh={})).Ma="default",R_.Cache="cache";class wV{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Vi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.key=e}}class GS{constructor(e){this.key=e}}class EV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=iS(e),this.tu=new mi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new k_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const g=s.get(h),v=Lc(this.query,m)?m:null,w=!!g&&this.mutatedKeys.has(g.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let P=!1;g&&v?g.data.isEqual(v.data)?w!==I&&(r.track({type:3,doc:v}),P=!0):this.su(g,v)||(r.track({type:2,doc:v}),P=!0,(l&&this.eu(v,l)>0||c&&this.eu(v,c)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),P=!0):g&&!v&&(r.track({type:1,doc:g}),P=!0,(l||c)&&(a=!0)),P&&(v?(o=o.add(v),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(v,w){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Rt:P})}};return I(v)-I(w)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Vi(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new k_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new GS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new BS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Am="SyncEngine";class xV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TV{constructor(e){this.key=e,this.hu=!1}}class SV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ms(a=>sS(a),Vc),this.Iu=new Map,this.Eu=new Set,this.du=new Le(Z.comparator),this.Au=new Map,this.Ru=new gm,this.Vu={},this.mu=new Map,this.fu=Di.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CV(t,e,n=!0){const r=KS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await HS(r,e,n,!0),s}async function IV(t,e){const n=KS(t);await HS(n,e,!0,!1)}async function HS(t,e,n,r){const s=await H8(t.localStore,kn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await AV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&VS(t.remoteStore,s),a}async function AV(t,e,n,r,s){t.pu=(m,g,v)=>async function(I,P,A,x){let k=P.view.ru(A);k.Cs&&(k=await x_(I.localStore,P.query,!1).then(({documents:T})=>P.view.ru(T,k)));const D=x&&x.targetChanges.get(P.targetId),U=x&&x.targetMismatches.get(P.targetId)!=null,V=P.view.applyChanges(k,I.isPrimaryClient,D,U);return P_(I,P.targetId,V.au),V.snapshot}(t,m,g,v);const i=await x_(t.localStore,e,!0),o=new EV(e,i.Qs),a=o.ru(i.documents),l=Ha.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);P_(t,n,c.au);const h=new xV(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function kV(t,e,n){const r=oe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Vc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ph(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wm(r.remoteStore,s.targetId),Vh(r,s.targetId)}).catch(Wi)):(Vh(r,s.targetId),await Ph(r.localStore,s.targetId,!0))}async function NV(t,e){const n=oe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wm(n.remoteStore,r.targetId))}async function RV(t,e,n){const r=UV(t);try{const s=await function(o,a){const l=oe(o),c=ke.now(),h=a.reduce((v,w)=>v.add(w.key),fe());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=Xn(),I=fe();return l.Ns.getEntries(v,h).next(P=>{w=P,w.forEach((A,x)=>{x.isValidDocument()||(I=I.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,w)).next(P=>{m=P;const A=[];for(const x of a){const k=G5(x,m.get(x.key).overlayedDocument);k!=null&&A.push(new Xr(x.key,k,JT(k.value.mapValue),Nn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,A,a)}).next(P=>{g=P;const A=P.applyToLocalDocumentSet(m,I);return l.documentOverlayCache.saveOverlays(v,P.batchId,A)})}).then(()=>({batchId:g.batchId,changes:aS(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Le(de)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await $a(r,s.changes),await Gc(r.remoteStore)}catch(s){const i=Cm(s,"Failed to persist write");n.reject(i)}}async function zS(t,e){const n=oe(t);try{const r=await q8(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ve(o.hu,14607):s.removedDocuments.size>0&&(ve(o.hu,42227),o.hu=!1))}),await $a(n,r,e)}catch(r){await Wi(r)}}function b_(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let c=!1;l.queries.forEach((h,m)=>{for(const g of m.Sa)g.va(a)&&(c=!0)}),c&&Im(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bV(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Le(Z.comparator);o=o.insert(i,vt.newNoDocument(i,ie.min()));const a=fe().add(i),l=new Oc(ie.min(),new Map,new Le(de),o,a);await zS(r,l),r.du=r.du.remove(i),r.Au.delete(e),km(r)}else await Ph(r.localStore,e,!1).then(()=>Vh(r,e,n)).catch(Wi)}async function PV(t,e){const n=oe(t),r=e.batch.batchId;try{const s=await O8(n.localStore,e);jS(n,r,null),$S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $a(n,s)}catch(s){await Wi(s)}}async function MV(t,e,n){const r=oe(t);try{const s=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(ve(m!==null,37113),h=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);jS(r,e,n),$S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $a(r,s)}catch(s){await Wi(s)}}function $S(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jS(t,e,n){const r=oe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Vh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||WS(t,r)})}function WS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),km(t))}function P_(t,e,n){for(const r of n)r instanceof BS?(t.Ru.addReference(r.key,e),DV(t,r)):r instanceof GS?(Y(Am,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||WS(t,r.key)):ne(19791,{wu:r})}function DV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(Am,"New document in limbo: "+n),t.Eu.add(r),km(t))}function km(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(xe.fromString(e)),r=t.fu.next();t.Au.set(r,new TV(n)),t.du=t.du.insert(n,r),VS(t.remoteStore,new Tr(kn(nS(n.path)),r,"TargetPurposeLimboResolution",Pc.ce))}}async function $a(t,e,n){const r=oe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(c){s.push(c);const m=vm.As(l.targetId,c);i.push(m)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const h=oe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>G.forEach(c,g=>G.forEach(g.Es,v=>h.persistence.referenceDelegate.addReference(m,g.targetId,v)).next(()=>G.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))}catch(m){if(!Ki(m))throw m;Y(_m,"Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const v=h.Ms.get(g),w=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(g,I)}}}(r.localStore,i))}async function VV(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){Y(Am,"User change. New user:",e.toKey());const r=await bS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new J(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $a(n,r.Ls)}}function LV(t,e){const n=oe(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let s=fe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function KS(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bV.bind(null,e),e.Pu.H_=vV.bind(null,e.eventManager),e.Pu.yu=_V.bind(null,e.eventManager),e}function UV(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MV.bind(null,e),e}class Qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return F8(this.persistence,new V8,e.initialUser,this.serializer)}Cu(e){return new RS(ym.mi,this.serializer)}Du(e){return new $8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qu.provider={build:()=>new Qu};class FV extends Qu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ve(this.persistence.referenceDelegate instanceof Ju,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new RS(r=>Ju.mi(r,n),this.serializer)}}class Lh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VV.bind(null,this.syncEngine),await hV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mV}()}createDatastore(e){const n=qc(e.databaseInfo.databaseId),r=function(i){return new Y8(i)}(e.databaseInfo);return function(i,o,a,l){return new eV(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new nV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>b_(this.syncEngine,n,0),function(){return C_.v()?new C_:new j8}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const m=new SV(s,i,o,a,l,c);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=oe(s);Y(Is,"RemoteStore shutting down."),i.Ea.add(5),await za(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Lh.provider={build:()=>new Lh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class qV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=gt.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(jr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(jr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(jr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await bS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function M_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BV(t);Y(jr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>A_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>A_(e.remoteStore,s)),t._onlineComponents=e}async function BV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(jr,"Using user provided OfflineComponentProvider");try{await rf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ni("Error using user provided cache. Falling back to memory cache: "+n),await rf(t,new Qu)}}else Y(jr,"Using default OfflineComponentProvider"),await rf(t,new FV(void 0));return t._offlineComponents}async function JS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(jr,"Using user provided OnlineComponentProvider"),await M_(t,t._uninitializedComponentsProvider._online)):(Y(jr,"Using default OnlineComponentProvider"),await M_(t,new Lh))),t._onlineComponents}function GV(t){return JS(t).then(e=>e.syncEngine)}async function HV(t){const e=await JS(t),n=e.eventManager;return n.onListen=CV.bind(null,e.syncEngine),n.onUnlisten=kV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NV.bind(null,e.syncEngine),n}function zV(t,e,n={}){const r=new Lr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new OV({next:g=>{h.Nu(),o.enqueueAndForget(()=>yV(i,m)),g.fromCache&&l.source==="server"?c.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new wV(a,h,{includeMetadataChanges:!0,qa:!0});return gV(i,m)}(await HV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",V_=!0;class L_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=V_}else this.host=e.host,this.ssl=e.ssl??V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v8)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W4;switch(r.type){case"firstParty":return new Q4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=D_.get(n);r&&(Y("ComponentProvider","Removing Datastore"),D_.delete(n),r.terminate())}(this),Promise.resolve()}}function $V(t,e,n,r={}){var c;t=bi(t,Hc);const s=zi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(xT(`https://${a}`),TT("Firestore",!0)),i.host!==QS&&i.host!==a&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Ts(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=gt.MOCK_USER;else{h=vD(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new gt(g)}t._authCredentials=new K4(new UT(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(qa(n,Ye._jsonSchema))return new Ye(e,r||null,new Z(xe.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:je("string",Ye._jsonSchemaVersion),referencePath:je("string")};class Ur extends Yi{constructor(e,n,r){super(e,n,nS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new Z(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function Zr(t,e,...n){if(t=Nt(t),FT("collection","path",e),t instanceof Hc){const r=xe.fromString(e,...n);return Jv(r),new Ur(t,null,r)}{if(!(t instanceof Ye||t instanceof Ur))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return Jv(r),new Ur(t.firestore,null,r)}}function Nm(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=om.newId()),FT("doc","path",e),t instanceof Hc){const r=xe.fromString(e,...n);return Kv(r),new Ye(t,null,new Z(r))}{if(!(t instanceof Ye||t instanceof Ur))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return Kv(r),new Ye(t.firestore,t instanceof Ur?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MS(this,"async_queue_retry"),this._c=()=>{const r=nf();r&&Y(U_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Lr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ki(e))throw e;Y(U_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Qn("INTERNAL UNHANDLED ERROR: ",O_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Sm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ne(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function O_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zc extends Hc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new F_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function jV(t,e){const n=typeof t=="object"?t:AT(),r=typeof t=="string"?t:zu,s=sm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=gD("firestore");i&&$V(s,...i)}return s}function XS(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WV(t),t._firestoreClient}function WV(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,h){return new p5(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zt(ut.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zt(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qa(e,Zt._jsonSchema))return Zt.fromBase64String(e.bytes)}}Zt._jsonSchemaVersion="firestore/bytes/1.0",Zt._jsonSchema={type:je("string",Zt._jsonSchemaVersion),bytes:je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bn._jsonSchemaVersion}}static fromJSON(e){if(qa(e,bn._jsonSchema))return new bn(e.latitude,e.longitude)}}bn._jsonSchemaVersion="firestore/geoPoint/1.0",bn._jsonSchema={type:je("string",bn._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qa(e,Pn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Pn(e.vectorValues);throw new J(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pn._jsonSchemaVersion="firestore/vectorValue/1.0",Pn._jsonSchema={type:je("string",Pn._jsonSchemaVersion),vectorValues:je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=/^__.*__$/;class JV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ga(e,this.data,n,this.fieldTransforms)}}class ZS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ac:t})}}class Rm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eC(this.Ac)&&KV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qc(e)}Cc(e,n,r,s=!1){return new Rm({Ac:e,methodName:n,Dc:r,path:ot.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bm(t){const e=t._freezeSettings(),n=qc(t._databaseId);return new YV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QV(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Dm("Data must be an object, but it was:",o,r);const a=tC(r,o);let l,c;if(i.merge)l=new $t(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const g=Uh(e,m,n);if(!o.contains(g))throw new J(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);rC(h,g)||h.push(g)}l=new $t(h),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new JV(new Dt(a),l,c)}class jc extends ja{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}class Pm extends ja{_toFieldTransform(e){return new mS(e.path,new xa)}isEqual(e){return e instanceof Pm}}class Mm extends ja{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Ca(e.serializer,cS(e.serializer,this.Fc));return new mS(e.path,n)}isEqual(e){return e instanceof Mm&&this.Fc===e.Fc}}function XV(t,e,n,r){const s=t.Cc(1,e,n);Dm("Data must be an object, but it was:",s,r);const i=[],o=Dt.empty();Qr(r,(l,c)=>{const h=Vm(e,l,n);c=Nt(c);const m=s.yc(h);if(c instanceof jc)i.push(h);else{const g=Wa(c,m);g!=null&&(i.push(h),o.set(h,g))}});const a=new $t(i);return new ZS(o,a,s.fieldTransforms)}function ZV(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Uh(e,r,n)],l=[s];if(i.length%2!=0)throw new J(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(Uh(e,i[g])),l.push(i[g+1]);const c=[],h=Dt.empty();for(let g=a.length-1;g>=0;--g)if(!rC(c,a[g])){const v=a[g];let w=l[g];w=Nt(w);const I=o.yc(v);if(w instanceof jc)c.push(v);else{const P=Wa(w,I);P!=null&&(c.push(v),h.set(v,P))}}const m=new $t(c);return new ZS(h,m,o.fieldTransforms)}function eL(t,e,n,r=!1){return Wa(n,t.Cc(r?4:3,e))}function Wa(t,e){if(nC(t=Nt(t)))return Dm("Unsupported field value:",e,t),tC(t,e);if(t instanceof ja)return function(r,s){if(!eC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Wa(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ke.fromDate(r);return{timestampValue:Ku(s.serializer,i)}}if(r instanceof ke){const i=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ku(s.serializer,i)}}if(r instanceof bn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zt)return{bytesValue:xS(s.serializer,r._byteString)};if(r instanceof Ye){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pn)return function(o,a){return{mapValue:{fields:{[WT]:{stringValue:KT},[$u]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return fm(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${bc(r)}`)}(t,e)}function tC(t,e){const n={};return BT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,(r,s)=>{const i=Wa(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function nC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof bn||t instanceof Zt||t instanceof Ye||t instanceof ja||t instanceof Pn)}function Dm(t,e,n){if(!nC(n)||!OT(n)){const r=bc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Uh(t,e,n){if((e=Nt(e))instanceof $c)return e._internalPath;if(typeof e=="string")return Vm(t,e);throw Xu("Field path arguments must be of type string or ",t,!1,void 0,n)}const tL=new RegExp("[~\\*/\\[\\]]");function Vm(t,e,n){if(e.search(tL)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $c(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J(B.INVALID_ARGUMENT,a+t+l)}function rC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nL extends sC{data(){return super.data()}}function Lm(t,e){return typeof e=="string"?Vm(t,e):e instanceof $c?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class sL extends Um{}function Vs(t,e,...n){let r=[];e instanceof Um&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Fm).length,a=i.filter(l=>l instanceof Wc).length;if(o>1||o>0&&a>0)throw new J(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Wc extends sL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wc(e,n,r)}_apply(e){const n=this._parse(e);return iC(e._query,n),new Yi(e.firestore,e.converter,Ih(e._query,n))}_parse(e){const n=bm(e.firestore);return function(i,o,a,l,c,h,m){let g;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){B_(m,h);const w=[];for(const I of m)w.push(q_(l,i,I));g={arrayValue:{values:w}}}else g=q_(l,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||B_(m,h),g=eL(a,o,m,h==="in"||h==="not-in");return $e.create(c,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ls(t,e,n){const r=e,s=Lm("where",t);return Wc._create(s,r,n)}class Fm extends Um{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)iC(o,l),o=Ih(o,l)}(e._query,n),new Yi(e.firestore,e.converter,Ih(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function q_(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new J(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rS(e)&&n.indexOf("/")!==-1)throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xe.fromString(n));if(!Z.isDocumentKey(r))throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return r_(t,new Z(r))}if(n instanceof Ye)return r_(t,n._key);throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bc(n)}.`)}function B_(t,e){if(!Array.isArray(t)||t.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iL{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[$u].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Be(o.doubleValue));return new Pn(n)}convertGeoPoint(e){return new bn(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_a(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);ve(kS(r),9688,{name:e});const s=new wa(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(n)||Qn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gi extends sC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=gi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",gi._jsonSchema={type:je("string",gi._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class su extends gi{data(e={}){return super.data(e)}}class yi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ll(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new su(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new su(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new su(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:aL(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}yi._jsonSchemaVersion="firestore/querySnapshot/1.0",yi._jsonSchema={type:je("string",yi._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class lL extends iL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function Us(t){t=bi(t,Yi);const e=bi(t.firestore,zc),n=XS(e),r=new lL(e);return rL(t._query),zV(n,t._query).then(s=>new yi(e,r,t,s))}function oC(t,e,n,...r){t=bi(t,Ye);const s=bi(t.firestore,zc),i=bm(s);let o;return o=typeof(e=Nt(e))=="string"||e instanceof $c?ZV(i,"updateDoc",t._key,e,n,r):XV(i,"updateDoc",t._key,e),lC(s,[o.toMutation(t._key,Nn.exists(!0))])}function aC(t,e){const n=bi(t.firestore,zc),r=Nm(t),s=oL(t.converter,e);return lC(n,[QV(bm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function lC(t,e){return function(r,s){const i=new Lr;return r.asyncQueue.enqueueAndForget(async()=>RV(await GV(r),s,i)),i.promise}(XS(t),e)}function Ia(){return new Pm("serverTimestamp")}function uL(t){return new Mm("increment",t)}(function(e,n=!0){(function(s){ji=s})($i),ki(new Ss("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new zc(new J4(r.getProvider("auth-internal")),new X4(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(c.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Dr(zv,$v,e),Dr(zv,$v,"esm2020")})();function uC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cL=uC,cC=new Fa("auth","Firebase",uC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new nm("@firebase/auth");function dL(t,...e){Zu.logLevel<=ce.WARN&&Zu.warn(`Auth (${$i}): ${t}`,...e)}function iu(t,...e){Zu.logLevel<=ce.ERROR&&Zu.error(`Auth (${$i}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw Om(t,...e)}function Mn(t,...e){return Om(t,...e)}function dC(t,e,n){const r={...cL(),[e]:n};return new Fa("auth","Firebase",r).create(e,{appName:t.name})}function gs(t){return dC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cC.create(t,...e)}function re(t,e,...n){if(!t)throw Om(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw iu(e),new Error(e)}function er(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function fL(){return G_()==="http:"||G_()==="https:"}function G_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fL()||SD()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=ED()||CD()}get(){return hL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t,e){er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yL=new Ka(3e4,6e4);function Bm(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qi(t,e,n,r,s={}){return hC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Oa({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return TD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&zi(t.emulatorConfig.host)&&(c.credentials="include"),fC.fetch()(await pC(t,t.config.apiHost,n,a),c)})}async function hC(t,e,n){t._canInitEmulator=!1;const r={...mL,...e};try{const s=new _L(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ul(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ul(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ul(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dC(t,h,c);Zn(t,h)}}catch(s){if(s instanceof sr)throw s;Zn(t,"network-request-failed",{message:String(s)})}}async function vL(t,e,n,r,s={}){const i=await Qi(t,e,n,r,s);return"mfaPendingCredential"in i&&Zn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function pC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?qm(t.config,s):`${t.config.apiScheme}://${s}`;return gL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class _L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),yL.get())})}}function Ul(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Mn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return Qi(t,"POST","/v1/accounts:delete",e)}async function ec(t,e){return Qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EL(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),s=Gm(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Qo(sf(s.auth_time)),issuedAtTime:Qo(sf(s.iat)),expirationTime:Qo(sf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function sf(t){return Number(t)*1e3}function Gm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return iu("JWT malformed, contained fewer than 3 sections"),null;try{const s=vT(n);return s?JSON.parse(s):(iu("Failed to decode base64 JWT payload"),null)}catch(s){return iu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function H_(t){const e=Gm(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sr&&xL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Aa(t,ec(e,{idToken:n}));re(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(m=s.providerUserInfo)!=null&&m.length?mC(s.providerUserInfo):[],o=CL(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Oh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function SL(t){const e=Nt(t);await tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e){const n=await hC(t,{},async()=>{const r=Oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await pC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&zi(t.emulatorConfig.host)&&(l.credentials="include"),fC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AL(t,e){return Qi(t,"POST","/v2/accounts:revokeToken",Bm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=H_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await IL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new vi;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vi,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new TL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Oh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Aa(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EL(this,e)}reload(){return SL(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Aa(this,wL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:v,providerData:w,stsTokenManager:I}=n;re(m&&I,e,"internal-error");const P=vi.fromJSON(this.name,I);re(typeof m=="string",e,"internal-error"),fr(r,e.name),fr(s,e.name),re(typeof g=="boolean",e,"internal-error"),re(typeof v=="boolean",e,"internal-error"),fr(i,e.name),fr(o,e.name),fr(a,e.name),fr(l,e.name),fr(c,e.name),fr(h,e.name);const A=new cn({uid:m,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:P,createdAt:c,lastLoginAt:h});return w&&Array.isArray(w)&&(A.providerData=w.map(x=>({...x}))),l&&(A._redirectEventId=l),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new vi;s.updateFromServerResponse(n);const i=new cn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await tc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?mC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new vi;a.updateFromIdToken(r);const l=new cn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Oh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function Hn(t){er(t instanceof Function,"Expected a class definition");let e=z_.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gC.type="NONE";const $_=gC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e,n){return`firebase:${t}:${e}:${n}`}class _i{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ou(this.userKey,s.apiKey,i),this.fullPersistenceKey=ou("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ec(this.auth,{idToken:e}).catch(()=>{});return n?cn._fromGetAccountInfoResponse(this.auth,n,e):null}return cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _i(Hn($_),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Hn($_);const o=ou(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let m;if(typeof h=="string"){const g=await ec(e,{idToken:h}).catch(()=>{});if(!g)break;m=await cn._fromGetAccountInfoResponse(e,g,h)}else m=cn._fromJSON(e,h);c!==i&&(a=m),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new _i(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new _i(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xC(e))return"Blackberry";if(TC(e))return"Webos";if(vC(e))return"Safari";if((e.includes("chrome/")||_C(e))&&!e.includes("edge/"))return"Chrome";if(EC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yC(t=xt()){return/firefox\//i.test(t)}function vC(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _C(t=xt()){return/crios\//i.test(t)}function wC(t=xt()){return/iemobile/i.test(t)}function EC(t=xt()){return/android/i.test(t)}function xC(t=xt()){return/blackberry/i.test(t)}function TC(t=xt()){return/webos/i.test(t)}function Hm(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kL(t=xt()){var e;return Hm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function NL(){return ID()&&document.documentMode===10}function SC(t=xt()){return Hm(t)||EC(t)||TC(t)||xC(t)||/windows phone/i.test(t)||wC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t,e=[]){let n;switch(t){case"Browser":n=j_(xt());break;case"Worker":n=`${j_(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$i}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e={}){return Qi(t,"GET","/v2/passwordPolicy",Bm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=6;class ML{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new RL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await _i.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ec(this,{idToken:e}),r=await cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(gs(this));const n=e?Nt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bL(this),n=new ML(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hn(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await _i.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&dL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zm(t){return Nt(t)}class W_{constructor(e){this.auth=e,this.observer=null,this.addObserver=DD(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VL(t){$m=t}function LL(t){return $m.loadJS(t)}function UL(){return $m.gapiScript}function FL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e){const n=sm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ts(i,e??{}))return s;Zn(s,"already-initialized")}return n.initialize({options:e})}function qL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BL(t,e,n){const r=zm(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=IC(e),{host:o,port:a}=GL(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Ts(c,r.config.emulator)&&Ts(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,zi(o)?(xT(`${i}//${o}${l}`),TT("Auth",!0)):HL()}function IC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GL(t){const e=IC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:K_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:K_(o)}}}function K_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wi(t,e){return vL(t,"POST","/v1/accounts:signInWithIdp",Bm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="http://localhost";class As extends AC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new As(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wi(e,n)}buildRequest(){const e={requestUri:zL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends kC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Ja{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Ja{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Ja{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cn._fromIdTokenResponse(e,r,s),o=J_(r);return new Li({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=J_(r);return new Li({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function J_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends sr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,nc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new nc(e,n,r,s)}}function NC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?nc._fromErrorAndOperation(t,i,e,r):i})}async function $L(t,e,n=!1){const r=await Aa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Li._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e,n=!1){const{auth:r}=t;if(Sn(r.app))return Promise.reject(gs(r));const s="reauthenticate";try{const i=await Aa(t,NC(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=Gm(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Li._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e,n=!1){if(Sn(t.app))return Promise.reject(gs(t));const r="signIn",s=await NC(t,r,e),i=await Li._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function KL(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function JL(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}const rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rc,"1"),this.storage.removeItem(rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=1e3,QL=10;class bC extends RC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);NL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bC.type="LOCAL";const XL=bC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends RC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PC.type="SESSION";const MC=PC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Kc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await ZL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=jm("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function tU(t){Dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function nU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sU(){return DC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebaseLocalStorageDb",iU=1,sc="firebaseLocalStorage",LC="fbase_key";class Ya{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jc(t,e){return t.transaction([sc],e?"readwrite":"readonly").objectStore(sc)}function oU(){const t=indexedDB.deleteDatabase(VC);return new Ya(t).toPromise()}function qh(){const t=indexedDB.open(VC,iU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sc,{keyPath:LC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sc)?e(r):(r.close(),await oU(),e(await qh()))})})}async function Y_(t,e,n){const r=Jc(t,!0).put({[LC]:e,value:n});return new Ya(r).toPromise()}async function aU(t,e){const n=Jc(t,!1).get(e),r=await new Ya(n).toPromise();return r===void 0?null:r.value}function Q_(t,e){const n=Jc(t,!0).delete(e);return new Ya(n).toPromise()}const lU=800,uU=3;class UC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(sU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await nU(),!this.activeServiceWorker)return;this.sender=new eU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qh();return await Y_(e,rc,"1"),await Q_(e,rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Jc(s,!1).getAll();return new Ya(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UC.type="LOCAL";const cU=UC;new Ka(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t,e){return e?Hn(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends AC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fU(t){return WL(t.auth,new Wm(t),t.bypassAuthState)}function hU(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),jL(n,new Wm(t),t.bypassAuthState)}async function pU(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),$L(n,new Wm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fU;case"linkViaPopup":case"linkViaRedirect":return pU;case"reauthViaPopup":case"reauthViaRedirect":return hU;default:Zn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new Ka(2e3,1e4);class ii extends FC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ii.currentPopupAction&&ii.currentPopupAction.cancel(),ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mU.get())};e()}}ii.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="pendingRedirect",au=new Map;class yU extends FC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=au.get(this.auth._key());if(!e){try{const r=await vU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}au.set(this.auth._key(),e)}return this.bypassAuthState||au.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vU(t,e){const n=EU(e),r=wU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _U(t,e){au.set(t._key(),e)}function wU(t){return Hn(t._redirectPersistence)}function EU(t){return ou(gU,t.config.apiKey,t.name)}async function xU(t,e,n=!1){if(Sn(t.app))return Promise.reject(gs(t));const r=zm(t),s=dU(r,e),o=await new yU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=10*60*1e3;class SU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TU&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(e))}saveEventToCache(e){this.cachedEventUids.add(X_(e)),this.lastProcessedEventTime=Date.now()}}function X_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(t,e={}){return Qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kU=/^https?/;async function NU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IU(t);for(const n of e)try{if(RU(n))return}catch{}Zn(t,"unauthorized-domain")}function RU(t){const e=Fh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!kU.test(n))return!1;if(AU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new Ka(3e4,6e4);function Z_(){const t=Dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PU(t){return new Promise((e,n)=>{var s,i,o;function r(){Z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z_(),n(Mn(t,"network-request-failed"))},timeout:bU.get()})}if((i=(s=Dn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Dn().gapi)!=null&&o.load)r();else{const a=FL("iframefcb");return Dn()[a]=()=>{gapi.load?r():n(Mn(t,"network-request-failed"))},LL(`${UL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lu=null,e})}let lu=null;function MU(t){return lu=lu||PU(t),lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new Ka(5e3,15e3),VU="__/auth/iframe",LU="emulator/auth/iframe",UU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OU(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qm(e,LU):`https://${t.config.authDomain}/${VU}`,r={apiKey:e.apiKey,appName:t.name,v:$i},s=FU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Oa(r).slice(1)}`}async function qU(t){const e=await MU(t),n=Dn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:OU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),a=Dn().setTimeout(()=>{i(o)},DU.get());function l(){Dn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GU=500,HU=600,zU="_blank",$U="http://localhost";class ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jU(t,e,n,r=GU,s=HU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...BU,width:r.toString(),height:s.toString(),top:i,left:o},c=xt().toLowerCase();n&&(a=_C(c)?zU:n),yC(c)&&(e=e||$U,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[v,w])=>`${g}${v}=${w},`,"");if(kL(c)&&a!=="_self")return WU(e||"",a),new ew(null);const m=window.open(e||"",a,h);re(m,t,"popup-blocked");try{m.focus()}catch{}return new ew(m)}function WU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="__/auth/handler",JU="emulator/auth/handler",YU=encodeURIComponent("fac");async function tw(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$i,eventId:s};if(e instanceof kC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Ja){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${YU}=${encodeURIComponent(l)}`:"";return`${QU(t)}?${Oa(a).slice(1)}${c}`}function QU({config:t}){return t.emulator?qm(t,JU):`https://${t.authDomain}/${KU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class XU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MC,this._completeRedirectFn=xU,this._overrideRedirectResult=_U}async _openPopup(e,n,r,s){var o;er((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await tw(e,n,r,Fh(),s);return jU(e,i,jm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await tw(e,n,r,Fh(),s);return tU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(er(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qU(e),r=new SU(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(of,{type:of},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[of];i!==void 0&&n(!!i),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SC()||vC()||Hm()}}const ZU=XU;var nw="@firebase/auth",rw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n3(t){ki(new Ss("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CC(t)},c=new DL(r,s,i,l);return qL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ki(new Ss("auth-internal",e=>{const n=zm(e.getProvider("auth").getImmediate());return(r=>new e3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(nw,rw,t3(t)),Dr(nw,rw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=5*60,s3=ET("authIdTokenMaxAge")||r3;let sw=null;const i3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>s3)return;const s=n==null?void 0:n.token;sw!==s&&(sw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function o3(t=AT()){const e=sm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OL(t,{popupRedirectResolver:ZU,persistence:[cU,XL,MC]}),r=ET("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=i3(i.toString());JL(n,o,()=>o(n.currentUser)),KL(n,a=>o(a))}}const s=_T("auth");return s&&BL(n,`http://${s}`),n}function a3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}VL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Mn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",a3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n3("Browser");const l3={apiKey:"AIzaSyCHr4OXY_EcKxApVH9nz3kbUQQhQCPGZfY",authDomain:"usa-visa-prep-c72f7.firebaseapp.com",databaseURL:"https://usa-visa-prep-c72f7-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"usa-visa-prep-c72f7",storageBucket:"usa-visa-prep-c72f7.firebasestorage.app",messagingSenderId:"777839011356",appId:"1:777839011356:web:125ba58cd0a86da0e561d9"},qC=IT(l3),Un=jV(qC);o3(qC);const u3=[{name:"Andaman & Nicobar Islands",code:"AN"},{name:"Andhra Pradesh",code:"AP"},{name:"Arunachal Pradesh",code:"AR"},{name:"Assam",code:"AS"},{name:"Bihar",code:"BR"},{name:"Chandigarh",code:"CH"},{name:"Chhattisgarh",code:"CT"},{name:"Dadra & Nagar Haveli and Daman & Diu",code:"DD"},{name:"Delhi",code:"DL"},{name:"Goa",code:"GA"},{name:"Gujarat",code:"GJ"},{name:"Haryana",code:"HR"},{name:"Himachal Pradesh",code:"HP"},{name:"Jammu & Kashmir",code:"JK"},{name:"Jharkhand",code:"JH"},{name:"Karnataka",code:"KA"},{name:"Kerala",code:"KL"},{name:"Ladakh",code:"LA"},{name:"Lakshadweep",code:"LD"},{name:"Madhya Pradesh",code:"MP"},{name:"Maharashtra",code:"MH"},{name:"Manipur",code:"MN"},{name:"Meghalaya",code:"ML"},{name:"Mizoram",code:"MZ"},{name:"Nagaland",code:"NL"},{name:"Odisha",code:"OR"},{name:"Puducherry",code:"PY"},{name:"Punjab",code:"PB"},{name:"Rajasthan",code:"RJ"},{name:"Sikkim",code:"SK"},{name:"Tamil Nadu",code:"TN"},{name:"Telangana",code:"TG"},{name:"Tripura",code:"TR"},{name:"Uttar Pradesh",code:"UP"},{name:"Uttarakhand",code:"UT"},{name:"West Bengal",code:"WB"}],BC=async t=>{const e=Zr(Un,"travel_agent"),n=Vs(e,Ls("phone","==",t));return!(await Us(n)).empty},c3=async t=>{const e=Zr(Un,"travel_agent"),n=Vs(e,Ls("email","==",t));return!(await Us(n)).empty},d3=async t=>{const e=Zr(Un,"travel_agent"),n=Vs(e,Ls("phone","==",t)),r=await Us(n);if(!r.empty){const s=r.docs[0];return{id:s.id,...s.data()}}return null},Bh=async t=>{const e=Zr(Un,"travel_agent"),n=Vs(e,Ls("email","==",t)),r=await Us(n);if(!r.empty){const s=r.docs[0];return{id:s.id,...s.data()}}return null},f3=async t=>{try{const e=Zr(Un,"travel_agent"),n=Vs(e,Ls("email","==",t.email));if(!(await Us(n)).empty)return"EXISTS";let s="";if(t.isEECAgent==="Yes"&&t.branch){const o=qu.find(a=>a.identifier===t.branch);s=o?o.name:""}let i="";if(t.state){const o=u3.find(a=>a.code===t.state);i=o?o.name:t.state}return await aC(e,{...t,state:i,isEECAgent:t.isEECAgent||"",branch:s,isVerified:!0,count:0,createdAt:Ia()}),"CREATED"}catch{return"ERROR"}},iw=async t=>{try{const e=Zr(Un,"travel_agent"),n=Vs(e,Ls("email","==",t)),r=await Us(n);if(r.empty)return{success:!1,error:"User not found"};const s=r.docs[0],i=Nm(Un,"travel_agent",s.id);return await oC(i,{count:uL(1),lastUpdated:Ia()}),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},ow=async(t,e)=>{try{const n=Zr(Un,"visa_searches");return await aC(n,{userEmail:t,origin:e.origin,originState:e.originState,destination:e.destination,visaType:e.visaType,userCity:e.userCity||"",userState:e.userState||"",createdAt:Ia()}),{success:!0}}catch(n){return console.error("Error saving visa search query:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}},aw=async(t,e)=>{try{const n=Zr(Un,"travel_agent"),r=Vs(n,Ls("email","==",t)),s=await Us(r);if(s.empty)return{success:!1,error:"User not found"};const i=s.docs[0],o=Nm(Un,"travel_agent",i.id);return await oC(o,{lastDestination:e.destination,lastOriginState:e.originState,lastVisaType:e.visaType,lastOrigin:e.origin,lastSearchAt:Ia(),lastUpdated:Ia()}),{success:!0}}catch(n){return console.error("Error updating user last search:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}},h3="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/sendEmailOtpUSA",p3="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/verifyEmailOtpUSA",m3="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/sendRegistrationEmailsUniversal",g3=async t=>{try{return(await(await fetch(h3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,targetCountry:"Travel Agent"})})).json()).success===!0}catch(e){return console.error("Error sending email OTP:",e),!1}},y3=async(t,e)=>{try{return(await(await fetch(p3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,otp:e})})).json()).success===!0}catch(n){return console.error("Error verifying email OTP:",n),!1}},v3=t=>{let e=qu.find(n=>n.identifier===t);return e||(e=qu.find(n=>n.name===t)),!e||!e.counselors?[]:e.counselors.map(n=>n.email).filter(n=>n&&n.trim()!=="")},_3=(t,e)=>{let n=`New Visa Search Query - User Information

`;n+=`USER PROFILE
`,n+=`
`,n+=`Name: ${t.name||"N/A"}
`,n+=`Email: ${t.email||"N/A"}
`,n+=`Phone: ${t.phone||"N/A"}
`,n+=`EEC is Admissions Agent: ${t.isEECAgent||"N/A"}
`,t.isEECAgent==="Yes"&&t.branch&&(n+=`Selected Branch: ${t.branch}
`),n+=`

VISA SEARCH QUERY / BOOKING DETAILS
`,n+=`
`,n+=`Booking From: India
`,n+=`Booking To: ${e.destination||"N/A"}
`,n+=`Origin State: ${e.originState||"N/A"}
`,n+=`Visa Type: ${e.visaType||"N/A"}
`;const r=new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata"});if(n+=`Search Date: ${r}
`,t.createdAt){const s=new Date(t.createdAt.seconds*1e3).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"});n+=`User Registration Date: ${s}
`}return n+=`


`,n+=`TIP: To organize these emails, create a Gmail filter:
`,n+=`1. Click the three dots () on this email
`,n+=`2. Select "Filter messages like this"
`,n+=`3. Click "Create filter"
`,n+=`4. Check "Apply the label" and select/create "Visa Search Queries"
`,n+=`5. Click "Create filter"
`,n},lw=async(t,e)=>{try{const n=await Bh(t);if(!n)return console.error("User not found in database"),!1;const r=[];if(n.isEECAgent==="Yes"&&n.branch){const c=v3(n.branch);r.push(...c)}const s=["amit.jalan@eecglobal.com","madhav@eecglobal.com","eecprexa@gmail.com","eecbaroda@gmail.com"];r.push(...s);const i=[...new Set(r)];if(i.length===0)return console.error("No recipients found"),!1;const o=_3(n,e),l=`Visa Search: ${n.city?`${n.city}, `:""}${n.state||"India"}  ${e.destination} (${e.visaType}) - ${n.name||"User"}`;try{return(await(await fetch(m3,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipients:i,emailBody:o,subject:l})})).json()).success===!0}catch(c){return console.error("Error sending visa search emails:",c),!1}}catch(n){return console.error("Error in sendVisaSearchNotificationEmails:",n),!1}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},h)=>j.createElement("svg",{ref:h,...w3,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${E3(t)}`,a].join(" "),...c},[...e.map(([m,g])=>j.createElement(m,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=te("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=te("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=te("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=te("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=te("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=te("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=te("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=te("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=te("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=te("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=te("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=te("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=te("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=te("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=te("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=te("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=te("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Xo=Y3,ka=b3,oc=sF,Na=x3,Ra=zh,ba=ic,Vo=S3,Pa=q3,ac=oF,lf=A3,jh=H3,cF=eF,Yc=Hh,Fr=T3,dF=aF,fF=N3,Cn=$h,hF=C3,zC=V3,Zo=F3,$C=Q3,pF=GC,mF=$3,jC=k3,gF=L3,yF=tF,uw=HC,WC=rF,vF=iF,_F=K3,wF=j3,KC=X3,JC=O3,EF=nF,xF=I3,TF=D3,SF=W3,CF=Z3,YC=GC,Km=P3,Jm=M3,QC=lF,XC=J3,lc=({className:t})=>p.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),IF=({processingTime:t})=>{const n=(a=>{const l=typeof a=="string"?a:String(a||"");if(!l)return 15;const c=l.match(/\d+/g);if(!c)return 15;const h=c.reduce((m,g)=>m+parseInt(g),0)/c.length;return l.toLowerCase().includes("week")?h*7:h})(t),r=7,s=r+n+3,i=a=>{const l=new Date;return l.setDate(l.getDate()+a),l.toLocaleDateString("en-IN",{day:"numeric",month:"short"})},o=[{title:"Prepare Docs",date:i(0),desc:"Get checklist ready",status:"current",icon:ka},{title:"Submit App",date:i(r),desc:"Appointment / Biometrics",status:"upcoming",icon:jC},{title:"Processing",date:"~ "+Math.round(n)+" Days",desc:"Consulate Review",status:"upcoming",icon:ba},{title:"Fly",date:i(s),desc:"Visa Stamped",status:"upcoming",icon:Xo}];return p.jsxs("div",{className:"w-full py-6",children:[p.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-6 flex items-center gap-2",children:[p.jsx(ba,{className:"w-4 h-4"}),"Estimated Timeline"]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute top-5 left-4 right-4 h-0.5 bg-slate-200 dark:bg-slate-700 hidden md:block"}),p.jsx("div",{className:"absolute left-5 top-4 bottom-4 w-0.5 bg-slate-200 dark:bg-slate-700 md:hidden"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 relative z-10",children:o.map((a,l)=>p.jsxs("div",{className:"flex md:flex-col items-center md:text-center gap-4 md:gap-3 group",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-4 flex-shrink-0 transition-all duration-500
                    ${l===0?"bg-violet-600 border-violet-100 dark:border-violet-900 text-white shadow-lg shadow-violet-500/30 scale-110":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-600 text-slate-400 dark:text-slate-500 group-hover:border-violet-300 dark:group-hover:border-violet-700 group-hover:text-violet-500"}
                `,children:p.jsx(a.icon,{className:"w-4 h-4"})}),p.jsxs("div",{className:"text-left md:text-center",children:[p.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-0.5 ${l===0?"text-violet-600 dark:text-violet-400":"text-slate-500 dark:text-slate-400"}`,children:a.date}),p.jsx("h4",{className:`font-bold text-sm md:text-base ${l===0?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-300"}`,children:a.title}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 font-medium",children:a.desc})]})]},l))})]}),p.jsx("div",{className:"mt-6 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:["*Dates are estimated based on the current ",p.jsx("strong",{children:t||"Standard"})," processing window."]})})]})},AF=({data:t,origin:e,destination:n,visaType:r})=>{const[s,i]=j.useState("English"),[o,a]=j.useState(t),[l,c]=j.useState(!1),[h,m]=j.useState({}),[g,v]=j.useState(!1),[w,I]=j.useState(!1),[P,A]=j.useState(null),[x,k]=j.useState(!1),D=j.useRef(null),[U,V]=j.useState(0);j.useEffect(()=>{a(t),A(null),i("English")},[t]),j.useEffect(()=>{V(0);const q=setTimeout(()=>{V(o.confidenceScore||0)},100);return()=>clearTimeout(q)},[o.confidenceScore]),j.useLayoutEffect(()=>{x&&D.current&&D.current.scrollTo({top:0,behavior:"auto"})},[x]);const T=j.useMemo(()=>{try{if(!n)return null;const q=String(t.notes||""),H=String(t.embassyContact||""),$=(q+" "+H).toLowerCase(),ee=t&&Array.isArray(t.officialSources)?t.officialSources:[],se=String(n).toLowerCase().trim();if(se==="united states"||se==="usa"||$.includes("ustraveldocs"))return{url:"https://www.ustraveldocs.com/in/en/",label:"US Visa Appointment (CGI)"};if(se==="spain"||$.includes("bls")&&$.includes("spain"))return{url:"https://india.blsspainvisa.com/",label:"BLS Spain Appointment"};const Re={"united kingdom":"gbr",uk:"gbr",canada:"can",australia:"aus",france:"fra",germany:"deu",italy:"ita",netherlands:"nld",switzerland:"che",austria:"aut",japan:"jpn",poland:"pol",sweden:"swe",norway:"nor",denmark:"dnk",portugal:"prt",belgium:"bel","south africa":"zaf","czech republic":"cze",hungary:"hun",finland:"fin",croatia:"hrv",ireland:"irl",luxembourg:"lux",malta:"mlt",slovakia:"svk",slovenia:"svn",estonia:"est",latvia:"lva",lithuania:"ltu",iceland:"isl",cyprus:"cyp",ukraine:"ukr",georgia:"geo",thailand:"tha",singapore:"sgp",malaysia:"mys"}[se],St=ee.find(Pe=>{const nt=String(Pe.url||"").toLowerCase();return!!(Re&&nt.includes(`vfsglobal.com/ind/en/${Re}`))});if(St)return{url:St.url,label:`VFS Global Appointment (${n})`};if(Re)return{url:`https://visa.vfsglobal.com/ind/en/${Re}/book-appointment`,label:`Book VFS Appointment (${n})`};if($.includes("bls")){const Pe=ee.find(nt=>String(nt.url||"").includes("blsinternational"));return Pe?{url:Pe.url,label:"BLS International Appointment"}:{url:"https://www.blsinternational.com/india/",label:"BLS International Appointment"}}if($.includes("vfs")||ee.some(Pe=>String(Pe.url||"").includes("vfsglobal")))return{url:"https://visa.vfsglobal.com/ind/en/",label:"VFS Global Appointment"};if($.includes("tlscontact"))return{url:"https://www.tlscontact.com/",label:"TLScontact Appointment"}}catch(q){return console.warn("Error calculating booking link",q),null}return null},[t,n]),E=async q=>{const H=q.target.value;if(i(H),H==="English"){a(t);return}if(h[H]){a(h[H]);return}c(!0);try{const $=await rD(t,H);m(ee=>({...ee,[H]:$})),a($)}catch($){console.error("Translation failed",$)}finally{c(!1)}},S=async()=>{if(P){k(!0);return}I(!0);try{const q=e.includes("(")?e.split("(")[1].replace(")",""):"India",H=await sD("India",q,n,r);A(H),k(!0)}catch{alert("Failed to generate detailed checklist. Please try again.")}finally{I(!1)}},b=()=>{var H;const q=`
> **Source**: [EEC Global AI Travel Agent](https://ai.eecglobal.com/#/destination/${encodeURIComponent(n)}/type/${encodeURIComponent(r)})
> **Verified**: ${o.lastUpdate||new Date().toISOString().split("T")[0]}

**Visa Requirements for ${n} (${r})**
*Origin: ${e}*

| Metric | Value |
| :--- | :--- |
| **Status** | ${o.status} |
| **Cost** | ${o.cost} |
| **Processing** | ${o.processingTime} |
| **Validity** | ${o.validity} |

**Key Documents**:
${(H=o.documents)==null?void 0:H.slice(0,5).map($=>`- ${$}`).join(`
`)}

*Generated by Enbee Education Center (Est. 1997)*
    `.trim();navigator.clipboard.writeText(q),v(!0),setTimeout(()=>v(!1),2e3)},R=q=>{const H=new Date().toLocaleDateString("en-IN");let $=` *Visa Checklist: ${n} (${r})*
`;return $+=` Generated: ${H}
`,$+=` Origin: ${e}

`,$+=` *Status*: ${o.status}
`,$+=` *Est. Cost*: ${o.cost}
`,$+=` *Processing*: ${o.processingTime}

`,q&&P?($+=` *FORENSIC DOCUMENT CHECKLIST*
`,P.forEach(ee=>{$+=`
*${ee.categoryName}*
`,(ee.items||[]).forEach(se=>{$+=` ${se.item}${se.isCritical?" ( Critical)":""}
`})})):($+=` *Key Documents Required:*
`,(o.documents||[]).slice(0,8).forEach(ee=>{$+=` ${ee}
`}),(o.documents||[]).length>8&&($+=`+ ${(o.documents||[]).length-8} more...
`)),$+=`
 *Official Booking:* ${(T==null?void 0:T.url)||"Check Consulate Website"}
`,$+=`
*Note:* Generated by EEC AI. Verify with official sources.`,encodeURIComponent($)},M=(q,H=!1)=>{const $=R(H),ee=encodeURIComponent(`${n} Visa Checklist - EEC Services`);if(q==="whatsapp")window.open(`https://wa.me/?text=${$}`,"_blank");else{const se=decodeURIComponent($);window.open(`mailto:?subject=${ee}&body=${encodeURIComponent(se)}`,"_blank")}},N=q=>{const H=String(q||"").toLowerCase();return H.includes("free")||H.includes("not required")?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-800 dark:text-emerald-200 border-emerald-200 dark:border-emerald-800":H.includes("arrival")||H.includes("evisa")?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200 border-amber-200 dark:border-amber-800":"bg-violet-100 dark:bg-violet-900/50 text-violet-800 dark:text-violet-200 border-violet-200 dark:border-violet-800"},X=q=>q==="Easy"?"text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-800":q==="Medium"?"text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 border-amber-100 dark:border-amber-800":"text-rose-600 dark:text-rose-400 bg-rose-50 dark:bg-rose-900/20 border-rose-100 dark:border-rose-800",Se=()=>{const H=`Flights from ${e.includes("(")?"India":e} to ${n}`,$=`https://www.google.com/travel/flights?q=${encodeURIComponent(H)}`;window.open($,"_blank")},pe=(q=>q>=80?{bg:"bg-emerald-500",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800",label:"High Confidence"}:q>=50?{bg:"bg-amber-500",text:"text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",label:"Medium Confidence"}:{bg:"bg-rose-500",text:"text-rose-600 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800",label:"Low Confidence"})(o.confidenceScore||0);return p.jsxs("article",{itemScope:!0,itemType:"http://schema.org/GovernmentPermit",className:"w-full max-w-6xl mx-auto animate-fade-in-up relative overflow-hidden group/article",children:[l&&p.jsxs("div",{className:"absolute inset-0 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md z-20 rounded-3xl flex flex-col items-center justify-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-violet-200 border-t-violet-600 mb-4"}),p.jsxs("p",{className:"text-violet-900 dark:text-violet-200 font-bold animate-pulse",children:["Translating to ",s,"..."]})]}),x&&P&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden relative border border-slate-200 dark:border-slate-800",children:[p.jsxs("div",{className:"p-6 bg-slate-900 dark:bg-slate-950 text-white flex items-center justify-between flex-shrink-0 border-b border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[p.jsx("div",{className:"p-2 bg-emerald-500 rounded-lg text-slate-900 flex-shrink-0",children:p.jsx(Cn,{className:"w-6 h-6"})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("h3",{className:"font-extrabold text-xl tracking-tight truncate",children:"Forensic Document Protocol"}),p.jsxs("p",{className:"text-emerald-400 text-xs font-bold uppercase tracking-wider truncate",children:["Official AI Deep-Dive  ",n,"  ",r]})]})]}),p.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors flex-shrink-0",children:p.jsx("span",{className:"text-2xl leading-none",children:""})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 bg-slate-50 dark:bg-slate-900",ref:D,children:[p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl flex gap-3 items-start",children:[p.jsx(Na,{className:"w-5 h-5 text-amber-600 dark:text-amber-500 flex-shrink-0 mt-0.5"}),p.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium break-words [overflow-wrap:anywhere]",children:"This checklist is generated based on strict consular standards. Missing small details (like bank stamps or specific photo backgrounds) often leads to rejection. Check off items as you verify them."})]}),(P||[]).map((q,H)=>p.jsxs("div",{className:"bg-white dark:bg-slate-950 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[p.jsxs("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-4 pb-2 border-b border-slate-100 dark:border-slate-800 flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-6 bg-violet-600 rounded-full"}),q.categoryName]}),p.jsx("div",{className:"space-y-4",children:(q.items||[]).map(($,ee)=>p.jsxs("div",{className:"flex gap-4 group",children:[p.jsx("div",{className:"pt-1 flex-shrink-0",children:p.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-violet-600 focus:ring-violet-500 cursor-pointer"})}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[p.jsx("span",{className:"font-bold text-slate-900 dark:text-slate-200 text-base break-words [overflow-wrap:anywhere]",children:$.item}),$.isCritical&&p.jsx("span",{className:"bg-rose-100 dark:bg-rose-900/40 text-rose-700 dark:text-rose-300 text-[10px] font-extrabold px-2 py-0.5 rounded-full uppercase tracking-wider flex-shrink-0",children:"Critical"})]}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed font-medium break-words [overflow-wrap:anywhere] min-w-0",children:$.description})]})]},ee))})]},H))]}),p.jsxs("div",{className:"p-4 bg-white dark:bg-slate-950 border-t border-slate-200 dark:border-slate-800 flex justify-between gap-2 flex-shrink-0",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>M("whatsapp",!0),className:"px-4 py-2.5 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl flex items-center gap-2 transition-colors shadow-sm",title:"Send Full Checklist to WhatsApp",children:[p.jsx(lc,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"WhatsApp"})]}),p.jsx("button",{onClick:()=>M("email",!0),className:"px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 font-bold rounded-xl flex items-center gap-2 transition-colors",children:p.jsx(uw,{className:"w-4 h-4"})})]}),p.jsx("div",{className:"flex gap-2",children:p.jsx("button",{onClick:()=>k(!1),className:"px-5 py-2.5 bg-slate-900 dark:bg-slate-700 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-slate-600 transition-colors",children:"Close"})})]})]})}),p.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl rounded-3xl shadow-2xl shadow-slate-200/50 dark:shadow-black/50 border border-white dark:border-slate-800 overflow-hidden transition-colors w-full relative",children:[p.jsx("div",{className:"absolute top-10 right-10 opacity-[0.03] pointer-events-none select-none",children:p.jsx("div",{className:"border-4 border-slate-900 dark:border-white transform -rotate-12 p-4 rounded-xl",children:p.jsx("span",{className:"text-8xl font-black uppercase tracking-widest text-slate-900 dark:text-white",children:"Dossier"})})}),p.jsxs("div",{className:"p-5 md:p-10 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-900/50 relative transition-colors z-10",children:[p.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between md:items-start gap-4 mb-4 md:mb-6",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-bold uppercase tracking-wider",children:[p.jsxs("span",{className:"bg-slate-900 dark:bg-slate-700 text-white px-3 py-1 rounded-full whitespace-nowrap shadow-sm",children:[r," Visa"]}),p.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:""}),p.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400 break-words max-w-full min-w-0 bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700",children:[p.jsx(Ra,{className:"w-3 h-3 flex-shrink-0 text-violet-500"}),p.jsxs("span",{className:"break-words truncate",children:[e,"  ",n]})]}),o.lastUpdate&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:""}),p.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900/30 px-2 py-1 rounded-lg",children:[p.jsx($C,{className:"w-3 h-3 flex-shrink-0"}),p.jsxs("span",{children:["Updated: ",o.lastUpdate]})]})]})]}),p.jsxs("div",{className:"relative group self-end md:self-auto flex items-center gap-2 flex-shrink-0",children:[p.jsxs("button",{onClick:b,className:"flex items-center gap-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full px-4 py-2 shadow-sm text-sm font-bold text-slate-700 dark:text-slate-200 hover:border-violet-300 dark:hover:border-violet-600 hover:text-violet-600 dark:hover:text-violet-400 transition-colors",title:"Copy as Citation for LLM/Chat",children:[g?p.jsx(ka,{className:"w-4 h-4 text-green-500"}):p.jsx(zC,{className:"w-4 h-4"}),p.jsx("span",{children:g?"Copied":"Copy Dossier"})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full px-4 py-2 shadow-sm text-sm font-bold text-slate-700 dark:text-slate-200 hover:border-violet-300 dark:hover:border-violet-600 hover:text-violet-600 dark:hover:text-violet-400 transition-colors cursor-pointer relative",children:[p.jsx(jh,{className:"w-4 h-4 flex-shrink-0"}),p.jsx("span",{children:"Translate"}),p.jsxs("select",{value:s,onChange:E,className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",children:[p.jsx("option",{value:"English",children:"English"}),Bx.map(q=>p.jsx("option",{value:q,children:q},q))]})]})]})]}),p.jsxs("div",{className:"relative block",children:[p.jsx("div",{className:`mb-4 md:mb-2 md:float-right md:ml-6 px-4 py-2 md:px-6 md:py-3 rounded-2xl font-bold border-2 text-center shadow-sm md:transform md:rotate-1 w-fit clear-right ${N(o.status)}`,children:o.status}),p.jsx("h2",{className:"text-2xl md:text-4xl font-extrabold text-slate-900 dark:text-white mb-3 leading-snug break-words [overflow-wrap:anywhere]",children:o.visaName}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-full leading-relaxed text-base md:text-lg font-medium break-words [overflow-wrap:anywhere]",children:o.summary}),p.jsx("div",{className:"clear-both"}),o.confidenceScore!==void 0&&p.jsxs("div",{className:`mt-8 p-6 rounded-2xl border ${pe.border} bg-white/60 dark:bg-slate-800/60 flex flex-col sm:flex-row items-center gap-6 max-w-2xl backdrop-blur-md shadow-sm transition-all`,children:[p.jsxs("div",{className:"relative w-28 h-28 flex-shrink-0 flex items-center justify-center",children:[p.jsx("div",{className:`absolute inset-0 rounded-full blur-xl opacity-20 ${pe.bg}`}),p.jsxs("svg",{className:"w-full h-full transform -rotate-90 drop-shadow-md",viewBox:"0 0 100 100",children:[p.jsx("circle",{cx:"50",cy:"50",r:"42",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100 dark:text-slate-700/50"}),p.jsx("circle",{cx:"50",cy:"50",r:"42",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:264,strokeDashoffset:264-264*U/100,strokeLinecap:"round",className:`${pe.text} transition-all duration-[1500ms] ease-out`})]}),p.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:p.jsxs("span",{className:`text-3xl font-black tracking-tighter ${pe.text}`,children:[U,"%"]})})]}),p.jsxs("div",{className:"text-center sm:text-left flex-1",children:[p.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 mb-2",children:[p.jsx(Cn,{className:`w-5 h-5 ${pe.text}`}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Forensic Reliability Score"}),p.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase border ${pe.border} ${pe.bg} ${pe.text} bg-opacity-20`,children:pe.label})]}),p.jsxs("p",{className:"text-sm md:text-base text-slate-700 dark:text-slate-300 italic leading-relaxed font-medium",children:['"',o.aiAnalysis||"Calculated based on source reliability and cross-referencing.",'"']})]})]})]}),p.jsx("div",{className:"mt-8 md:mt-10 overflow-hidden rounded-2xl border border-slate-100 dark:border-slate-700",children:p.jsxs("table",{className:"w-full text-left border-collapse bg-white dark:bg-slate-800",children:[p.jsxs("caption",{className:"sr-only",children:["Visa Requirements Summary Table for ",n]}),p.jsx("thead",{className:"sr-only",children:p.jsxs("tr",{children:[p.jsx("th",{children:"Metric"}),p.jsx("th",{children:"Value"})]})}),p.jsxs("tbody",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-4 divide-y md:divide-y-0 md:divide-x divide-slate-100 dark:divide-slate-700",children:[p.jsxs("tr",{className:"flex flex-col p-5 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group",children:[p.jsxs("td",{className:"text-xs font-bold uppercase tracking-wide text-blue-500 mb-2 flex items-center gap-2",children:[p.jsx(ba,{className:"w-4 h-4"})," Processing"]}),p.jsx("td",{className:"font-bold text-slate-900 dark:text-white text-sm md:text-base leading-tight break-words",children:o.processingTime})]}),p.jsxs("tr",{className:"flex flex-col p-5 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group",children:[p.jsxs("td",{className:"text-xs font-bold uppercase tracking-wide text-green-500 mb-2 flex items-center gap-2",children:[p.jsx(Vo,{className:"w-4 h-4"})," Est. Cost"]}),p.jsx("td",{className:"font-bold text-slate-900 dark:text-white text-sm md:text-base leading-tight break-words",children:o.cost})]}),p.jsxs("tr",{className:"flex flex-col p-5 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group",children:[p.jsxs("td",{className:"text-xs font-bold uppercase tracking-wide text-purple-500 mb-2 flex items-center gap-2",children:[p.jsx(oc,{className:"w-4 h-4"})," Validity"]}),p.jsx("td",{className:"font-bold text-slate-900 dark:text-white text-sm md:text-base leading-tight break-words",children:o.validity})]}),p.jsxs("tr",{className:`flex flex-col p-5 transition-colors group ${X(o.difficulty).replace("border","border-l-0")}`,children:[p.jsx("td",{className:"text-xs font-bold uppercase tracking-wide opacity-75 mb-2",children:"Difficulty"}),p.jsx("td",{className:"font-black text-lg leading-tight",children:o.difficulty})]})]})]})}),p.jsx("div",{className:"mt-10 pt-8 border-t border-slate-100 dark:border-slate-800",children:p.jsx(IF,{processingTime:o.processingTime})})]}),p.jsxs("div",{className:"p-5 md:p-10 grid lg:grid-cols-12 gap-8 md:gap-10",children:[p.jsxs("div",{className:"lg:col-span-8 space-y-8 md:space-y-12 min-w-0",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:"Specific Requirements"}),p.jsx("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[{icon:dF,title:"Financials",text:o.financialReqs,color:"text-emerald-700 dark:text-emerald-400"},{icon:fF,title:"Photo Specs",text:o.photoReqs,color:"text-blue-700 dark:text-blue-400"},{icon:Cn,title:"Insurance",text:o.insuranceReqs,color:"text-indigo-700 dark:text-indigo-400"},{icon:hF,title:"Accommodation",text:o.accommodationReqs,color:"text-fuchsia-700 dark:text-fuchsia-400"}].map((q,H)=>p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 md:p-6 border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:`flex items-center gap-2 ${q.color} font-bold mb-3 text-sm uppercase tracking-wide`,children:[p.jsx(q.icon,{className:"w-4 h-4 flex-shrink-0"})," ",q.title]}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm leading-relaxed font-medium break-words whitespace-pre-line [overflow-wrap:anywhere]",children:q.text})]},H))})]}),o.legalCitations&&o.legalCitations.length>0&&p.jsxs("div",{className:"bg-slate-900 dark:bg-slate-800 rounded-xl p-5 md:p-6 text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:p.jsx(KC,{className:"w-24 h-24"})}),p.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider mb-3 flex items-center gap-2 text-violet-300",children:[p.jsx(JC,{className:"w-4 h-4"})," Legal Framework & Acts"]}),p.jsx("ul",{className:"space-y-2 relative z-10",children:o.legalCitations.map((q,H)=>p.jsxs("li",{className:"flex items-start gap-2 text-sm font-mono text-slate-300",children:[p.jsx("span",{className:"text-violet-400",children:""})," ",q]},H))})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-3",children:[p.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-xl bg-violet-600 text-white text-sm font-bold shadow-lg shadow-violet-200 dark:shadow-violet-900/30 flex-shrink-0",children:"1"}),s==="English"?"Detailed Process":"Detailed Process (Translated)"]}),p.jsx("div",{className:"space-y-6 relative pl-4 border-l-2 border-slate-100 dark:border-slate-800 ml-4",children:(o.processSteps||[]).map((q,H)=>p.jsxs("div",{className:"relative pl-8 group",children:[p.jsx("div",{className:"absolute -left-[21px] top-0.5 w-4 h-4 rounded-full bg-white dark:bg-slate-900 border-4 border-violet-500 shadow-sm group-hover:scale-125 transition-transform"}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed text-sm md:text-base font-medium break-words [overflow-wrap:anywhere]",children:q})]},H))})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[p.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[p.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-xl bg-fuchsia-600 text-white text-sm font-bold shadow-lg shadow-fuchsia-200 dark:shadow-fuchsia-900/30 flex-shrink-0",children:"2"}),s==="English"?"Checklist":"Checklist (Translated)"]}),p.jsxs("button",{onClick:S,disabled:w,className:"bg-slate-900 dark:bg-slate-100 hover:bg-violet-700 dark:hover:bg-slate-200 text-white dark:text-slate-900 text-xs font-bold py-2.5 px-4 rounded-xl shadow-lg shadow-slate-200 dark:shadow-black/30 flex items-center gap-2 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex-shrink-0",children:[w?p.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):p.jsx(Zo,{className:"w-4 h-4"}),p.jsx("span",{children:"Generate Forensic Checklist"})]})]}),p.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-3xl p-6 md:p-8 border border-slate-100 dark:border-slate-800 relative overflow-hidden",children:p.jsx("ul",{className:"grid gap-4",children:(o.documents||[]).map((q,H)=>p.jsxs("li",{className:"flex items-start gap-4 p-2 hover:bg-white dark:hover:bg-slate-800 rounded-xl transition-colors",children:[p.jsx("div",{className:"mt-0.5 min-w-[20px] p-1 bg-green-100 dark:bg-green-900/50 rounded-full text-green-600 dark:text-green-400 flex-shrink-0 flex items-center justify-center h-5 w-5",children:p.jsx(ka,{className:"w-3.5 h-3.5"})}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-medium break-words [overflow-wrap:anywhere] text-sm md:text-base flex-1 min-w-0",children:q})]},H))})})]})]}),p.jsxs("div",{className:"lg:col-span-4 space-y-6 min-w-0",children:[o.rejectionRisk&&p.jsxs("div",{className:`bg-white dark:bg-slate-800 border-2 rounded-3xl p-6 shadow-sm ${o.rejectionRisk.probability==="High"?"border-rose-200 dark:border-rose-900":o.rejectionRisk.probability==="Moderate"?"border-amber-200 dark:border-amber-900":"border-emerald-200 dark:border-emerald-900"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[p.jsx(EF,{className:`w-5 h-5 ${o.rejectionRisk.probability==="High"?"text-rose-500":"text-amber-500"}`}),"Risk Profile"]}),p.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${o.rejectionRisk.probability==="High"?"bg-rose-100 text-rose-700":o.rejectionRisk.probability==="Moderate"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:[o.rejectionRisk.probability," Risk"]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1",children:"Primary Concern"}),p.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 leading-tight",children:o.rejectionRisk.primaryReason})]}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-[10px] uppercase font-bold text-violet-500 mb-1",children:"Mitigation Strategy"}),p.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 italic",children:['"',o.rejectionRisk.mitigationTip,'"']})]})]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 rounded-3xl p-6 md:p-8 text-white shadow-xl shadow-indigo-200 dark:shadow-indigo-900/40 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:bg-white/20 transition-all"}),p.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[p.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:p.jsx(Xo,{className:"w-6 h-6 transform -rotate-45"})}),p.jsx("h3",{className:"font-bold text-xl",children:"Ready to fly?"})]}),p.jsxs("p",{className:"text-indigo-100 text-sm mb-6 font-medium relative z-10 break-words [overflow-wrap:anywhere]",children:["Search for flights from India to ",n," once your visa is approved."]}),p.jsx("button",{onClick:Se,className:"w-full bg-white text-indigo-700 font-bold py-3.5 rounded-xl hover:bg-indigo-50 transition-colors shadow-lg relative z-10",children:"Search Flights"})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-3xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded-lg text-green-600 dark:text-green-400",children:p.jsx(yF,{className:"w-5 h-5"})}),p.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Save & Share"})]}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 font-medium",children:"Send this visa dossier to your phone or email to keep it handy."}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:()=>M("whatsapp"),className:"flex flex-col items-center justify-center gap-2 p-3 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-green-200 hover:bg-green-50 dark:hover:bg-green-900/20 transition-all group",children:[p.jsx(lc,{className:"w-6 h-6 text-green-500 dark:text-green-400 group-hover:scale-110 transition-transform"}),p.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 group-hover:text-green-700 dark:group-hover:text-green-300",children:"WhatsApp"})]}),p.jsxs("button",{onClick:()=>M("email"),className:"flex flex-col items-center justify-center gap-2 p-3 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all group",children:[p.jsx(uw,{className:"w-6 h-6 text-blue-500 dark:text-blue-400 group-hover:scale-110 transition-transform"}),p.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 group-hover:text-blue-700 dark:group-hover:text-blue-300",children:"Email"})]})]})]}),p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/20 border border-amber-100 dark:border-amber-900/40 rounded-3xl p-6 md:p-8",children:[p.jsxs("div",{className:"flex items-center gap-2 text-amber-700 dark:text-amber-500 font-bold mb-4",children:[p.jsx(Na,{className:"w-5 h-5 flex-shrink-0"}),p.jsx("span",{children:"Critical Jurisdiction"})]}),p.jsx("div",{className:"prose prose-sm prose-amber dark:prose-invert text-amber-900/80 dark:text-amber-200/80 leading-relaxed font-medium break-words [overflow-wrap:anywhere] min-w-0",children:o.notes}),p.jsxs("div",{className:"mt-8 pt-6 border-t border-amber-200/50 dark:border-amber-900/50",children:[p.jsx("h4",{className:"font-bold text-amber-900 dark:text-amber-400 mb-2 text-xs uppercase tracking-wide",children:"Where to Apply"}),p.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium bg-amber-100/50 dark:bg-amber-900/40 p-3 rounded-xl break-words [overflow-wrap:anywhere] min-w-0",children:o.embassyContact||"Contact your nearest embassy or consulate."}),T&&p.jsxs("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"mt-4 w-full bg-white dark:bg-slate-800 hover:bg-amber-100 dark:hover:bg-slate-700 text-amber-900 dark:text-amber-200 border border-amber-200 dark:border-slate-700 font-bold py-3 px-4 rounded-xl shadow-sm flex items-center justify-center gap-2 transition-all group",children:[p.jsx(jC,{className:"w-4 h-4 text-amber-700 dark:text-amber-400"}),p.jsx("span",{children:T.label}),p.jsx(gF,{className:"w-3 h-3 text-amber-400 group-hover:translate-x-1 transition-transform"})]})]})]}),o.officialSources&&o.officialSources.length>0&&p.jsxs("div",{className:"animate-fade-in-up pt-4",children:[p.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-400 dark:text-slate-500 mb-4 flex items-center gap-2",children:[p.jsx(Yc,{className:"w-4 h-4"}),"Verified Official Sources"]}),p.jsx("div",{className:"grid gap-3",children:(o.officialSources||[]).map((q,H)=>p.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl hover:shadow-md transition-all group w-full max-w-full overflow-hidden",children:[p.jsxs("div",{className:"flex flex-col min-w-0 flex-1 pr-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[p.jsx("span",{className:"font-bold text-sm text-slate-800 dark:text-slate-200 truncate max-w-full",children:q.title}),q.authorityLevel==="Gold"&&p.jsxs("span",{className:"flex-shrink-0 flex items-center gap-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider border border-yellow-200 dark:border-yellow-800",children:[p.jsx(Cn,{className:"w-3 h-3"})," Gold Authority"]}),q.authorityLevel==="Silver"&&p.jsxs("span",{className:"flex-shrink-0 flex items-center gap-1 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider border border-slate-200 dark:border-slate-700",children:[p.jsx(pF,{className:"w-3 h-3"})," Govt"]})]}),p.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 break-all line-clamp-2",children:q.url})]}),p.jsx(Fr,{className:"w-4 h-4 transition-all flex-shrink-0 ml-2 text-slate-400 group-hover:text-violet-500"})]},H))})]})]})]})]})]})},cw=[{icon:Vo,label:"Agri-Income Proof",query:"My sponsor is a farmer with agricultural land. How do I show proof of funds?"},{icon:Na,label:"Gap Justification",query:"I have a 2-year academic/career gap. How do I justify this in my SOP?"},{icon:JC,label:"Refusal Analysis",query:"Analyze my profile for potential Section 214(b) (Immigrant Intent) rejection risks."},{icon:ac,label:"Mock Interview",query:"Simulate a strict 5-minute visa interview with me. Grill me on my finances."},{icon:Vo,label:"Third-Party Sponsor",query:"Can my uncle or a family friend sponsor my education? What documents are needed?"},{icon:Zo,label:"CA Report Needed?",query:"Is a Chartered Accountant (CA) Valuation Report mandatory for my property assets?"},{icon:ba,label:"Processing Speed",query:"Is there a 'Priority Service' available to speed up my decision?"},{icon:Pa,label:"Backlogs Issue",query:"I have 5 backlogs in my Bachelor's degree. Will this affect my student visa?"},{icon:Cn,label:"Insurance Rules",query:"What are the exact minimum coverage requirements for travel insurance?"},{icon:KC,label:"Appeal Process",query:"If rejected, can I appeal the decision or should I re-apply immediately?"},{icon:Zo,label:"Cover Letter",query:"Draft a strong Cover Letter explaining my travel itinerary and intent to return."},{icon:Vo,label:"Liquid Funds",query:"How much money specifically needs to be in 'Liquid Savings' vs 'Fixed Assets'?"},{icon:Ra,label:"Jurisdiction Check",query:"Based on my state, which specific Consulate/Embassy must I visit?"},{icon:ac,label:"Ties to Home",query:"How do I prove 'Strong Economic Ties' to India to satisfy the Visa Officer?"},{icon:Na,label:"English Waiver",query:"Can I get a waiver for IELTS/TOEFL based on my previous education?"},{icon:Zo,label:"SOP Review",query:"What are the 3 most important points to include in my Statement of Purpose?"},{icon:Pa,label:"Course Relevance",query:"How do I explain why I chose this specific course over Indian options?"},{icon:Vo,label:"Education Loan",query:"Does the embassy accept a 'Sanction Letter' from a Non-Banking Financial Company (NBFC)?"},{icon:Cn,label:"Biometrics",query:"What happens at the VAC (Visa Application Center)? Walk me through the steps."},{icon:ba,label:"Ideal Timing",query:"How many days before my travel date should I ideally submit my file?"}],kF=({text:t,isUser:e})=>{const[n,r]=j.useState(!1);if(!t)return null;const s=()=>{navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3)};if(e)return p.jsx("div",{className:"whitespace-pre-wrap font-medium text-[15px] leading-relaxed",children:t});let i=[];try{i=t.split(/(```[\s\S]*?```)/g)}catch{i=[t]}return p.jsxs("div",{className:"space-y-3 w-full relative group min-w-0",children:[p.jsx("button",{onClick:s,className:"absolute -top-2 -right-2 p-1.5 bg-slate-100 dark:bg-slate-700 hover:bg-violet-100 dark:hover:bg-violet-900 rounded-lg text-slate-400 hover:text-violet-600 opacity-0 group-hover:opacity-100 transition-all z-10 scale-90",title:"Copy Response",children:n?p.jsx(ka,{className:"w-3.5 h-3.5 text-emerald-500"}):p.jsx(zC,{className:"w-3.5 h-3.5"})}),i.map((o,a)=>{if(!o)return null;if(o.startsWith("```")){const c=o.replace(/```/g,"");return p.jsx("div",{className:"bg-slate-900 text-slate-200 p-3 rounded-xl text-xs font-mono overflow-x-auto border border-slate-700 shadow-inner my-2",children:p.jsx("pre",{children:c})},a)}if(o.includes("|")&&o.includes("---")){const h=o.trim().split(`
`).filter(m=>m.trim().startsWith("|")&&m.trim().endsWith("|"));if(h.length>0)return p.jsx("div",{className:"overflow-hidden my-3 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm bg-white dark:bg-slate-800/50",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsx("table",{className:"w-full text-sm text-left border-collapse",children:p.jsx("tbody",{children:h.map((m,g)=>{if(m.includes("---"))return null;const v=m.split("|").filter(I=>I.trim()!==""),w=g===0;return p.jsx("tr",{className:w?"bg-slate-100 dark:bg-slate-800 font-bold text-slate-700 dark:text-slate-200":"border-t border-slate-100 dark:border-slate-700/50 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:v.map((I,P)=>p.jsx("td",{className:"p-3 whitespace-pre-wrap min-w-[100px]",children:is(I.trim())},P))},g)})})})})},a)}return o.split(/\n\n+/).map((c,h)=>{const m=c.trim();if(!m)return null;const g=m.match(/^(#{1,3})\s+(.+?)(?:\n|$)([\s\S]*)$/);if(g&&!m.match(/^[-*]\s/)){const v=g[1].length,w=g[2].trim(),I=g[3]?g[3].trim():"";return p.jsxs(Fw.Fragment,{children:[v===1&&p.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white mt-4 mb-2",children:is(w)}),v===2&&p.jsx("h2",{className:"text-base font-bold text-slate-800 dark:text-slate-100 mt-3 mb-2",children:is(w)}),v===3&&p.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-violet-600 dark:text-violet-400 mt-3 mb-1",children:is(w)}),I&&p.jsx("div",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mt-1",children:is(I)})]},h)}if(m.match(/^[-*]\s/m)){const v=m.split(`
`).filter(w=>w.trim().match(/^[-*]\s/));return p.jsx("ul",{className:"space-y-2 my-2 bg-slate-50 dark:bg-slate-800/30 p-4 rounded-xl border border-slate-100 dark:border-slate-800",children:v.map((w,I)=>p.jsxs("li",{className:"flex items-start gap-3 text-slate-700 dark:text-slate-300 text-sm leading-relaxed",children:[p.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 bg-violet-500 rounded-full flex-shrink-0 shadow-sm shadow-violet-200 dark:shadow-none"}),p.jsx("span",{className:"flex-1",children:is(w.replace(/^[-*]\s/,""))})]},I))},h)}return p.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm",children:is(m)},h)})})]})},is=t=>t?t.split(/(\*\*.*?\*\*|`.*?`)/g).map((n,r)=>n.startsWith("**")&&n.endsWith("**")?p.jsx("strong",{className:"font-bold text-slate-900 dark:text-white",children:n.slice(2,-2)},r):n.startsWith("`")&&n.endsWith("`")?p.jsx("code",{className:"bg-slate-100 dark:bg-slate-700 px-1 py-0.5 rounded text-violet-600 dark:text-violet-300 font-mono text-xs border border-slate-200 dark:border-slate-600",children:n.slice(1,-1)},r):p.jsx("span",{children:n},r)):null,NF=({visaData:t,originState:e,destination:n})=>{const[r,s]=j.useState([{role:"model",text:`Hello! I am your **EEC Expert Visa Consultant**.

I have the official consular dossier for **${t.visaName}** tailored for applicants from **${e}**.

How can I assist you with your application strategy today?`}]),[i,o]=j.useState(""),[a,l]=j.useState(!1),[c,h]=j.useState(!1),[m,g]=j.useState("English"),[v,w]=j.useState(r),[I,P]=j.useState(cw.slice(0,5)),A=j.useRef(null),x=j.useRef(null);j.useEffect(()=>{const E=[...cw].sort(()=>.5-Math.random());P(E.slice(0,5))},[n,t.visaName]);const k=()=>{x.current&&x.current.scrollTo({top:x.current.scrollHeight,behavior:"smooth"})};j.useLayoutEffect(()=>{k()},[r,a,c]),j.useEffect(()=>{const E={role:"model",text:`Hello! I am your **EEC Expert Visa Consultant**.

I have the official consular dossier for **${t.visaName}** tailored for applicants from **${e}**.

How can I assist you with your application strategy today?`};s([E]),w([E])},[t.visaName,e]);const D=async E=>{const S=E.target.value,b=m;if(g(S),S==="English"){s(v);return}h(!0);try{const R=await Promise.all(v.map(async M=>{const N=await oD(M.text,S);return{...M,text:N}}));s(R)}catch(R){console.error("Chat translation failed",R),g(b)}finally{h(!1)}},U=async E=>{const S=E||i.trim();if(!S||a)return;const b={role:"user",text:S};o(""),A.current&&A.current.focus({preventScroll:!0}),s(R=>[...R,b]),w(R=>[...R,b]),l(!0);try{const R=v.map(X=>({role:X.role,parts:[{text:X.text}]})),N={role:"model",text:await iD(R,S,t,m,n)};s(X=>[...X,N]),w(X=>[...X,N])}catch(R){console.error("Chat Error:",R);const M={role:"model",text:"I'm having trouble reaching the secure consular network. Please try again in a moment."};s(N=>[...N,M]),w(N=>[...N,M])}finally{l(!1)}},V=()=>{const E=v[0];s([E]),w([E]),o("")},T=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),U())};return p.jsxs("div",{className:"w-full max-w-5xl mx-auto h-[650px] md:h-[750px] flex flex-col rounded-[2.5rem] overflow-hidden bg-white/90 dark:bg-slate-900/90 backdrop-blur-2xl border border-white/40 dark:border-white/5 shadow-2xl relative z-10 transition-colors duration-500 group/container",children:[p.jsx("div",{className:"absolute top-0 left-0 right-0 h-64 bg-gradient-to-b from-violet-50/80 dark:from-violet-900/10 to-transparent pointer-events-none z-0"}),p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800 relative z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-md",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"relative group/avatar cursor-pointer",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-600 flex items-center justify-center text-white shadow-lg shadow-violet-500/30 transform group-hover/avatar:scale-105 transition-transform duration-300",children:p.jsx(lf,{className:"w-6 h-6"})}),p.jsxs("div",{className:"absolute -bottom-1 -right-1 flex h-4 w-4",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-emerald-500 ring-2 ring-white dark:ring-slate-900"})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-extrabold text-slate-900 dark:text-white leading-tight",children:"EEC Expert Visa Consultant"}),p.jsxs("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 flex items-center gap-1.5 uppercase tracking-wide",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Official EEC Agent"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[r.length>1&&p.jsx("button",{onClick:V,className:"p-2.5 rounded-xl text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all border border-transparent hover:border-rose-100 dark:hover:border-rose-900",title:"Reset Conversation",children:p.jsx($C,{className:"w-5 h-5"})}),p.jsxs("div",{className:"relative flex items-center gap-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-3 py-2 transition-all hover:bg-white dark:hover:bg-slate-700 hover:border-violet-200 dark:hover:border-slate-600 hover:shadow-sm",children:[p.jsx(jh,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"}),p.jsxs("select",{value:m,onChange:D,className:"bg-transparent text-xs font-bold text-slate-700 dark:text-slate-200 outline-none cursor-pointer appearance-none pr-6 w-20",disabled:c,children:[p.jsx("option",{value:"English",children:"English"}),Bx.map(E=>p.jsx("option",{value:E,children:E},E))]})]})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 scroll-smooth scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700 scrollbar-track-transparent z-10",ref:x,children:[c&&p.jsx("div",{className:"sticky top-0 z-50 flex justify-center pb-4",children:p.jsxs("div",{className:"px-4 py-1.5 bg-white/90 dark:bg-slate-800/90 backdrop-blur border border-slate-200 dark:border-slate-700 rounded-full text-[10px] font-bold uppercase tracking-wider text-violet-600 dark:text-violet-400 flex items-center gap-2 shadow-sm animate-pulse",children:[p.jsx(jh,{className:"w-3 h-3"})," Translating..."]})}),r.map((E,S)=>{const b=E.role==="user";return p.jsxs("div",{className:`flex items-end gap-3 ${b?"flex-row-reverse":"flex-row"} group animate-in fade-in slide-in-from-bottom-2 duration-500`,children:[!b&&p.jsx("div",{className:"w-8 h-8 rounded-xl bg-violet-100 dark:bg-violet-900/50 flex items-center justify-center text-violet-600 dark:text-violet-400 flex-shrink-0",children:p.jsx(lf,{className:"w-5 h-5"})}),b&&p.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-400 flex-shrink-0",children:p.jsx(ac,{className:"w-4 h-4"})}),p.jsx("div",{className:`relative max-w-[85%] sm:max-w-[75%] px-5 py-4 shadow-sm transition-all duration-300 ${b?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-[1.5rem] rounded-tr-sm":"bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-700 rounded-[1.5rem] rounded-tl-sm hover:shadow-md"}`,children:p.jsx(kF,{text:E.text,isUser:b})})]},S)}),a&&p.jsxs("div",{className:"flex items-center gap-3 animate-in fade-in duration-300",children:[p.jsx("div",{className:"w-8 h-8 rounded-xl bg-violet-50 dark:bg-violet-900/30 flex items-center justify-center text-violet-400 dark:text-violet-500 flex-shrink-0",children:p.jsx(lf,{className:"w-5 h-5"})}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 px-5 py-4 rounded-[1.5rem] rounded-tl-sm border border-slate-100 dark:border-slate-700 shadow-sm flex items-center gap-1.5",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-violet-500 rounded-full animate-[bounce_1s_infinite_0ms]"}),p.jsx("span",{className:"w-1.5 h-1.5 bg-violet-500 rounded-full animate-[bounce_1s_infinite_200ms]"}),p.jsx("span",{className:"w-1.5 h-1.5 bg-violet-500 rounded-full animate-[bounce_1s_infinite_400ms]"})]})]})]}),p.jsxs("div",{className:"p-4 md:p-6 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 z-20",children:[!a&&p.jsx("div",{className:"flex gap-2 ml-10 overflow-x-auto pb-4 mask-linear-fade scrollbar-hide snap-x",children:I.map((E,S)=>p.jsxs("button",{onClick:()=>U(E.query),className:"snap-start flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full text-xs font-bold text-slate-600 dark:text-slate-400 hover:bg-violet-50 dark:hover:bg-violet-900/20 hover:border-violet-300 dark:hover:border-violet-700 hover:text-violet-700 dark:hover:text-violet-300 transition-all whitespace-nowrap active:scale-95",children:[p.jsx(E.icon,{className:"w-3.5 h-3.5"}),E.label]},S))}),p.jsxs("div",{className:"relative flex items-end gap-2 bg-slate-100 dark:bg-black/30 p-2 rounded-[2rem] border border-transparent focus-within:border-violet-300 dark:focus-within:border-violet-700 focus-within:ring-4 focus-within:ring-violet-100 dark:focus-within:ring-violet-900/20 transition-all",children:[p.jsx("textarea",{ref:A,value:i,onChange:E=>o(E.target.value),onKeyDown:T,disabled:a||c,placeholder:m==="English"?"Type your question...":`Ask in ${m}...`,className:"w-full bg-transparent border-0 focus:ring-0 text-slate-900 dark:text-white placeholder:text-slate-400 py-3 pl-4 resize-none max-h-32 min-h-[48px] leading-relaxed scrollbar-hide text-sm md:text-base font-medium",rows:1}),p.jsx("button",{onClick:()=>U(),disabled:!i.trim()||a,className:"p-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-full hover:scale-105 active:scale-90 transition-all disabled:opacity-50 disabled:scale-100 shadow-md flex-shrink-0",title:"Send Message",children:a?p.jsx("div",{className:"w-5 h-5 border-2 border-white/30 dark:border-slate-900/30 border-t-white dark:border-t-slate-900 rounded-full animate-spin"}):p.jsx(Fr,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"text-center mt-3 flex items-center justify-center gap-2 opacity-60 hover:opacity-100 transition-opacity",children:[p.jsx(oc,{className:"w-3 h-3 text-violet-500"}),p.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Powered by Gemini 2.5  Official EEC Intelligence"})]})]})]})},RF=[{code:"USD",name:"US Dollar",flag:"",symbol:"$"},{code:"EUR",name:"Euro",flag:"",symbol:""},{code:"GBP",name:"British Pound",flag:"",symbol:""},{code:"CHF",name:"Swiss Franc",flag:"",symbol:"Fr"},{code:"CAD",name:"Canadian Dollar",flag:"",symbol:"C$"},{code:"AUD",name:"Australian Dollar",flag:"",symbol:"A$"},{code:"AED",name:"UAE Dirham",flag:"",symbol:"dh"},{code:"NZD",name:"NZ Dollar",flag:"",symbol:"NZ$"},{code:"SGD",name:"Singapore Dollar",flag:"",symbol:"S$"}],bF=j.memo(({item:t})=>{const[e,n]=j.useState(null);j.useEffect(()=>{t.change>0?n("up"):n("down");const s=setTimeout(()=>n(null),1e3);return()=>clearTimeout(s)},[t.rate]);const r=!isNaN(t.rate)&&isFinite(t.rate)&&t.rate>0;return p.jsxs("div",{className:"inline-flex items-center gap-3 px-6 border-r border-slate-200/70 dark:border-white/10 min-w-max group cursor-default transition-colors hover:bg-slate-100/60 dark:hover:bg-white/5 py-3 relative h-14 box-border",children:[p.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 pointer-events-none ${e==="up"?"bg-emerald-500/10 opacity-100":e==="down"?"bg-rose-500/10 opacity-100":"opacity-0"}`}),p.jsx("span",{className:"text-2xl filter drop-shadow-md transform group-hover:scale-110 transition-transform duration-300 grayscale-[10%] group-hover:grayscale-0",children:t.flag}),p.jsxs("div",{className:"flex flex-col justify-center h-full",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-bold text-xs text-slate-900 dark:text-white tracking-wide",children:t.code}),p.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase hidden sm:inline-block tracking-wider opacity-80",children:t.name})]}),p.jsxs("div",{className:"flex items-baseline gap-1.5",children:[p.jsx("span",{className:"text-xs text-amber-500 dark:text-amber-400 font-bold",children:t.symbol}),p.jsx("span",{className:`font-mono font-bold text-sm transition-colors duration-300 ${e==="up"?"text-emerald-600 dark:text-emerald-400":e==="down"?"text-rose-600 dark:text-rose-400":"text-slate-900 dark:text-white"}`,children:r?t.rate.toFixed(2):"--.--"}),p.jsxs("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded-md flex items-center ml-1 ${t.change>=0?"bg-emerald-500/10 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-300":"bg-rose-500/10 text-rose-600 dark:bg-rose-500/20 dark:text-rose-300"}`,children:[t.change>=0?"":""," ",Math.abs(t.change).toFixed(2),"%"]})]})]})]})}),PF=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0);if(j.useEffect(()=>{let i=!0;return(async()=>{try{const l=await(await fetch("https://open.er-api.com/v6/latest/INR")).json();if(l&&l.rates&&i){const c=RF.map(h=>{const m=l.rates[h.code];if(!m)return null;const g=1/m,v=Math.random()*.8*(Math.random()>.5?1:-1);return{...h,rate:g,change:v}}).filter(h=>h!==null);e(c),r(!1)}}catch(a){i&&(console.error("Failed to fetch forex rates",a),r(!1))}})(),()=>{i=!1}},[]),j.useEffect(()=>{if(n||t.length===0)return;const i=setInterval(()=>{e(o=>{if(o.length===0)return o;const a=[...o],l=Math.floor(Math.random()*a.length),c=a[l],h=Math.random()*.05*(Math.random()>.5?1:-1);let m=c.rate+h;m<0&&(m=c.rate);const g=h/c.rate*100,v=c.change+g;return a[l]={...c,rate:m,change:v},a})},2e3);return()=>clearInterval(i)},[n,t.length]),n)return p.jsxs("div",{className:"w-full bg-slate-50 dark:bg-[#0B1120] border-b border-slate-200 dark:border-white/10 h-14 relative overflow-hidden flex items-center shadow-lg z-40 box-border select-none",children:[p.jsxs("div",{className:"absolute left-0 top-0 bottom-0 bg-slate-50 dark:bg-[#0B1120] z-50 px-5 flex items-center gap-3 border-r border-slate-200 dark:border-white/10 h-14 min-w-[130px]",children:[p.jsx("div",{className:"relative flex h-3 w-3 flex-shrink-0",children:p.jsx("span",{className:"bg-emerald-500/20 h-full w-full rounded-full animate-pulse"})}),p.jsxs("div",{className:"flex flex-col gap-1.5 w-full",children:[p.jsx("div",{className:"h-2 bg-slate-200 dark:bg-white/10 rounded w-10 animate-pulse"}),p.jsx("div",{className:"h-2 bg-slate-200 dark:bg-white/10 rounded w-14 animate-pulse"})]})]}),p.jsx("div",{className:"flex items-center w-full pl-[130px]",children:[1,2,3,4,5,6,7].map(i=>p.jsx("div",{className:"px-6 border-r border-slate-200/70 dark:border-white/5 h-14 flex items-center min-w-[180px]",children:p.jsxs("div",{className:"flex items-center gap-3 w-full",children:[p.jsx("div",{className:"w-6 h-6 bg-slate-200 dark:bg-white/5 rounded-full animate-pulse"}),p.jsxs("div",{className:"flex flex-col gap-1.5 flex-1",children:[p.jsx("div",{className:"h-2 bg-slate-200 dark:bg-white/5 rounded w-8 animate-pulse"}),p.jsx("div",{className:"h-2 bg-slate-200 dark:bg-white/5 rounded w-16 animate-pulse"})]})]})},i))})]});const s=[...t,...t,...t,...t];return p.jsxs("div",{className:"w-full bg-slate-50 dark:bg-[#0B1120] border-b border-slate-200 dark:border-white/10 h-14 overflow-hidden relative z-40 shadow-lg flex select-none box-border transform-gpu",children:[p.jsxs("div",{className:"absolute left-0 top-0 bottom-0 bg-slate-50 dark:bg-[#0B1120] z-50 px-5 flex items-center gap-3 shadow-[10px_0_20px_rgba(15,23,42,0.25)] dark:shadow-[10px_0_20px_rgba(0,0,0,0.8)] border-r border-slate-200 dark:border-white/10 h-14 min-w-[130px]",children:[p.jsxs("div",{className:"relative flex h-3 w-3 flex-shrink-0",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400/70 opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"})]}),p.jsxs("div",{className:"flex flex-col leading-none",children:[p.jsx("span",{className:"text-[10px] font-bold tracking-[0.2em] uppercase text-emerald-500 dark:text-emerald-400 mb-0.5",children:"Live"}),p.jsx("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:"MARKET"})]})]}),p.jsx("div",{className:"flex items-center animate-ticker whitespace-nowrap will-change-transform hover:pause-animation",children:s.map((i,o)=>p.jsx(bF,{item:i},`${i.code}-${o}`))}),p.jsx("style",{children:`
        @keyframes ticker {
          0% { transform: translateX(0); }
          100% { transform: translateX(-25%); } /* Move 1 set out of 4 */
        }
        .animate-ticker {
          animation: ticker 80s linear infinite;
        }
        .hover\\:pause-animation:hover {
          animation-play-state: paused;
        }
      `})]})},Wh=[{id:"1",name:"EEC Alkapuri",city:"Vadodara",address:"3rd floor, B-Wing, Windsor Plaza, RC Dutt Rd, Alkapuri, Vadodara",map:"https://www.google.com/maps?cid=4136602748211046777",contacts:[{type:"Coaching Information",phone:"+91 8000506539",wa:"https://wa.me/918000506539"},{type:"Admission and Visa Information",phone:"+91 8000506542",wa:"https://wa.me/918000506542"}]},{id:"2",name:"EEC Nizampura",city:"Vadodara",address:"2nd Floor, Procube Complex, Nizampura Rd, above GSRTC Bus Station, Vadodara",map:"https://www.google.com/maps?cid=5231620757401386552",contacts:[{type:"Coaching Information",phone:"+91 8758753333",wa:"https://wa.me/918758753333"},{type:"Admission and Visa Information",phone:"+91 9375974748",wa:"https://wa.me/919375974748"}]},{id:"3",name:"EEC Manjalpur",city:"Vadodara",address:"2nd Floor, Infinity Arcade, Opposite Pratapnagar Police HQ, ONGC Dairy Road, Vadodara",map:"https://www.google.com/maps?cid=11809726738474800676",contacts:[{type:"Coaching Information",phone:"+91 8758750037",wa:"https://wa.me/918758750037"},{type:"Admission and Visa Information",phone:"+91 8758884882",wa:"https://wa.me/918758884882"}]},{id:"4",name:"EEC New Vip Road",city:"Vadodara",address:"2nd Floor, Shree Siddheshwar Plaza, New VIP Rd, Sardar Estate, Vadodara",map:"https://www.google.com/maps?cid=14735362156000599625",contacts:[{type:"Coaching Information",phone:"+91 8758750040",wa:"https://wa.me/918758750040"},{type:"Admission and Visa Information",phone:"+91 8758880034",wa:"https://wa.me/918758880034"}]},{id:"5",name:"EEC Nadiad",city:"Nadiad",address:"4th Floor, Nexus 2, College Rd, opposite McDonalds, Nadiad",map:"https://www.google.com/maps?cid=11482223323153504735",contacts:[{type:"Coaching Information",phone:"+91 8758880010",wa:"https://wa.me/918758880010"},{type:"Admission and Visa Information",phone:"+91 8758880670",wa:"https://wa.me/918758880670"}]},{id:"6",name:"EEC Vallabh Vidyanagar",city:"Anand",address:"1st Floor, Sigma Prime Complex, Above Royal Enfield, Sardar Patel Statue Circle, Vallabh Vidyanagar, Anand",map:"https://www.google.com/maps?cid=3977509921364302622",contacts:[{type:"Coaching Information",phone:"+91 8758882884",wa:"https://wa.me/918758882884"},{type:"Admission and Visa Information",phone:"+91 8758882884",wa:"https://wa.me/918758882884"}]},{id:"7",name:"EEC Parvat Patia",city:"Surat",address:"UG10, AMs, Shri Vardhan Textile Market Above Zudio & Opp. Samrat International School, Dumbhal, Surat",map:"https://www.google.com/maps?cid=547408908762340617",contacts:[{type:"Coaching Information",phone:"+91 8758880210",wa:"https://wa.me/918758880210"},{type:"Admission and Visa Information",phone:"+91 8758880210",wa:"https://wa.me/918758880210"}]},{id:"8",name:"EEC Mota Varrachha",city:"Surat",address:"4th Floor, Opera Business Hub, Lajamni Chowk, Mota Varachha, Surat",map:"https://www.google.com/maps?cid=10998422264877093818",contacts:[{type:"Coaching Information",phone:"+91 8758750018",wa:"https://wa.me/918758750018"},{type:"Admission and Visa Information",phone:"+91 8758880035",wa:"https://wa.me/918758880035"}]},{id:"9",name:"EEC Katargam",city:"Surat",address:"2nd Floor, Neeru Farms, Rajhans Flamingo, Gajera Rd, Priya Park Society, Surat",map:"https://www.google.com/maps?cid=518779354665221255",contacts:[{type:"Coaching Information",phone:"+91 8758880160",wa:"https://wa.me/918758880160"},{type:"Admission and Visa Information",phone:"+91 8758880630",wa:"https://wa.me/918758880630"}]},{id:"10",name:"EEC Ghod Dod Road",city:"Surat",address:"3rd Floor, Jade Blue Union Square, Ghod Dod Rd, Surat",map:"https://www.google.com/maps?cid=2602505128606220636",contacts:[{type:"Coaching Information",phone:"+91 8758757777",wa:"https://wa.me/918758757777"},{type:"Admission and Visa Information",phone:"+91 8758880170",wa:"https://wa.me/918758880170"}]},{id:"11",name:"EEC Vesu",city:"Surat",address:"1st Floor, International Finance Centre, IFC, VIP Rd, Vesu, Surat",map:"https://www.google.com/maps?cid=10525220703274082506",contacts:[{type:"Coaching Information",phone:"+91 8758750029",wa:"https://wa.me/918758750029"},{type:"Admission and Visa Information",phone:"+91 8758750029",wa:"https://wa.me/918758750029"}]},{id:"12",name:"EEC Vapi",city:"Vapi",address:"3rd Floor, EEC, iSquare Building, Daman Rd, opposite Axis Bank, Daulat Nagar, Vapi",map:"https://www.google.com/maps?cid=11741653787646363018",contacts:[{type:"Coaching Information",phone:"+91 8758880040",wa:"https://wa.me/918758880040"},{type:"Admission and Visa Information",phone:"+91 8758880040",wa:"https://wa.me/918758880040"}]},{id:"13",name:"EEC Navsari",city:"Navsari",address:"4th Floor, Sachi Arcade Opp. Prajapati Ashram, Khumbharwad, Navsari",map:"https://www.google.com/maps?cid=14092899668333906838",contacts:[{type:"Coaching Information",phone:"+91 8758880055",wa:"https://wa.me/918758880055"},{type:"Admission and Visa Information",phone:"+91 8758880055",wa:"https://wa.me/918758880055"}]},{id:"14",name:"EEC Bharuch",city:"Bharuch",address:"3rd Floor, Shalimar Complex, Above Reliance mart, Station road, Bharuch",map:"https://www.google.com/maps?cid=520984728877884237",contacts:[{type:"Coaching Information",phone:"+91 8758884889",wa:"https://wa.me/918758884889"},{type:"Admission and Visa Information",phone:"+91 8758884889",wa:"https://wa.me/918758884889"}]},{id:"15",name:"EEC Memnagar",city:"Ahmedabad",address:"2nd Floor, Satya One, Opp. Manav Mandir, Helmet Circle, Memnagar, Ahmedabad",map:"https://www.google.com/maps?cid=10716909102676170971",contacts:[{type:"Coaching Information",phone:"+91 8758883889",wa:"https://wa.me/918758883889"},{type:"Admission and Visa Information",phone:"+91 8758880310",wa:"https://wa.me/918758880310"}]},{id:"16",name:"EEC Ghatlodiya",city:"Ahmedabad",address:"3rd Floor, Shayona Sarvopari, R.C. Technical Road, Ghatlodiya, Ahmedabad",map:"https://www.google.com/maps?cid=759408121446196888",contacts:[{type:"Coaching Information",phone:"+91 8758880710",wa:"https://wa.me/918758880710"},{type:"Admission and Visa Information",phone:"+91 8758880510",wa:"https://wa.me/918758880510"}]},{id:"17",name:"EEC Chandkheda",city:"Ahmedabad",address:"4th Floor, Sigma Arcade, Above Vijay Sales, Near Visat Circle, Chandkheda , Ahmedabad",map:"https://www.google.com/maps?cid=6232741686974192347",contacts:[{type:"Coaching Information",phone:"+91 8758750010",wa:"https://wa.me/918758750010"},{type:"Admission and Visa Information",phone:"+91 8758750010",wa:"https://wa.me/918758750010"}]},{id:"18",name:"EEC Maninagar",city:"Ahmedabad",address:"4th Floor, Prism Building, Below Apple Cinema, Shah Alam Tolnaka, Kankaria, Ahmedabad",map:"https://www.google.com/maps?cid=17011559568070196714",contacts:[{type:"Coaching Information",phone:"+91 7096083333",wa:"https://wa.me/917096083333"},{type:"Admission and Visa Information",phone:"+91 8758880015",wa:"https://wa.me/918758880015"}]},{id:"19",name:"EEC Odhav",city:"Ahmedabad",address:"2nd floor, Kahan Commercial Complex, Sardar Patel Ring Rd, above Vijay Sales, Odhav, Ahmedabad",map:"https://www.google.com/maps?cid=644558460884576515",contacts:[{type:"Coaching Information",phone:"+91 8758881885",wa:"https://wa.me/918758881885"},{type:"Admission and Visa Information",phone:"+91 8758881885",wa:"https://wa.me/918758881885"}]},{id:"20",name:"EEC Nikol",city:"Ahmedabad",address:"3rd Floor, Suvas Scala, Opp. Nikol Police Station, Nikol, Ahmedabad",map:"https://www.google.com/maps?cid=12030682389519519650",contacts:[{type:"Coaching Information",phone:"+91 8758880700",wa:"https://wa.me/918758880700"},{type:"Admission and Visa Information",phone:"+91 8758880700",wa:"https://wa.me/918758880700"}]},{id:"21",name:"EEC Bapunagar",city:"Ahmedabad",address:"2nd Floor, White House, India Colony Road, Opposite Swaminarayan Mandir, Ahmedabad",map:"https://www.google.com/maps?cid=14947997323335533677",contacts:[{type:"Coaching Information",phone:"+91 8758880320",wa:"https://wa.me/918758880320"},{type:"Admission and Visa Information",phone:"+91 8758880390",wa:"https://wa.me/918758880390"}]},{id:"22",name:"EEC Naroda",city:"Ahmedabad",address:"2nd Floor, Sahitya Hills & Icon, Above Style Up Store, Muktidham Char Rasta, Naroda, Ahmedabad",map:"https://www.google.com/maps?cid=5994096684006541649",contacts:[{type:"Coaching Information",phone:"+91 8758880730",wa:"https://wa.me/918758880730"},{type:"Admission and Visa Information",phone:"+91 8758880730",wa:"https://wa.me/918758880730"}]},{id:"23",name:"EEC Kalol",city:"Kalol",address:"2nd Floor, above Raymond, near HDFC Bank, Navjivan Mill Compound, Memon Market, Kalol",map:"https://www.google.com/maps?cid=17127671789391534440",contacts:[{type:"Coaching Information",phone:"+91 8758750090",wa:"https://wa.me/918758750090"},{type:"Admission and Visa Information",phone:"+91 8758750090",wa:"https://wa.me/918758750090"}]},{id:"24",name:"EEC Himatnagar",city:"Himatnagar",address:"2nd Floor, Platinum Square Building, opposite Post Office, Himatnagar",map:"https://www.google.com/maps?cid=2830319800003816353",contacts:[{type:"Coaching Information",phone:"+91 8758750080",wa:"https://wa.me/918758750080"},{type:"Admission and Visa Information",phone:"+91 8758880080",wa:"https://wa.me/918758880080"}]},{id:"25",name:"EEC Mehsana",city:"Mehsana",address:"2nd Floor, Perfect Plaza, near Aayush Hospital, Radhanpur Road, Mehsana",map:"https://www.google.com/maps?cid=17643646208083690976",contacts:[{type:"Coaching Information",phone:"+91 8758880886",wa:"https://wa.me/918758880886"},{type:"Admission and Visa Information",phone:"+91 8758880069",wa:"https://wa.me/918758880069"}]},{id:"26",name:"EEC Visnagar",city:"Visnagar",address:"2nd Floor, Above Shukan Restaurant Visnagar Kheralu Road, Visnagar",map:"https://www.google.com/maps?cid=14409675891397590911",contacts:[{type:"Coaching Information",phone:"+91 8758750086",wa:"https://wa.me/918758750086"},{type:"Admission and Visa Information",phone:"+91 8758750086",wa:"https://wa.me/918758750086"}]}],MF=({question:t,answer:e})=>{const[n,r]=j.useState(!1);return p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden transition-all duration-300 hover:border-violet-300 dark:hover:border-violet-700",children:[p.jsxs("button",{onClick:()=>r(!n),className:"w-full px-6 py-5 flex items-center justify-between text-left focus:outline-none",children:[p.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-base md:text-lg pr-4",children:t}),p.jsx("div",{className:`flex-shrink-0 p-2 rounded-full transition-colors ${n?"bg-violet-100 dark:bg-violet-900/30 text-violet-600":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:n?p.jsx(Jm,{className:"w-4 h-4"}):p.jsx(Km,{className:"w-4 h-4"})})]}),p.jsx("div",{className:`px-6 overflow-hidden transition-all duration-300 ease-in-out ${n?"max-h-96 pb-6 opacity-100":"max-h-0 opacity-0"}`,children:p.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed border-t border-slate-100 dark:border-slate-700/50 pt-4",children:e})})]})},DF=()=>{const[t,e]=j.useState(null),n=i=>{e(i)},r=()=>{e(null)},s=encodeURIComponent("Hi, I am contacting you from the EEC Travel & Visa Services web page");return p.jsxs("div",{className:"w-full max-w-6xl mx-auto mt-16 mb-8 space-y-12 relative",children:[t&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/70 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 overflow-hidden relative flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300 ring-1 ring-white/10",children:[p.jsxs("div",{className:"relative h-48 bg-slate-950 flex items-center justify-center overflow-hidden flex-shrink-0",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-900 to-indigo-950 opacity-100"}),p.jsx("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(rgba(255,255,255,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[size:24px_24px]"}),p.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-violet-600 rounded-full blur-[100px] opacity-30"}),p.jsx("div",{className:"absolute -bottom-20 -right-20 w-64 h-64 bg-emerald-500 rounded-full blur-[100px] opacity-20"}),p.jsx("button",{onClick:r,className:"absolute top-5 right-5 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition-all backdrop-blur-md border border-white/10 hover:rotate-90 duration-300 z-30 shadow-lg",children:p.jsx(QC,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"absolute top-24 left-1/2 transform -translate-x-1/2 z-30",children:p.jsx("div",{className:"p-1 bg-gradient-to-br from-white/80 to-white/40 backdrop-blur-xl rounded-full shadow-[0_8px_32px_rgba(0,0,0,0.2)] border border-white/50",children:p.jsxs("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-inner relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-slate-50 to-white opacity-50"}),p.jsx("img",{src:"https://eecglobal.com/assets/eeclogo-fDB7GrEm.svg",alt:"EEC Global",className:"h-12 w-auto object-contain relative z-10"})]})})}),p.jsxs("div",{className:"px-6 md:px-8 pb-8 pt-16 -mt-6 relative z-20 flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-900 rounded-t-[2.5rem] border-t border-white/50 dark:border-slate-800",children:[p.jsxs("div",{className:"text-center mb-8 relative",children:[p.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-violet-100 dark:bg-violet-900/30 rounded-full border border-violet-200 dark:border-violet-800 mb-3",children:[p.jsx(zh,{className:"w-3 h-3 text-violet-600 dark:text-violet-400"}),p.jsx("span",{className:"text-[10px] font-bold text-violet-700 dark:text-violet-300 uppercase tracking-widest",children:t.city})]}),p.jsx("h3",{className:"text-2xl md:text-3xl font-black text-slate-900 dark:text-white leading-tight mb-2 tracking-tight",children:t.name.replace("EEC","").trim()}),p.jsxs("div",{className:"flex justify-center gap-4 text-xs font-medium text-slate-500 dark:text-slate-400 mt-2",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx($h,{className:"w-3.5 h-3.5 text-emerald-500"})," Verified Branch"]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(ic,{className:"w-3.5 h-3.5 text-amber-500"})," 10:00 AM - 7:00 PM"]})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800/80 rounded-3xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-5 group-hover:opacity-10 transition-opacity",children:p.jsx(YC,{className:"w-24 h-24 transform rotate-12 -mr-4 -mt-4"})}),p.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[p.jsx(Gh,{className:"w-3.5 h-3.5"})," Address"]}),p.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 font-medium leading-relaxed pr-8",children:t.address})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 px-1",children:[p.jsx(af,{className:"w-4 h-4 text-slate-400"}),p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Department Contacts"})]}),t.contacts.map((i,o)=>{const a=i.type.includes("Coaching");return p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-1 pr-1 bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 hover:border-violet-300 dark:hover:border-violet-600 transition-all shadow-sm group hover:shadow-md",children:[p.jsxs("div",{className:"flex items-center gap-4 p-4 w-full sm:w-auto",children:[p.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-colors shadow-sm ${a?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"bg-fuchsia-50 text-fuchsia-600 dark:bg-fuchsia-900/20 dark:text-fuchsia-400"}`,children:a?p.jsx(af,{className:"w-6 h-6"}):p.jsx(Hh,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white group-hover:text-violet-600 dark:group-hover:text-violet-400 transition-colors",children:i.type}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono tracking-wide mt-0.5",children:i.phone})]})]}),p.jsxs("div",{className:"flex gap-2 w-full sm:w-auto px-4 pb-4 sm:p-0 sm:pr-2",children:[p.jsxs("a",{href:`tel:${i.phone}`,className:"flex-1 sm:flex-none py-2.5 px-4 rounded-xl bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-900 hover:text-white dark:hover:bg-white dark:hover:text-slate-900 transition-all flex items-center justify-center gap-2 font-bold text-xs",children:[p.jsx(WC,{className:"w-4 h-4"}),p.jsx("span",{className:"sm:hidden",children:"Call"})]}),p.jsxs("a",{href:`${i.wa}?text=${s}`,target:"_blank",rel:"noreferrer",className:"flex-1 sm:flex-none py-2.5 px-4 rounded-xl bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 hover:bg-green-500 hover:text-white transition-all flex items-center justify-center gap-2 font-bold text-xs shadow-sm border border-green-100 dark:border-green-900/30",children:[p.jsx(lc,{className:"w-4 h-4"}),p.jsx("span",{className:"sm:hidden",children:"WhatsApp"})]})]})]},o)})]})]}),p.jsx("div",{className:"mt-8 sticky bottom-0 bg-slate-50 dark:bg-slate-900 pt-4 pb-2",children:p.jsxs("a",{href:t.map,target:"_blank",rel:"noreferrer",className:"w-full flex items-center justify-center gap-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold py-4 rounded-2xl hover:scale-[1.02] active:scale-[0.98] transition-all shadow-xl shadow-slate-300/50 dark:shadow-none group relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/10 to-transparent z-10"}),p.jsx("div",{className:"p-1 bg-white/20 dark:bg-slate-900/10 rounded-lg",children:p.jsx(XC,{className:"w-5 h-5"})}),p.jsx("span",{children:"Get Directions to Branch"}),p.jsx(Fr,{className:"w-4 h-4 opacity-50 group-hover:translate-x-1 transition-transform"})]})})]})]})}),p.jsx("section",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-md rounded-[32px] p-8 md:p-12 border border-slate-200 dark:border-slate-800 shadow-xl",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-violet-100 dark:bg-violet-900/30 text-violet-700 dark:text-violet-300 text-xs font-bold uppercase tracking-wider mb-4",children:[p.jsx($h,{className:"w-4 h-4"}),p.jsx("span",{children:"Official Authority"})]}),p.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Why Trust EEC Global?"}),p.jsxs("p",{className:"text-slate-600 dark:text-slate-300 text-lg leading-relaxed mb-6 font-medium",children:["This AI Travel Agent is backed by ",p.jsx("strong",{children:"Enbee Education Center (EEC)"}),", the largest and oldest study abroad consultancy in Gujarat. Established in ",p.jsx("strong",{children:"1997"}),", we have guided over 50,000+ students with a near-perfect success rate."]}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Est. 1997",sub:"27+ Years Experience",icon:ic},{label:"26 Branches",sub:"Across 12 Cities",icon:zh},{label:"Certified",sub:"Expert Counsellors",icon:af},{label:"Global",sub:"USA, UK, CAN, AUS",icon:Hh}].map((i,o)=>p.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[p.jsx(i.icon,{className:"w-6 h-6 text-violet-600 dark:text-violet-400 mb-2"}),p.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:i.label}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:i.sub})]},o))})]}),p.jsxs("div",{className:"w-full md:w-1/3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 p-8 rounded-3xl relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-fuchsia-500 to-violet-600 rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition-opacity"}),p.jsx("h3",{className:"text-xl font-bold mb-4 relative z-10",children:"Consular Protocol"}),p.jsxs("p",{className:"text-sm opacity-80 mb-6 leading-relaxed relative z-10 font-medium",children:["Unlike standard AI, the EEC Engine uses a proprietary ",p.jsx("strong",{children:"Official Source Grounding"})," protocol. We cross-reference requirements exclusively against:"]}),p.jsx("ul",{className:"space-y-3 relative z-10",children:["Government (.gov) Portals","Official Embassies","VFS / BLS / TLS Partners"].map((i,o)=>p.jsxs("li",{className:"flex items-center gap-2 text-sm font-bold",children:[p.jsx(R3,{className:"w-4 h-4 text-emerald-400 dark:text-emerald-600"}),i]},o))})]})]})}),p.jsxs("section",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-8 px-4",children:[p.jsx(B3,{className:"w-6 h-6 text-slate-400"}),p.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Frequently Asked Questions"})]}),p.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:[{q:"Is the EEC AI Visa Tool completely free?",a:"Yes. EEC Global provides this AI-powered visa and flight search tool as a 100% free community service for Indian students and travelers. There are no hidden fees or paywalls."},{q:"How accurate is the visa information?",a:"Our Generative AI Engine is grounded in real-time data from official government websites (e.g., travel.state.gov, gov.uk). However, visa policies change daily, so we always recommend verifying with our certified counsellors at EEC branches."},{q:"Does EEC provide physical visa appointments?",a:"Yes. While this tool is for information, Enbee Education Center (EEC) has 26 physical branches across Gujarat (Vadodara, Surat, Ahmedabad, etc.) where our team handles the complete visa filing, documentation, and appointment process."},{q:"Can I use this for Student Visas?",a:"Absolutely. The tool specializes in Student Visas (F1, Tier 4, Subclass 500) for major destinations like USA, UK, Canada, and Australia, providing specific financial and academic document checklists."},{q:"Why do I need to check my state jurisdiction?",a:"Visa applications in India are often jurisdiction-based. For example, students from Gujarat often need to apply to the Mumbai Consulate for USA visas, or specific VFS centers for Europe. This tool identifies your optimal application center."}].map((i,o)=>p.jsx(MF,{question:i.q,answer:i.a},o))})]}),p.jsxs("section",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 px-4",children:[p.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-6 flex items-center gap-2",children:[p.jsx(Gh,{className:"w-4 h-4"}),"Our Physical Presence (Gujarat's Largest Network)"]}),p.jsx("p",{className:"text-xs text-slate-400 mb-4 font-medium italic",children:"Click any branch below to view office details."}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Wh.map(i=>p.jsxs("button",{onClick:()=>n(i),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs rounded-lg font-medium hover:bg-violet-600 hover:text-white dark:hover:bg-violet-600 dark:hover:text-white transition-all transform hover:-translate-y-0.5 shadow-sm active:scale-95",children:[i.name.replace("EEC","").trim()," ",p.jsxs("span",{className:"opacity-50 text-[10px]",children:["(",i.city,")"]})]},i.id))})]})]})},VF=({destination:t,visaType:e})=>{var a,l;const[n,r]=j.useState(null),[s,i]=j.useState(!0);if(j.useEffect(()=>{let c=!0;return(async()=>{i(!0);try{const m=await aD(t,e);c&&r(m)}catch(m){console.error(m)}finally{c&&i(!1)}})(),()=>{c=!1}},[t,e]),s)return p.jsxs("div",{className:"w-full max-w-4xl mx-auto mt-8 p-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 animate-pulse flex flex-col items-center justify-center",children:[p.jsx("div",{className:"w-8 h-8 border-4 border-slate-300 dark:border-slate-700 border-t-violet-600 rounded-full animate-spin mb-3"}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Retrieving Consular Directives..."})]});if(!n)return null;const o=c=>c==="High"?"text-rose-600 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800":c==="Medium"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800":"text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800";return p.jsxs("div",{className:"w-full max-w-4xl mx-auto mt-8 relative",children:[p.jsx("div",{className:"absolute inset-0 bg-white dark:bg-slate-900 rounded-[24px] shadow-xl transform rotate-1 border border-slate-200 dark:border-slate-800 z-0"}),p.jsxs("div",{className:"relative z-10 bg-white dark:bg-slate-950 rounded-[24px] border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[p.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 p-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-slate-200 dark:bg-slate-800 rounded-lg",children:p.jsx(wF,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-900 dark:text-white",children:"Official Visa Bulletin"}),p.jsxs("p",{className:"text-[10px] font-mono text-slate-500 dark:text-slate-400",children:["REF: ",n.bulletinId,"  AUTH: EEC-GLOBAL"]})]})]}),p.jsxs("div",{className:`px-4 py-1.5 rounded-full border text-xs font-bold uppercase tracking-wider flex items-center gap-2 ${o(n.riskLevel)}`,children:[p.jsx(Na,{className:"w-3.5 h-3.5"}),"Risk Assessment: ",n.riskLevel]})]}),p.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-2 gap-8",children:[p.jsxs("article",{children:[p.jsxs("h4",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-violet-600 dark:text-violet-400 mb-3",children:[p.jsx(ac,{className:"w-4 h-4"})," Consular Psychology"]}),p.jsxs("p",{className:"font-serif text-lg leading-relaxed text-slate-800 dark:text-slate-200 italic",children:['"',n.consularPsychology,'"']})]}),p.jsxs("article",{children:[p.jsxs("h4",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-emerald-600 dark:text-emerald-400 mb-3",children:[p.jsx(Cn,{className:"w-4 h-4"})," Strong Ties Analysis"]}),p.jsx("p",{className:"text-sm leading-relaxed text-slate-600 dark:text-slate-400 font-medium text-justify",children:n.economicTiesAnalysis})]}),p.jsxs("article",{className:"md:col-span-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl p-5 border border-slate-100 dark:border-slate-800",children:[p.jsxs("h4",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-rose-600 dark:text-rose-400 mb-3",children:[p.jsx(Zo,{className:"w-4 h-4"})," Forensic Document Protocol"]}),typeof n.documentForensics=="string"?p.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 font-mono leading-relaxed",children:n.documentForensics}):p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Target Document"}),p.jsx("p",{className:"font-bold text-slate-900 dark:text-slate-100",children:(a=n.documentForensics)==null?void 0:a.document})]}),p.jsxs("div",{className:"flex-[2] p-3 bg-rose-50 dark:bg-rose-900/20 rounded-lg border border-rose-100 dark:border-rose-800/30",children:[p.jsx("span",{className:"text-[10px] font-bold uppercase text-rose-600 dark:text-rose-400",children:"Forensic Red Flag"}),p.jsxs("p",{className:"text-sm text-rose-800 dark:text-rose-200 font-medium italic",children:['"',(l=n.documentForensics)==null?void 0:l.forgeryErrorReason,'"']})]})]})]}),p.jsx("div",{className:"md:col-span-2 pt-4 border-t border-slate-100 dark:border-slate-800",children:p.jsxs("p",{className:"text-[11px] text-slate-400 dark:text-slate-500 font-medium uppercase tracking-wide",children:["Active Policy Directive (",new Date().getFullYear(),"): ",p.jsx("span",{className:"text-slate-600 dark:text-slate-300 normal-case",children:n.recentPolicyShift})]})})]})]})]})},LF=()=>{const t=new Date().getFullYear(),[e,n]=j.useState(null),r=encodeURIComponent("Hi, I am contacting you from the EEC Travel & Visa Services web page"),s=Array.from(new Set(Wh.map(l=>l.city))).sort(),i=e?Wh.filter(l=>l.city===e):[],o=[{dest:"United States",type:"Student",label:"F1 Visa Requirements for USA"},{dest:"United Kingdom",type:"Student",label:"UK Tier 4 Student Visa Guide"},{dest:"Canada",type:"Student",label:"Canada Study Permit Process"},{dest:"Australia",type:"Student",label:"Australia Subclass 500 Visa"},{dest:"Germany",type:"Student",label:"German Student Visa Checklist"},{dest:"France",type:"Tourist",label:"Schengen Visa for France"},{dest:"United States",type:"Tourist",label:"US B1/B2 Tourist Visa"},{dest:"Dubai",type:"Tourist",label:"Dubai Express Visa from India"}],a=[{term:"SOP (Statement of Purpose)",def:"A critical essay stating your purpose of study, required for student visas in UK, Canada, and Australia."},{term:"CAS Letter",def:"Confirmation of Acceptance for Studies. A mandatory electronic document for UK Student Visa applications."},{term:"I-20 Form",def:"Certificate of Eligibility for Nonimmigrant Student Status, issued by US universities for F1 Visa interviews."},{term:"GIC (Guaranteed Investment Certificate)",def:"A mandatory investment of $10,000+ CAD for Indian students applying to Canada under SDS stream."},{term:"Schengen Area",def:"A zone of 27 European countries with no internal borders. A single visa allows travel across all member states."},{term:"Biometrics",def:"Fingerprinting and digital photo process conducted at VACs (Visa Application Centers) like VFS or BLS."}];return p.jsxs("section",{className:"w-full bg-slate-100 dark:bg-slate-950/50 border-t border-slate-200 dark:border-slate-800 py-16 mt-16",children:[e&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/70 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 overflow-hidden relative flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300 ring-1 ring-white/10",children:[p.jsxs("div",{className:"relative h-40 bg-slate-950 flex items-center justify-center overflow-hidden flex-shrink-0",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-900 to-indigo-950 opacity-100"}),p.jsx("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(rgba(255,255,255,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[size:24px_24px]"}),p.jsx("div",{className:"absolute -top-10 -left-10 w-48 h-48 bg-violet-600 rounded-full blur-[80px] opacity-30"}),p.jsx("div",{className:"absolute -bottom-10 -right-10 w-48 h-48 bg-emerald-500 rounded-full blur-[80px] opacity-20"}),p.jsxs("div",{className:"relative z-20 text-center",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-white/10 rounded-full backdrop-blur-md border border-white/10 mb-2",children:[p.jsx(Ra,{className:"w-3.5 h-3.5 text-emerald-400"}),p.jsx("span",{className:"text-[10px] font-bold text-emerald-200 uppercase tracking-widest",children:"Selected City"})]}),p.jsx("h2",{className:"text-4xl font-black text-white tracking-tight",children:e})]}),p.jsx("button",{onClick:()=>n(null),className:"absolute top-5 right-5 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition-all backdrop-blur-md border border-white/10 hover:rotate-90 duration-300 z-30 shadow-lg",children:p.jsx(QC,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-slate-50 dark:bg-slate-900",children:[p.jsxs("p",{className:"text-center text-slate-500 dark:text-slate-400 text-sm font-medium mb-6",children:["We found ",i.length," premium branch",i.length!==1?"es":""," in ",e," ready to assist you."]}),p.jsx("div",{className:"space-y-6",children:i.map(l=>p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-lg transition-all duration-300 group",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1 group-hover:text-violet-600 dark:group-hover:text-violet-400 transition-colors",children:l.name}),p.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-slate-500 dark:text-slate-400",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(Cn,{className:"w-3.5 h-3.5 text-emerald-500"})," Verified"]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(ic,{className:"w-3.5 h-3.5 text-amber-500"})," 10:00 AM - 7:00 PM"]})]})]}),p.jsxs("a",{href:l.map,target:"_blank",rel:"noreferrer",className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-900 hover:text-white dark:hover:bg-white dark:hover:text-slate-900 rounded-xl text-xs font-bold transition-all flex items-center justify-center gap-2",children:[p.jsx(XC,{className:"w-3.5 h-3.5"})," Directions"]})]}),p.jsxs("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800/50",children:[p.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1 flex items-center gap-1.5",children:[p.jsx(Gh,{className:"w-3 h-3"})," Address"]}),p.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium leading-relaxed",children:l.address})]}),p.jsx("div",{className:"space-y-3",children:l.contacts.map((c,h)=>p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-1 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"px-4 py-3 w-full sm:w-auto text-center sm:text-left",children:[p.jsx("p",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:c.type}),p.jsx("p",{className:"text-[10px] text-slate-400 font-mono mt-0.5",children:c.phone})]}),p.jsxs("div",{className:"flex w-full sm:w-auto p-1 gap-1",children:[p.jsxs("a",{href:`tel:${c.phone}`,className:"flex-1 py-2 px-3 bg-white dark:bg-slate-800 rounded-xl text-slate-600 dark:text-slate-300 text-xs font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex items-center justify-center gap-2",children:[p.jsx(WC,{className:"w-3.5 h-3.5"})," Call"]}),p.jsxs("a",{href:`${c.wa}?text=${r}`,target:"_blank",rel:"noreferrer",className:"flex-1 py-2 px-3 bg-green-500 rounded-xl text-white text-xs font-bold hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[p.jsx(lc,{className:"w-3.5 h-3.5"})," WhatsApp"]})]})]},h))})]},l.id))})]})]})}),p.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs font-bold uppercase tracking-wider mb-4",children:[p.jsx(xF,{className:"w-4 h-4"}),p.jsxs("span",{children:["EEC Travel Knowledge Vault ",t]})]}),p.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Comprehensive Visa & Immigration Resource Center"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-3xl mx-auto text-sm md:text-base leading-relaxed",children:"Access verified guides for Indian citizens. Powered by Enbee Education Center's 27 years of consular expertise. Navigating the complexities of international travel and study abroad documentation from Gujarat to the World."})]}),p.jsxs("div",{className:"grid md:grid-cols-12 gap-8 md:gap-12",children:[p.jsxs("div",{className:"md:col-span-4 space-y-8",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[p.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2 mb-4",children:[p.jsx(TF,{className:"w-5 h-5 text-violet-600"}),p.jsx("span",{children:"Popular Visa Corridors"})]}),p.jsx("ul",{className:"space-y-3",children:o.map((l,c)=>p.jsx("li",{children:p.jsxs("a",{href:`#/destination/${encodeURIComponent(l.dest)}/type/${encodeURIComponent(l.type)}/state/Gujarat`,className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400 hover:text-violet-600 dark:hover:text-violet-400 font-medium group transition-colors",children:[p.jsx("span",{children:l.label}),p.jsx(Fr,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity transform -rotate-45"})]})},c))}),p.jsx("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:p.jsxs("a",{href:"https://www.eecglobal.com",target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-violet-600 uppercase tracking-wide flex items-center gap-1 hover:underline",children:["View All Destinations ",p.jsx(Fr,{className:"w-3 h-3"})]})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[p.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2 mb-4",children:[p.jsx(SF,{className:"w-5 h-5 text-emerald-600"}),p.jsx("span",{children:"Gujarat Student Corridor"})]}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mb-4 leading-relaxed",children:"EEC specializes in student visa counseling for residents of Gujarat. We provide local biometric support and documentation services in:"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((l,c)=>p.jsx("button",{onClick:()=>n(l),className:"text-[10px] bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 px-2 py-1 rounded border border-slate-200 dark:border-slate-700 hover:bg-violet-600 hover:text-white dark:hover:bg-violet-600 dark:hover:text-white transition-colors cursor-pointer",children:l},c))}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-3 italic text-center",children:"* Click a city to view local branch details"})]})]}),p.jsxs("div",{className:"md:col-span-8 space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"font-bold text-xl text-slate-900 dark:text-white flex items-center gap-2",children:[p.jsx(CF,{className:"w-6 h-6 text-amber-500"}),p.jsx("span",{children:"Immigration Terminology (Glossary)"})]}),p.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:a.map((l,c)=>p.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800 hover:border-amber-200 dark:hover:border-amber-900/50 transition-colors",children:[p.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm mb-1",children:l.term}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed",children:l.def})]},c))})]}),p.jsx("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 dark:from-white dark:to-slate-200 rounded-2xl p-8 text-white dark:text-slate-900 relative overflow-hidden",children:p.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-8 items-center",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("h3",{className:"text-lg font-bold mb-2 flex items-center gap-2",children:[p.jsx(YC,{className:"w-5 h-5"}),"Why EEC is the Authority on Visas"]}),p.jsx("p",{className:"text-sm opacity-90 leading-relaxed mb-4",children:'Since 1997, Enbee Education Center has processed over 50,000+ visas. Our "Forensic Documentation" approach reduces rejection risks by pre-emptively addressing common INA 214(b) (USA) and GTE/GS (Australia) refusal grounds.'}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-2xl font-black",children:"98%"}),p.jsx("span",{className:"text-[10px] uppercase tracking-wider opacity-75",children:"Success Rate"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-2xl font-black",children:"26"}),p.jsx("span",{className:"text-[10px] uppercase tracking-wider opacity-75",children:"Branches"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-2xl font-black",children:"27+"}),p.jsx("span",{className:"text-[10px] uppercase tracking-wider opacity-75",children:"Years"})]})]})]}),p.jsxs("div",{className:"w-full md:w-1/3 p-4 bg-white/10 dark:bg-black/5 rounded-xl backdrop-blur-sm border border-white/10 dark:border-black/5",children:[p.jsxs("h4",{className:"text-xs font-bold uppercase tracking-wider mb-3 flex items-center gap-2",children:[p.jsx(Cn,{className:"w-3 h-3"}),"Accreditations"]}),p.jsxs("ul",{className:"space-y-2 text-xs font-medium opacity-80",children:[p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"})," AIRC Certified"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"})," ICEF Agency Status"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"})," British Council Trained"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"})," CCEA (Canada) Grads"]})]})]})]})})]})]}),p.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200 dark:border-slate-800",children:p.jsxs("p",{className:"text-[10px] text-slate-400 dark:text-slate-600 text-center leading-loose",children:[p.jsx("strong",{children:"Relevant Keywords:"})," Student Visa Consultants Vadodara, Study in USA, UK Student Visa fees ",t,", Canada SDS Colleges list, German Blocked Account amount, Australia GTE requirements, US Visa Interview questions, Schengen Visa appointment availability India, Foreign Exchange Rates Vadodara, Flight tickets to Toronto, IELTS Coaching Gujarat, TOEFL classes Ahmedabad."]})})]})]})},UF=({params:t,result:e})=>(j.useEffect(()=>{const n=document.querySelector('meta[name="description"]'),r=document.querySelector('link[rel="canonical"]');let s="Use EEC's 100% free AI-powered travel agent for verified Student & Tourist visa requirements.";if(e&&t.destination&&(s=`Official ${t.visaType} visa requirements for ${t.destination} from ${t.originState||"India"}. Verified fees, documents, and ${e.processingTime} processing time. Updated 2025.`),n)n.setAttribute("content",s);else{const c=document.createElement("meta");c.name="description",c.content=s,document.head.appendChild(c)}const i=`https://ai.eecglobal.com/travelagent/#/destination/${encodeURIComponent(t.destination)}/type/${encodeURIComponent(t.visaType)}`;if(r)r.setAttribute("href",i);else{const c=document.createElement("link");c.rel="canonical",c.href=i,document.head.appendChild(c)}const o="supplemental-seo-schema";let a=document.getElementById(o);a&&document.head.removeChild(a),a=document.createElement("script"),a.id=o,a.type="application/ld+json";const l=[];return l.push({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://ai.eecglobal.com/travelagent"},{"@type":"ListItem",position:2,name:t.destination||"Destinations",item:`https://ai.eecglobal.com/travelagent/#/destination/${encodeURIComponent(t.destination||"")}`},{"@type":"ListItem",position:3,name:`${t.visaType} Visa`,item:i}]}),l.push({"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:`How much does a ${t.visaType} visa to ${t.destination} cost?`,acceptedAnswer:{"@type":"Answer",text:(e==null?void 0:e.cost)||"Fees vary by embassy exchange rates. Check official VFS/Consulate pages."}},{"@type":"Question",name:`What is the processing time for ${t.destination} visa from ${t.originState}?`,acceptedAnswer:{"@type":"Answer",text:(e==null?void 0:e.processingTime)||"Processing times depend on consulate workload and season."}},{"@type":"Question",name:"Is EEC Global a registered consultancy?",acceptedAnswer:{"@type":"Answer",text:"Yes, Enbee Education Center (EEC) is established since 1997 with 26 branches across Gujarat."}}]}),l.push({"@context":"https://schema.org","@type":"TravelAgency",name:"Enbee Education Center (EEC)",image:"https://cdn-icons-png.flaticon.com/512/2060/2060284.png",telephone:"+91-9998887776",address:{"@type":"PostalAddress",streetAddress:"Alkapuri",addressLocality:"Vadodara",addressRegion:"Gujarat",postalCode:"390007",addressCountry:"IN"},geo:{"@type":"GeoCoordinates",latitude:22.3072,longitude:73.1812},openingHoursSpecification:{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],opens:"10:00",closes:"19:00"}}),a.textContent=JSON.stringify(l),document.head.appendChild(a),()=>{a&&document.head.removeChild(a)}},[t,e]),null),FF=()=>{const t=[{name:"Mr. Amit Jalan",role:"Managing Director",exp:"27+ Years",spec:"US & Canada Immigration Law",desc:"Pioneer of study abroad consulting in Gujarat. Expert in challenging INA 214(b) refusals.",imageUrl:"https://ai.eecglobal.com/assets/amit.jpeg"},{name:"CA Madhav Gupta",role:"Director",exp:"18+ Years",spec:"Financial Forensics & Compliance",desc:"Expert in financial documentation forensics, funds verification, and high-stakes visa compliance.",imageUrl:"https://ai.eecglobal.com/assets/Madhav-Gupta.jpeg"},{name:"Mrs. Mohita Gupta",role:"Vice President",exp:"12+ Years",spec:"Global Operations & GS",desc:"Specializes in complex GS drafting, academic assessment, and operational excellence for student visas.",imageUrl:"https://ai.eecglobal.com/assets/mohita-gupta.jpeg"}],e={"@context":"https://schema.org","@graph":t.map(n=>({"@type":"Person",name:n.name,jobTitle:n.role,worksFor:{"@type":"Organization",name:"Enbee Education Center"},description:n.desc,knowsAbout:n.spec}))};return p.jsxs("div",{className:"w-full max-w-6xl mx-auto mt-16 mb-8",children:[p.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(e)}}),p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[32px] border border-slate-200 dark:border-slate-800 p-8 md:p-12 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-indigo-600"}),p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("h2",{className:"text-2xl font-extrabold text-slate-900 dark:text-white mb-3",children:"The Forensic Visa Board"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-2xl mx-auto text-sm font-medium",children:"Our AI is trained and supervised by real humans. Meet the senior experts who audit our algorithms and ensure strict adherence to consular guidelines (E-E-A-T Compliance)."})]}),p.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:t.map((n,r)=>p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 rounded-2xl p-6 border border-slate-100 dark:border-slate-800 hover:shadow-lg transition-all group",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-slate-200 dark:bg-slate-800 flex items-center justify-center group-hover:ring-2 group-hover:ring-violet-500 transition-all",children:n.imageUrl?p.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover",loading:"lazy"}):p.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-bold text-lg",children:n.name.charAt(0)})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-base",children:n.name}),p.jsx("p",{className:"text-xs font-bold text-violet-600 dark:text-violet-400 uppercase tracking-wide",children:n.role})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:[p.jsx(Cn,{className:"w-3.5 h-3.5 text-emerald-500"}),p.jsxs("span",{children:["Experience: ",n.exp]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:[p.jsx(Pa,{className:"w-3.5 h-3.5 text-fuchsia-500"}),p.jsxs("span",{children:["Focus: ",n.spec]})]}),p.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed italic border-l-2 border-slate-200 dark:border-slate-800 pl-3 mt-2",children:['"',n.desc,'"']})]})]},r))}),p.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 text-center",children:p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-full text-emerald-700 dark:text-emerald-400 text-xs font-bold",children:[p.jsx(ka,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:"Verified Human Oversight  No hallucinations on critical policy data"})]})})]})]})};function ZC(t,e){return function(){return t.apply(e,arguments)}}const{toString:OF}=Object.prototype,{getPrototypeOf:Ym}=Object,{iterator:Qc,toStringTag:eI}=Symbol,Xc=(t=>e=>{const n=OF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gn=t=>(t=t.toLowerCase(),e=>Xc(e)===t),Zc=t=>e=>typeof e===t,{isArray:Xi}=Array,Ui=Zc("undefined");function Qa(t){return t!==null&&!Ui(t)&&t.constructor!==null&&!Ui(t.constructor)&&Ot(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tI=gn("ArrayBuffer");function qF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tI(t.buffer),e}const BF=Zc("string"),Ot=Zc("function"),nI=Zc("number"),Xa=t=>t!==null&&typeof t=="object",GF=t=>t===!0||t===!1,uu=t=>{if(Xc(t)!=="object")return!1;const e=Ym(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(eI in t)&&!(Qc in t)},HF=t=>{if(!Xa(t)||Qa(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},zF=gn("Date"),$F=gn("File"),jF=gn("Blob"),WF=gn("FileList"),KF=t=>Xa(t)&&Ot(t.pipe),JF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ot(t.append)&&((e=Xc(t))==="formdata"||e==="object"&&Ot(t.toString)&&t.toString()==="[object FormData]"))},YF=gn("URLSearchParams"),[QF,XF,ZF,e9]=["ReadableStream","Request","Response","Headers"].map(gn),t9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Za(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Xi(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(Qa(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function rI(t,e){if(Qa(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const hs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sI=t=>!Ui(t)&&t!==hs;function Kh(){const{caseless:t,skipUndefined:e}=sI(this)&&this||{},n={},r=(s,i)=>{const o=t&&rI(n,i)||i;uu(n[o])&&uu(s)?n[o]=Kh(n[o],s):uu(s)?n[o]=Kh({},s):Xi(s)?n[o]=s.slice():(!e||!Ui(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Za(arguments[s],r);return n}const n9=(t,e,n,{allOwnKeys:r}={})=>(Za(e,(s,i)=>{n&&Ot(s)?t[i]=ZC(s,n):t[i]=s},{allOwnKeys:r}),t),r9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),s9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},i9=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Ym(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},o9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},a9=t=>{if(!t)return null;if(Xi(t))return t;let e=t.length;if(!nI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},l9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ym(Uint8Array)),u9=(t,e)=>{const r=(t&&t[Qc]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},c9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},d9=gn("HTMLFormElement"),f9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),dw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),h9=gn("RegExp"),iI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Za(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},p9=t=>{iI(t,(e,n)=>{if(Ot(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ot(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},m9=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Xi(t)?r(t):r(String(t).split(e)),n},g9=()=>{},y9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function v9(t){return!!(t&&Ot(t.append)&&t[eI]==="FormData"&&t[Qc])}const _9=t=>{const e=new Array(10),n=(r,s)=>{if(Xa(r)){if(e.indexOf(r)>=0)return;if(Qa(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Xi(r)?[]:{};return Za(r,(o,a)=>{const l=n(o,s+1);!Ui(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},w9=gn("AsyncFunction"),E9=t=>t&&(Xa(t)||Ot(t))&&Ot(t.then)&&Ot(t.catch),oI=((t,e)=>t?setImmediate:e?((n,r)=>(hs.addEventListener("message",({source:s,data:i})=>{s===hs&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),hs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ot(hs.postMessage)),x9=typeof queueMicrotask<"u"?queueMicrotask.bind(hs):typeof process<"u"&&process.nextTick||oI,T9=t=>t!=null&&Ot(t[Qc]),F={isArray:Xi,isArrayBuffer:tI,isBuffer:Qa,isFormData:JF,isArrayBufferView:qF,isString:BF,isNumber:nI,isBoolean:GF,isObject:Xa,isPlainObject:uu,isEmptyObject:HF,isReadableStream:QF,isRequest:XF,isResponse:ZF,isHeaders:e9,isUndefined:Ui,isDate:zF,isFile:$F,isBlob:jF,isRegExp:h9,isFunction:Ot,isStream:KF,isURLSearchParams:YF,isTypedArray:l9,isFileList:WF,forEach:Za,merge:Kh,extend:n9,trim:t9,stripBOM:r9,inherits:s9,toFlatObject:i9,kindOf:Xc,kindOfTest:gn,endsWith:o9,toArray:a9,forEachEntry:u9,matchAll:c9,isHTMLForm:d9,hasOwnProperty:dw,hasOwnProp:dw,reduceDescriptors:iI,freezeMethods:p9,toObjectSet:m9,toCamelCase:f9,noop:g9,toFiniteNumber:y9,findKey:rI,global:hs,isContextDefined:sI,isSpecCompliantForm:v9,toJSONObject:_9,isAsyncFn:w9,isThenable:E9,setImmediate:oI,asap:x9,isIterable:T9};function ae(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}F.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const aI=ae.prototype,lI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lI[t]={value:t}});Object.defineProperties(ae,lI);Object.defineProperty(aI,"isAxiosError",{value:!0});ae.from=(t,e,n,r,s,i)=>{const o=Object.create(aI);F.toFlatObject(t,o,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ae.call(o,a,l,n,r,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const S9=null;function Jh(t){return F.isPlainObject(t)||F.isArray(t)}function uI(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function fw(t,e,n){return t?t.concat(e).map(function(s,i){return s=uI(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function C9(t){return F.isArray(t)&&!t.some(Jh)}const I9=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function ed(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,P){return!F.isUndefined(P[I])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(F.isDate(w))return w.toISOString();if(F.isBoolean(w))return w.toString();if(!l&&F.isBlob(w))throw new ae("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(w)||F.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,I,P){let A=w;if(w&&!P&&typeof w=="object"){if(F.endsWith(I,"{}"))I=r?I:I.slice(0,-2),w=JSON.stringify(w);else if(F.isArray(w)&&C9(w)||(F.isFileList(w)||F.endsWith(I,"[]"))&&(A=F.toArray(w)))return I=uI(I),A.forEach(function(k,D){!(F.isUndefined(k)||k===null)&&e.append(o===!0?fw([I],D,i):o===null?I:I+"[]",c(k))}),!1}return Jh(w)?!0:(e.append(fw(P,I,i),c(w)),!1)}const m=[],g=Object.assign(I9,{defaultVisitor:h,convertValue:c,isVisitable:Jh});function v(w,I){if(!F.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+I.join("."));m.push(w),F.forEach(w,function(A,x){(!(F.isUndefined(A)||A===null)&&s.call(e,A,F.isString(x)?x.trim():x,I,g))===!0&&v(A,I?I.concat(x):[x])}),m.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return v(t),e}function hw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Qm(t,e){this._pairs=[],t&&ed(t,this,e)}const cI=Qm.prototype;cI.append=function(e,n){this._pairs.push([e,n])};cI.toString=function(e){const n=e?function(r){return e.call(this,r,hw)}:hw;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function A9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dI(t,e,n){if(!e)return t;const r=n&&n.encode||A9;F.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=F.isURLSearchParams(e)?e.toString():new Qm(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class pw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k9=typeof URLSearchParams<"u"?URLSearchParams:Qm,N9=typeof FormData<"u"?FormData:null,R9=typeof Blob<"u"?Blob:null,b9={isBrowser:!0,classes:{URLSearchParams:k9,FormData:N9,Blob:R9},protocols:["http","https","file","blob","url","data"]},Xm=typeof window<"u"&&typeof document<"u",Yh=typeof navigator=="object"&&navigator||void 0,P9=Xm&&(!Yh||["ReactNative","NativeScript","NS"].indexOf(Yh.product)<0),M9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D9=Xm&&window.location.href||"http://localhost",V9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xm,hasStandardBrowserEnv:P9,hasStandardBrowserWebWorkerEnv:M9,navigator:Yh,origin:D9},Symbol.toStringTag,{value:"Module"})),_t={...V9,...b9};function L9(t,e){return ed(t,new _t.classes.URLSearchParams,{visitor:function(n,r,s,i){return _t.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function U9(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function F9(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function hI(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&F.isArray(s)?s.length:o,l?(F.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!F.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&F.isArray(s[o])&&(s[o]=F9(s[o])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,s)=>{e(U9(r),s,n,0)}),n}return null}function O9(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const el={transitional:fI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=F.isObject(e);if(i&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return s?JSON.stringify(hI(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return L9(e,this.formSerializer).toString();if((a=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ed(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),O9(e)):e}],transformResponse:[function(e){const n=this.transitional||el.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_t.classes.FormData,Blob:_t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{el.headers[t]={}});const q9=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),B9=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&q9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},mw=Symbol("internals");function Io(t){return t&&String(t).trim().toLowerCase()}function cu(t){return t===!1||t==null?t:F.isArray(t)?t.map(cu):String(t)}function G9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const H9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function uf(t,e,n,r,s){if(F.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function z9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $9(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let qt=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const h=Io(l);if(!h)throw new Error("header name must be a non-empty string");const m=F.findKey(s,h);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||l]=cu(a))}const o=(a,l)=>F.forEach(a,(c,h)=>i(c,h,l));if(F.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(F.isString(e)&&(e=e.trim())&&!H9(e))o(B9(e),n);else if(F.isObject(e)&&F.isIterable(e)){let a={},l,c;for(const h of e){if(!F.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[c=h[0]]=(l=a[c])?F.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Io(e),e){const r=F.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return G9(s);if(F.isFunction(n))return n.call(this,s,r);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Io(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||uf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Io(o),o){const a=F.findKey(r,o);a&&(!n||uf(r,r[a],a,n))&&(delete r[a],s=!0)}}return F.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||uf(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return F.forEach(this,(s,i)=>{const o=F.findKey(r,i);if(o){n[o]=cu(s),delete n[i];return}const a=e?z9(i):String(i).trim();a!==i&&delete n[i],n[a]=cu(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[mw]=this[mw]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Io(o);r[a]||($9(s,o),r[a]=!0)}return F.isArray(e)?e.forEach(i):i(e),this}};qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(qt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});F.freezeMethods(qt);function cf(t,e){const n=this||el,r=e||n,s=qt.from(r.headers);let i=r.data;return F.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function pI(t){return!!(t&&t.__CANCEL__)}function Zi(t,e,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(Zi,ae,{__CANCEL__:!0});function mI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function j9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function W9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[i];o||(o=c),n[s]=l,r[s]=c;let m=i,g=0;for(;m!==s;)g+=n[m++],m=m%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const v=h&&c-h;return v?Math.round(g*1e3/v):void 0}}function K9(t,e){let n=0,r=1e3/e,s,i;const o=(c,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t(...c)};return[(...c)=>{const h=Date.now(),m=h-n;m>=r?o(c,h):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-m)))},()=>s&&o(s)]}const uc=(t,e,n=3)=>{let r=0;const s=W9(50,250);return K9(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),h=o<=a;r=o;const m={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(m)},n)},gw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},yw=t=>(...e)=>F.asap(()=>t(...e)),J9=_t.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,_t.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(_t.origin),_t.navigator&&/(msie|trident)/i.test(_t.navigator.userAgent)):()=>!0,Y9=_t.hasStandardBrowserEnv?{write(t,e,n,r,s,i,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];F.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),F.isString(r)&&a.push(`path=${r}`),F.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),F.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Q9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function X9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gI(t,e,n){let r=!Q9(e);return t&&(r||n==!1)?X9(t,e):e}const vw=t=>t instanceof qt?{...t}:t;function ks(t,e){e=e||{};const n={};function r(c,h,m,g){return F.isPlainObject(c)&&F.isPlainObject(h)?F.merge.call({caseless:g},c,h):F.isPlainObject(h)?F.merge({},h):F.isArray(h)?h.slice():h}function s(c,h,m,g){if(F.isUndefined(h)){if(!F.isUndefined(c))return r(void 0,c,m,g)}else return r(c,h,m,g)}function i(c,h){if(!F.isUndefined(h))return r(void 0,h)}function o(c,h){if(F.isUndefined(h)){if(!F.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,m){if(m in e)return r(c,h);if(m in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h,m)=>s(vw(c),vw(h),m,!0)};return F.forEach(Object.keys({...t,...e}),function(h){const m=l[h]||s,g=m(t[h],e[h],h);F.isUndefined(g)&&m!==a||(n[h]=g)}),n}const yI=t=>{const e=ks({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=qt.from(o),e.url=dI(gI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),F.isFormData(n)){if(_t.hasStandardBrowserEnv||_t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([h,m])=>{c.includes(h.toLowerCase())&&o.set(h,m)})}}if(_t.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(e)),r||r!==!1&&J9(e.url))){const l=s&&i&&Y9.read(i);l&&o.set(s,l)}return e},Z9=typeof XMLHttpRequest<"u",e6=Z9&&function(t){return new Promise(function(n,r){const s=yI(t);let i=s.data;const o=qt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,h,m,g,v,w;function I(){v&&v(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let P=new XMLHttpRequest;P.open(s.method.toUpperCase(),s.url,!0),P.timeout=s.timeout;function A(){if(!P)return;const k=qt.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),U={data:!a||a==="text"||a==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:k,config:t,request:P};mI(function(T){n(T),I()},function(T){r(T),I()},U),P=null}"onloadend"in P?P.onloadend=A:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(A)},P.onabort=function(){P&&(r(new ae("Request aborted",ae.ECONNABORTED,t,P)),P=null)},P.onerror=function(D){const U=D&&D.message?D.message:"Network Error",V=new ae(U,ae.ERR_NETWORK,t,P);V.event=D||null,r(V),P=null},P.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const U=s.transitional||fI;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),r(new ae(D,U.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,P)),P=null},i===void 0&&o.setContentType(null),"setRequestHeader"in P&&F.forEach(o.toJSON(),function(D,U){P.setRequestHeader(U,D)}),F.isUndefined(s.withCredentials)||(P.withCredentials=!!s.withCredentials),a&&a!=="json"&&(P.responseType=s.responseType),c&&([g,w]=uc(c,!0),P.addEventListener("progress",g)),l&&P.upload&&([m,v]=uc(l),P.upload.addEventListener("progress",m),P.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=k=>{P&&(r(!k||k.type?new Zi(null,t,P):k),P.abort(),P=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const x=j9(s.url);if(x&&_t.protocols.indexOf(x)===-1){r(new ae("Unsupported protocol "+x+":",ae.ERR_BAD_REQUEST,t));return}P.send(i||null)})},t6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const h=c instanceof Error?c:this.reason;r.abort(h instanceof ae?h:new Zi(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new ae(`timeout ${e} of ms exceeded`,ae.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},n6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},r6=async function*(t,e){for await(const n of s6(t))yield*n6(n,e)},s6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},_w=(t,e,n,r)=>{const s=r6(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await s.next();if(c){a(),l.close();return}let m=h.byteLength;if(n){let g=i+=m;n(g)}l.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},ww=64*1024,{isFunction:Fl}=F,i6=(({Request:t,Response:e})=>({Request:t,Response:e}))(F.global),{ReadableStream:Ew,TextEncoder:xw}=F.global,Tw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},o6=t=>{t=F.merge.call({skipUndefined:!0},i6,t);const{fetch:e,Request:n,Response:r}=t,s=e?Fl(e):typeof fetch=="function",i=Fl(n),o=Fl(r);if(!s)return!1;const a=s&&Fl(Ew),l=s&&(typeof xw=="function"?(w=>I=>w.encode(I))(new xw):async w=>new Uint8Array(await new n(w).arrayBuffer())),c=i&&a&&Tw(()=>{let w=!1;const I=new n(_t.origin,{body:new Ew,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!I}),h=o&&a&&Tw(()=>F.isReadableStream(new r("").body)),m={stream:h&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!m[w]&&(m[w]=(I,P)=>{let A=I&&I[w];if(A)return A.call(I);throw new ae(`Response type '${w}' is not supported`,ae.ERR_NOT_SUPPORT,P)})});const g=async w=>{if(w==null)return 0;if(F.isBlob(w))return w.size;if(F.isSpecCompliantForm(w))return(await new n(_t.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(F.isArrayBufferView(w)||F.isArrayBuffer(w))return w.byteLength;if(F.isURLSearchParams(w)&&(w=w+""),F.isString(w))return(await l(w)).byteLength},v=async(w,I)=>{const P=F.toFiniteNumber(w.getContentLength());return P??g(I)};return async w=>{let{url:I,method:P,data:A,signal:x,cancelToken:k,timeout:D,onDownloadProgress:U,onUploadProgress:V,responseType:T,headers:E,withCredentials:S="same-origin",fetchOptions:b}=yI(w),R=e||fetch;T=T?(T+"").toLowerCase():"text";let M=t6([x,k&&k.toAbortSignal()],D),N=null;const X=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let Se;try{if(V&&c&&P!=="get"&&P!=="head"&&(Se=await v(E,A))!==0){let ee=new n(I,{method:"POST",body:A,duplex:"half"}),se;if(F.isFormData(A)&&(se=ee.headers.get("content-type"))&&E.setContentType(se),ee.body){const[Tt,Re]=gw(Se,uc(yw(V)));A=_w(ee.body,ww,Tt,Re)}}F.isString(S)||(S=S?"include":"omit");const he=i&&"credentials"in n.prototype,pe={...b,signal:M,method:P.toUpperCase(),headers:E.normalize().toJSON(),body:A,duplex:"half",credentials:he?S:void 0};N=i&&new n(I,pe);let q=await(i?R(N,b):R(I,pe));const H=h&&(T==="stream"||T==="response");if(h&&(U||H&&X)){const ee={};["status","statusText","headers"].forEach(St=>{ee[St]=q[St]});const se=F.toFiniteNumber(q.headers.get("content-length")),[Tt,Re]=U&&gw(se,uc(yw(U),!0))||[];q=new r(_w(q.body,ww,Tt,()=>{Re&&Re(),X&&X()}),ee)}T=T||"text";let $=await m[F.findKey(m,T)||"text"](q,w);return!H&&X&&X(),await new Promise((ee,se)=>{mI(ee,se,{data:$,headers:qt.from(q.headers),status:q.status,statusText:q.statusText,config:w,request:N})})}catch(he){throw X&&X(),he&&he.name==="TypeError"&&/Load failed|fetch/i.test(he.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,w,N),{cause:he.cause||he}):ae.from(he,he&&he.code,w,N)}}},a6=new Map,vI=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let o=i.length,a=o,l,c,h=a6;for(;a--;)l=i[a],c=h.get(l),c===void 0&&h.set(l,c=a?new Map:o6(e)),h=c;return c};vI();const Zm={http:S9,xhr:e6,fetch:{get:vI}};F.forEach(Zm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Sw=t=>`- ${t}`,l6=t=>F.isFunction(t)||t===null||t===!1;function u6(t,e){t=F.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let o=0;o<n;o++){r=t[o];let a;if(s=r,!l6(r)&&(s=Zm[(a=String(r)).toLowerCase()],s===void 0))throw new ae(`Unknown adapter '${a}'`);if(s&&(F.isFunction(s)||(s=s.get(e))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Sw).join(`
`):" "+Sw(o[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const _I={getAdapter:u6,adapters:Zm};function df(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zi(null,t)}function Cw(t){return df(t),t.headers=qt.from(t.headers),t.data=cf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_I.getAdapter(t.adapter||el.adapter,t)(t).then(function(r){return df(t),r.data=cf.call(t,t.transformResponse,r),r.headers=qt.from(r.headers),r},function(r){return pI(r)||(df(t),r&&r.response&&(r.response.data=cf.call(t,t.transformResponse,r.response),r.response.headers=qt.from(r.response.headers))),Promise.reject(r)})}const wI="1.13.2",td={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{td[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Iw={};td.transitional=function(e,n,r){function s(i,o){return"[Axios v"+wI+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new ae(s(o," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!Iw[o]&&(Iw[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};td.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function c6(t,e,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new ae("option "+i+" must be "+l,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+i,ae.ERR_BAD_OPTION)}}const du={assertOptions:c6,validators:td},wn=du.validators;let ys=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pw,response:new pw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ks(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&du.assertOptions(r,{silentJSONParsing:wn.transitional(wn.boolean),forcedJSONParsing:wn.transitional(wn.boolean),clarifyTimeoutError:wn.transitional(wn.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:du.assertOptions(s,{encode:wn.function,serialize:wn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),du.assertOptions(n,{baseUrl:wn.spelling("baseURL"),withXsrfToken:wn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&F.merge(i.common,i[n.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),n.headers=qt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(n)===!1||(l=l&&I.synchronous,a.unshift(I.fulfilled,I.rejected))});const c=[];this.interceptors.response.forEach(function(I){c.push(I.fulfilled,I.rejected)});let h,m=0,g;if(!l){const w=[Cw.bind(this),void 0];for(w.unshift(...a),w.push(...c),g=w.length,h=Promise.resolve(n);m<g;)h=h.then(w[m++],w[m++]);return h}g=a.length;let v=n;for(;m<g;){const w=a[m++],I=a[m++];try{v=w(v)}catch(P){I.call(this,P);break}}try{h=Cw.call(this,v)}catch(w){return Promise.reject(w)}for(m=0,g=c.length;m<g;)h=h.then(c[m++],c[m++]);return h}getUri(e){e=ks(this.defaults,e);const n=gI(e.baseURL,e.url,e.allowAbsoluteUrls);return dI(n,e.params,e.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(e){ys.prototype[e]=function(n,r){return this.request(ks(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ks(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ys.prototype[e]=n(),ys.prototype[e+"Form"]=n(!0)});let d6=class EI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Zi(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new EI(function(s){e=s}),cancel:e}}};function f6(t){return function(n){return t.apply(null,n)}}function h6(t){return F.isObject(t)&&t.isAxiosError===!0}const Qh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qh).forEach(([t,e])=>{Qh[e]=t});function xI(t){const e=new ys(t),n=ZC(ys.prototype.request,e);return F.extend(n,ys.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return xI(ks(t,s))},n}const Oe=xI(el);Oe.Axios=ys;Oe.CanceledError=Zi;Oe.CancelToken=d6;Oe.isCancel=pI;Oe.VERSION=wI;Oe.toFormData=ed;Oe.AxiosError=ae;Oe.Cancel=Oe.CanceledError;Oe.all=function(e){return Promise.all(e)};Oe.spread=f6;Oe.isAxiosError=h6;Oe.mergeConfig=ks;Oe.AxiosHeaders=qt;Oe.formToJSON=t=>hI(F.isHTMLForm(t)?new FormData(t):t);Oe.getAdapter=_I.getAdapter;Oe.HttpStatusCode=Qh;Oe.default=Oe;const{Axios:k6,AxiosError:N6,CanceledError:R6,isCancel:b6,CancelToken:P6,VERSION:M6,all:D6,Cancel:V6,isAxiosError:L6,spread:U6,toFormData:F6,AxiosHeaders:O6,HttpStatusCode:q6,formToJSON:B6,getAdapter:G6,mergeConfig:H6}=Oe,p6="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/sendOtpUSA",m6="https://us-central1-usa-visa-prep-c72f7.cloudfunctions.net/verifyOtpUSA",Xh=async t=>{var e;try{return(await Oe.post(p6,{phone:t},{headers:{"Content-Type":"application/json"}})).data}catch(n){throw console.error(" sendOtpMSG91 ERROR",((e=n.response)==null?void 0:e.data)||n),n}},TI=async(t,e)=>{var n;try{return(await Oe.post(m6,{phone:t,otp:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error(" verifyOtpMSG91 ERROR",((n=r.response)==null?void 0:n.data)||r),r}},Aw=()=>p.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0..."})]}),g6=({onAuthSuccess:t,onSwitchToSignup:e,onClose:n})=>{const[r,s]=j.useState("phone"),[i,o]=j.useState(""),[a,l]=j.useState(""),[c,h]=j.useState(null),[m,g]=j.useState(!1),[v,w]=j.useState(0),I=j.useRef();j.useEffect(()=>(v>0&&(I.current=setInterval(()=>w(x=>x-1),1e3)),()=>clearInterval(I.current)),[v]);const P=async x=>{x.preventDefault(),h(null);const k="+91"+i,D=i;if(!/^\d{10}$/.test(i)){h("Enter a valid 10-digit number.");return}g(!0);try{if(!await BC(D)){h("Phone not registered. Please sign up first."),g(!1);return}await Xh(k),s("otp"),w(60)}catch{h("Unable to send OTP. Try again.")}g(!1)},A=async x=>{var D;x.preventDefault(),h(null),g(!0);const k="+91"+i;try{const U=await TI(k,a);if(U.type==="success"||(D=U.message)!=null&&D.toLowerCase().includes("verified")){const V=await d3(i);V&&V.email&&localStorage.setItem("travelagentemail",V.email),t()}else h("Invalid OTP.")}catch{h("OTP verification failed.")}g(!1)};return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-2xl w-full max-w-md relative shadow-2xl animate-fadeIn",children:[p.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",children:""}),p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("img",{src:"https://ai.eecglobal.com/assets/eeclogo.svg",alt:"EEC",className:"mx-auto h-10 mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Welcome back!"}),p.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Enter your phone number to continue"})]}),r==="phone"&&p.jsxs("form",{onSubmit:P,className:"space-y-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone Number"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 dark:text-slate-400 font-medium",children:"+91"}),p.jsx("input",{className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg pl-14 pr-4 py-3 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400 transition-shadow",value:i,onChange:x=>o(x.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"98765 43210",required:!0})]})]}),p.jsx("button",{type:"submit",disabled:m||i.length!==10,className:"w-full bg-indigo-600 hover:bg-indigo-700 dark:hover:bg-indigo-500 text-white font-semibold py-3 px-6 rounded-lg transition-all transform hover:scale-[1.02] disabled:bg-slate-400 dark:disabled:bg-slate-600 disabled:cursor-not-allowed disabled:scale-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:m?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Aw,{}),p.jsx("span",{className:"ml-2",children:"Sending..."})]}):"Send OTP"})]}),r==="otp"&&p.jsxs("form",{onSubmit:A,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Enter OTP"}),p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3 text-center",children:["We sent a 6-digit code to ",p.jsxs("strong",{className:"text-slate-700 dark:text-slate-300",children:["+91 ",i]})]}),p.jsx("input",{className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg text-center tracking-[1em] py-3 px-4 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400 transition-shadow text-lg font-semibold",placeholder:"______",value:a,onChange:x=>l(x.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6})]}),p.jsx("button",{type:"submit",disabled:a.length!==6||m,className:"w-full bg-indigo-600 hover:bg-indigo-700 dark:hover:bg-indigo-500 text-white font-semibold py-3 px-6 rounded-lg transition-all transform hover:scale-[1.02] disabled:bg-slate-400 dark:disabled:bg-slate-600 disabled:cursor-not-allowed disabled:scale-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:m?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsx(Aw,{}),p.jsx("span",{className:"ml-2",children:"Verifying..."})]}):"Verify & Continue"}),p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("button",{type:"button",disabled:v>0||m,className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 disabled:text-slate-400 dark:disabled:text-slate-500 transition-colors text-sm font-medium",onClick:async()=>{h(null),g(!0);try{const x="+91"+i;await Xh(x),w(60),l("")}catch{h("Failed to resend OTP. Please try again.")}g(!1)},children:v>0?`Resend OTP in ${v}s`:"Resend OTP"}),p.jsx("button",{type:"button",className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 transition-colors text-sm font-medium",onClick:()=>{l(""),s("phone"),w(0)},children:"Change number"})]})]}),c&&p.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:p.jsx("p",{className:"text-center text-sm text-red-600 dark:text-red-400",children:c})}),p.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:p.jsxs("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400",children:["Don't have an account?"," ",p.jsx("button",{className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 ml-1 font-semibold transition-colors",onClick:e,children:"Sign up"})]})})]})})},Ao=({className:t="h-5 w-5 text-white"})=>p.jsxs("svg",{className:`animate-spin ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y6=({onAuthSuccess:t,onSwitchToLogin:e,onClose:n})=>{const[r,s]=j.useState("idle"),[i,o]=j.useState("idle"),[a,l]=j.useState(""),[c,h]=j.useState(!1),[m,g]=j.useState(!1),[v,w]=j.useState(null),[I,P]=j.useState({name:"",email:"",phone:"",targetCountry:"New Zealand",isEECAgent:"",branch:""}),[A,x]=j.useState(""),[k,D]=j.useState(!1),[U,V]=j.useState(!1),[T,E]=j.useState(!1),[S,b]=j.useState(null),[R,M]=j.useState(null),[N,X]=j.useState(null),[Se,he]=j.useState(null),[pe,q]=j.useState(0),H=j.useRef(null),$=async()=>{if(I.phone.length!==10){X("Please enter a valid 10-digit phone number.");return}const _e="+91"+I.phone,rt=I.phone;b(null),X(null),w(null),h(!0);try{if(await BC(rt)){X("An account with this phone number already exists. Please sign in instead."),h(!1);return}await Xh(_e)?(o("pending"),q(60)):X("Failed to send phone OTP. Try again.")}catch{X("Unable to send phone OTP. Try again.")}h(!1)},ee=async()=>{var rt;if(a.length!==6){w("Enter the 6-digit OTP.");return}w(null),g(!0);const _e="+91"+I.phone;try{const ct=await TI(_e,a);ct.type==="success"||(rt=ct.message)!=null&&rt.toLowerCase().includes("verified")?o("verified"):(w("Invalid OTP."),l(""))}catch{w("Failed to verify OTP. Try again.")}g(!1)};j.useEffect(()=>(pe>0?H.current=setInterval(()=>{q(_e=>_e>0?_e-1:0)},1e3):H.current&&clearInterval(H.current),()=>{H.current&&clearInterval(H.current)}),[pe]);const se=_e=>{const{name:rt,value:ct}=_e.target;if(rt==="phone"){const Yt=ct.replace(/\D/g,"");Yt.length<=10&&P(tl=>({...tl,[rt]:Yt}))}else P(rt==="state"?Yt=>({...Yt,state:ct,city:""}):rt==="isEECAgent"?Yt=>({...Yt,[rt]:ct,branch:ct==="No"?"":Yt.branch}):Yt=>({...Yt,[rt]:ct}))},Tt=async()=>{if(!I.email||!I.email.includes("@")){M("Please enter a valid email address.");return}b(null),M(null),he(null),D(!0);try{if(await c3(I.email)){M("An account with this email already exists. Please sign in instead."),D(!1);return}await g3(I.email)?(s("pending"),q(60)):M("Failed to send OTP. Please check your email and try again.")}catch{M("An unexpected error occurred.")}finally{D(!1)}},Re=async()=>{if(A.length!==6){he("Please enter the 6-digit OTP.");return}he(null),b(null),V(!0);try{await y3(I.email,A)?s("verified"):(he("Invalid OTP. Please try again."),x(""))}finally{V(!1)}},St=async _e=>{_e.preventDefault(),E(!0),b(null),M(null);try{const rt={...I,targetCountry:I.targetCountry||"New Zealand",isEECAgent:I.isEECAgent||"",branch:I.isEECAgent==="Yes"&&I.branch||""},ct=await f3(rt);if(ct==="EXISTS"){M("An account with this email already exists. Please sign in instead."),e();return}if(ct==="ERROR"){b("Something went wrong. Please try again.");return}localStorage.setItem("travelagentemail",I.email),t()}finally{E(!1)}},Pe="w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 transition bg-white dark:bg-slate-900 dark:text-slate-100",nt="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1";return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 bg-slate-900/50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-md w-full p-4 sm:p-5 relative max-h-[96vh] overflow-y-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[p.jsx("style",{children:`
          .scrollbar-hide::-webkit-scrollbar {
            display: none;
          }
        `}),p.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-50 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full p-1 w-8 h-8 flex items-center justify-center transition-colors duration-200","aria-label":"Close",children:""}),p.jsxs("div",{className:"text-center mb-3",children:[p.jsx("img",{src:"https://ai.eecglobal.com/assets/eeclogo.svg",alt:"EEC",className:"mx-auto h-10 mb-2"}),p.jsx("h2",{className:"mt-1 text-xl font-bold text-slate-900 dark:text-slate-100",children:"Welcome!"}),p.jsxs("p",{className:"mt-1 text-md text-slate-600 dark:text-slate-400",children:["Create an account or"," ",p.jsx("button",{onClick:e,className:"text-indigo-600",children:"Sign In"})]})]}),p.jsxs("form",{onSubmit:St,className:"mt-2 space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:nt,children:"Full Name"}),p.jsx("input",{type:"text",name:"name",required:!0,value:I.name,onChange:se,className:Pe})]}),p.jsxs("div",{children:[p.jsx("label",{className:nt,children:"Email"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"email",name:"email",required:!0,value:I.email,onChange:_e=>{se(_e),M(null)},className:`${Pe} ${R?"border-red-500":""}`,disabled:r!=="idle"}),r==="idle"&&p.jsx("button",{type:"button",onClick:Tt,disabled:k||!I.email.includes("@"),className:"px-4 py-3 bg-indigo-600 text-white rounded-lg",children:k?p.jsx(Ao,{}):"Verify"}),r==="verified"&&p.jsx("span",{className:"text-green-600 font-semibold",children:" Verified"})]}),R&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:R})]}),r==="pending"&&p.jsxs("div",{className:"mt-2 p-3 bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 rounded-lg border border-indigo-200 dark:border-slate-600 shadow-sm space-y-2",children:[p.jsxs("p",{className:"text-xs text-center text-slate-700 dark:text-slate-300",children:["Enter the 6-digit code sent to",p.jsx("br",{}),p.jsx("strong",{className:"text-indigo-600 dark:text-indigo-400 text-xs",children:I.email})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:A,onChange:_e=>x(_e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"flex-1 px-3 py-2 bg-white dark:bg-slate-900 border-2 border-indigo-300 dark:border-indigo-600 rounded-lg text-center text-base tracking-[0.2em] font-semibold text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-1 focus:ring-indigo-300 dark:focus:ring-indigo-600 focus:outline-none transition text-sm",maxLength:6}),p.jsx("button",{type:"button",onClick:Re,disabled:U,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 dark:hover:bg-indigo-500 text-white font-semibold text-sm rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:U?p.jsx(Ao,{className:"h-4 w-4"}):"Confirm"})]}),Se&&p.jsx("p",{className:"text-center text-xs text-red-600 dark:text-red-400 font-medium",children:Se}),p.jsx("div",{className:"text-center",children:p.jsxs("button",{type:"button",onClick:Tt,disabled:pe>0,className:"text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 font-medium disabled:text-slate-400 disabled:cursor-not-allowed transition",children:["Resend OTP ",pe>0?`(${pe}s)`:""]})})]}),p.jsxs("div",{children:[p.jsxs("label",{className:nt,children:["Phone Number",r!=="verified"&&p.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 ml-2",children:"[Please verify your email first]"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx("span",{className:"absolute left-3 top-3 text-slate-500",children:"+91"}),p.jsx("input",{type:"tel",name:"phone",required:!0,value:I.phone,onChange:_e=>{se(_e),X(null)},className:`${Pe} pl-12 ${N?"border-red-500":""}`,disabled:i!=="idle"||r!=="verified"})]}),i==="idle"&&p.jsx("button",{type:"button",onClick:$,disabled:c||I.phone.length!==10||r!=="verified",className:"px-4 py-3 bg-indigo-600 text-white rounded-lg disabled:bg-slate-400 disabled:cursor-not-allowed",title:r!=="verified"?"Please verify your email first":"",children:c?p.jsx(Ao,{}):"Verify"}),i==="verified"&&p.jsx("span",{className:"text-green-600 font-semibold",children:" Verified"})]}),N&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:N})]}),i==="pending"&&p.jsxs("div",{className:"mt-2 p-3 bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 rounded-lg border border-indigo-200 dark:border-slate-600 shadow-sm space-y-2",children:[p.jsxs("p",{className:"text-xs text-center text-slate-700 dark:text-slate-300",children:["Enter OTP sent to",p.jsx("br",{}),p.jsxs("strong",{className:"text-indigo-600 dark:text-indigo-400 text-xs",children:["+91 ",I.phone]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:a,onChange:_e=>l(_e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"flex-1 px-3 py-2 bg-white dark:bg-slate-900 border-2 border-indigo-300 dark:border-indigo-600 rounded-lg text-center text-base tracking-[0.2em] font-semibold text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-1 focus:ring-indigo-300 dark:focus:ring-indigo-600 focus:outline-none transition text-sm",maxLength:6}),p.jsx("button",{type:"button",onClick:ee,disabled:m,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 dark:hover:bg-indigo-500 text-white font-semibold text-sm rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?p.jsx(Ao,{className:"h-4 w-4"}):"Confirm"})]}),v&&p.jsx("p",{className:"text-center text-xs text-red-600 dark:text-red-400 font-medium",children:v}),p.jsx("div",{className:"text-center",children:p.jsxs("button",{type:"button",onClick:$,disabled:pe>0,className:"text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 font-medium disabled:text-slate-400 disabled:cursor-not-allowed transition",children:["Resend OTP ",pe>0?`(${pe}s)`:""]})})]}),p.jsxs("div",{className:"flex items-center gap-x-6",children:[p.jsxs("label",{className:"flex items-center whitespace-nowrap text-sm font-medium text-slate-700 dark:text-slate-300",children:["EEC is my admissions agent?",p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.jsxs("div",{className:"flex items-center gap-x-6",children:[p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",name:"isEECAgent",value:"Yes",checked:I.isEECAgent==="Yes",onChange:se,className:"mr-2 h-4 w-4 accent-indigo-600 dark:accent-indigo-500",disabled:i!=="verified",required:!0}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Yes"})]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",name:"isEECAgent",value:"No",checked:I.isEECAgent==="No",onChange:se,className:"mr-2 h-4 w-4 accent-indigo-600 dark:accent-indigo-500",disabled:i!=="verified",required:!0}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"No"})]})]})]}),I.isEECAgent==="Yes"&&p.jsxs("div",{children:[p.jsxs("label",{className:nt,children:["Choose Branch",p.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.jsxs("select",{name:"branch",value:I.branch,onChange:se,className:Pe,disabled:i!=="verified",required:I.isEECAgent==="Yes",children:[p.jsx("option",{value:"",children:"Select Branch"}),qu.map(_e=>p.jsx("option",{value:_e.identifier,children:_e.name},_e.identifier))]})]}),p.jsx("button",{type:"submit",disabled:T||r!=="verified"||i!=="verified",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg mt-4 transition-colors duration-200 disabled:bg-slate-400 disabled:cursor-not-allowed disabled:opacity-70 flex items-center justify-center min-h-[44px]",children:T?p.jsx(Ao,{}):"Create Account & Get Started"})]}),p.jsxs("button",{type:"button",onClick:e,className:"group relative w-full py-3 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 hover:from-indigo-50 hover:to-blue-50 dark:hover:from-indigo-900/30 dark:hover:to-blue-900/30 text-slate-700 dark:text-slate-200 font-semibold rounded-lg mt-3 transition-all duration-300 flex items-center justify-center min-h-[44px] border border-slate-200 dark:border-slate-600 hover:border-indigo-300 dark:hover:border-indigo-600 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] backdrop-blur-sm overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/0 via-indigo-500/10 to-indigo-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),p.jsxs("span",{className:"relative flex items-center gap-2",children:[p.jsx("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-[-10deg]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Already Registered? Sign In"]})]}),S&&p.jsx("p",{className:"mt-2 text-center text-xs text-red-600",children:S})]})})},v6=({title:t,children:e})=>{const[n,r]=j.useState(!1);return p.jsxs("div",{className:"border border-slate-200/50 dark:border-slate-800/50 rounded-xl overflow-hidden bg-slate-50/50 dark:bg-slate-900/30",children:[p.jsxs("button",{onClick:()=>r(!n),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors group",children:[p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-200",children:t}),n?p.jsx(Jm,{className:"w-3 h-3 text-slate-400"}):p.jsx(Km,{className:"w-3 h-3 text-slate-400"})]}),n&&p.jsx("div",{className:"px-4 pb-4 pt-1 animate-in fade-in slide-in-from-top-2 duration-200",children:e})]})},_6=()=>{const t={"United States":["US F1 student visa interview questions 2025","US tourist visa B1/B2 wait times India","DS-160 form filling guide for indian students","documents required for US student visa dropbox","cost of studying in USA for indian students","US visa rejection reasons 214(b) explained","gap acceptance in US universities for masters","US student visa financial proof requirements","stem opt extension rules for indian students","emergency US visa appointment india process"],"United Kingdom":["UK tier 4 student visa checklist India","study in UK without IELTS for indian students","UK post study work visa graduate route 2025","CAS letter processing time UK universities","UK tourist visa fees in indian rupees 2025","london university fees for indian students","proof of funds for UK student visa calculation","UK spouse visa requirements for students","list of UK universities accepting study gap","UK credibility interview questions and answers"],Canada:["canada student visa sds vs non sds 2025","canada study permit processing time india","minimum bank balance for canada student visa","SOP for canada student visa 100% approval","GIC amount for canada student visa 2025","canada visitor visa checklist for parents","canada spouse open work permit eligibility","reasons for canada student visa rejection","ircc portal login for indian applicants","colleges in canada for indian students low fees"],Australia:["australia student visa subclass 500 requirements","GTE statement australia student visa sample","australia tourist visa subclass 600 checklist","level 1 universities in australia for india","study in australia cost for indian students","australia student visa fees in indian rupees","working rights in australia for students","australia dependent visa requirements 2025","australia visa rejection reasons 2025","immiaccount login australia visa application"],"New Zealand":["new zealand student visa requirements from india","study in new zealand cost for indian students","new zealand tourist visa processing time india","post study work rights new zealand 2025","green list occupations new zealand for students","level 7 diploma in new zealand for international students","new zealand student visa fund requirements","partner work visa new zealand student","unitec new zealand courses for international students","university of auckland admission requirements"],Germany:["germany student visa checklist vfs india","blocked account amount germany 2025","aps certificate india process and time","study in germany free universities for indian students","germany job seeker visa requirements from india","germany tourist visa appointment vfs","public universities in germany for masters","german language levels for student visa","letter of motivation for german student visa","germany opportunity card for indian citizens"],France:["campus france procedure for indian students 2025","france long stay student visa checklist","study in france without ielts for indian students","france schengen visa appointment availability","france tourist visa documents checklist","interview questions for france student visa","cost of living in paris for indian students","public universities in france for international students","france job seeker visa after masters","accommodation proof for france visa application"],Ireland:["study in ireland cost for indian students","ireland student visa interview questions","ireland tourist visa processing time india","stamp 1g visa rules ireland for students","GNIB appointment dublin for students","universities in ireland for ms in computer science","ireland critical skills employment permit","proof of funds for ireland student visa","study in ireland with education loan","part time job salary in ireland for students"],Netherlands:["mvv visa netherlands student requirements","study in netherlands cost for indian students","netherlands tourist visa from india checklist","university of amsterdam admission requirements","netherlands post study work visa orientation year","ielts requirement for netherlands universities","ind netherlands student visa processing time","housing for students in netherlands","netherlands scholarship for indian students","schengen visa netherlands vfs appointment"],Italy:["italy student visa checklist for indian students","cimea statement of comparability italy","italy schengen visa processing time india","scholarship in italy for indian students 2025","universitaly pre-enrollment summary guide","study in italy free universities for international students","italy tourist visa appointment vfs mumbai","politecnico di milano admission requirements","sapienza university of rome application fee","accommodation proof for italy student visa"],Spain:["spain student visa requirements from india","spain tourist visa appointment bls india","study in spain cost for international students","nie number spain student visa process","spain non-lucrative visa requirements india","barcelona university admission for international students","medical certificate for spain student visa","spain digital nomad visa for indian citizens","public universities in spain for masters","bls spain visa tracking status india"],Switzerland:["study in switzerland cost for indian students","switzerland student visa checklist india","swiss schengen visa appointment vfs","eth zurich admission requirements for indian students","swiss tourist visa requirements for indian citizens","hospitality management courses in switzerland","switzerland work visa for indian citizens","cost of living in zurich for students","university of geneva international students","swiss visa processing time from india"],Sweden:["sweden residence permit for studies requirements","study in sweden cost for indian students","sweden job seeker visa requirements","sweden tourist visa from india vfs","personnummer sweden student process","kth royal institute of technology admission","lund university scholarship for international students","work permit after study in sweden","sweden dependent visa requirements","university admissions se application guide"],Finland:["study in finland for indian students 2025","finland residence permit student requirements","finland job seeker visa for indian citizens","finland tourist visa requirements from india","finland university application deadline 2025","university of helsinki admission requirements","cost of living in finland for students","finland scholarship for international students","part time work rules in finland for students","migri finland student visa processing time"],Denmark:["study in denmark for international students requirements","denmark student visa processing time india","denmark green card scheme point system","denmark tourist visa checklist for indian citizens","copenhagen university admission for indian students","denmark positive list for work visa","tuition fees in denmark for indian students","residence permit denmark student","post study work visa denmark rules","nyidanmark student application guide"],Austria:["austria student visa residence permit india","study in austria public universities fees","austria tourist visa vfs checklist","austria job seeker visa requirements","university of vienna admission for indian students","legalization of documents for austria visa","cost of living in vienna for students","austria red white red card explanation","german language requirement for austria student visa","accommodation booking for austria visa"],Malta:["study in malta visa success rate 2025","malta work permit for indian citizens","malta tourist visa requirements from india","identity malta student visa checklist","english courses in malta for work visa","jobs in malta for indian students","malta schengen visa processing time","cost of studying in malta for indian students","malta college of arts science and technology admission","vfs malta appointment india"],UAE:["uae golden visa requirements for students","dubai student visa cost and process","uae tourist visa 5 years multiple entry india","study in dubai universities for indian students","uae residence visa for students sponsorship","knowledge village dubai universities list","part time work permit for students in dubai","visa on arrival for indian citizens with us visa","dubai freelance visa for indian citizens","sharjah university admission requirements"],Singapore:["singapore student pass application process","study in singapore for indian students cost","singapore tourist visa documents for indian citizens","singapore visa processing time india","singapore universities fees for international students","nus admission requirements for indian students","singapore work holiday programme for students","ica singapore student pass login","private universities in singapore for indian students","singapore visa rejection reasons"],Latvia:["study in latvia without ielts for indian students","latvia student visa interview questions","latvia trp process for students","latvia tourist visa requirements from india","riga technical university admission 2025","latvia visa success rate for indian students","cost of living in riga for students","latvia schengen visa appointment","latvia university admission letter time","part time jobs in latvia for indian students"],Hungary:["study in hungary stipendiums hungaricum 2025","hungary student visa interview questions","hungary tourist visa checklist india","university of debrecen admission requirements","residence permit hungary student process","study in hungary without ielts","cost of living in budapest for students","semmelweis university entrance exam","hungary work visa for indian citizens","hungary visa appointment vfs"]},e={"North America":["United States","Canada"],"UK & Europe":["United Kingdom","Germany","France","Ireland","Netherlands","Italy","Spain","Switzerland","Sweden","Finland","Denmark","Austria","Malta","Latvia","Hungary"],"Asia Pacific":["Australia","New Zealand","Singapore"],"Middle East":["UAE"]};return p.jsx("div",{className:"w-full mt-2 pt-3 border-t border-slate-200/50 dark:border-slate-800/50 ",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 opacity-70",children:[p.jsx(Yc,{className:"w-4 h-4 text-slate-400"}),p.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 dark:text-slate-600 select-none",children:"Global Consular Search Index (2025)"})]}),p.jsx("div",{className:"space-y-1",children:Object.entries(e).map(([n,r])=>p.jsx(v6,{title:`${n} (${r.length} Regions)`,children:p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-8 pt-2",children:r.map(s=>{var i;return p.jsxs("div",{className:"space-y-2 opacity-60 hover:opacity-100 transition-opacity",children:[p.jsx("h4",{className:"text-[9px] font-black uppercase tracking-widest text-violet-500 dark:text-violet-400 border-b border-slate-200 dark:border-slate-800 pb-1 mb-2",children:s}),p.jsx("ul",{className:"space-y-1",children:(i=t[s])==null?void 0:i.map((o,a)=>p.jsx("li",{className:"text-[9px] leading-tight text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 cursor-default font-medium",children:o},a))})]},s)})})},n))}),p.jsx("div",{className:"mt-4 text-center",children:p.jsx("p",{className:"text-[9px] text-slate-300 dark:text-slate-700 italic",children:"*Index generated for programmatic SEO crawlability. Content accuracy verified dynamically."})})]})})},w6=()=>{const[t,e]=j.useState(!1),n=["Gujarat","Maharashtra","Punjab","Delhi","Telangana"],r=["United States","Canada","United Kingdom","Australia","Germany"];return p.jsx("div",{className:" pt-1 border-t border-slate-200/50 dark:border-slate-800/50",children:p.jsxs("div",{className:"border border-slate-200/50 dark:border-slate-800/50 rounded-xl overflow-hidden bg-slate-50/50 dark:bg-slate-900/30",children:[p.jsxs("button",{onClick:()=>e(!t),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors group",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Yc,{className:"w-3.5 h-3.5 text-violet-500 opacity-70"}),p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-200",children:"Regional Visa Requirements Index"})]}),t?p.jsx(Jm,{className:"w-3 h-3 text-slate-400"}):p.jsx(Km,{className:"w-3 h-3 text-slate-400"})]}),t&&p.jsx("div",{className:"px-4 pb-6 pt-2 animate-in fade-in slide-in-from-top-2 duration-200",children:p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:n.map(s=>p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:"text-[9px] font-extrabold uppercase tracking-wider text-slate-400 dark:text-slate-600 mb-1 border-b border-slate-200 dark:border-slate-800 pb-1",children:s}),p.jsx("ul",{className:"space-y-1",children:r.map(i=>p.jsx("li",{children:p.jsxs("a",{href:`#/destination/${encodeURIComponent(i)}/type/Student/state/${encodeURIComponent(s)}`,className:"text-[9px] text-slate-500 hover:text-violet-600 dark:text-slate-500 dark:hover:text-violet-400 transition-colors block py-0.5 truncate",children:["Student Visa: ",i]})},`${s}-${i}`))})]},s))})})]})})},E6=()=>p.jsx("footer",{className:"border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 pt-4 pb-6 mt-auto transition-colors relative z-10",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"flex flex-col md:flex-row max-w-7xl mx-auto items-start justify-evenly",children:[p.jsxs("div",{className:"text-center md:text-left flex-1",children:[p.jsx("a",{href:"https://eecglobal.com",target:"_blank",rel:"noopener noreferrer",className:"inline-block group",children:p.jsx("img",{src:"https://ai.eecglobal.com/assets/eeclogo.svg",alt:"Logo",className:"h-14 sm:h-10"})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-lg tracking-tight",children:"Enbee Education Center Private Limited (EEC)"}),p.jsxs("div",{className:"flex flex-col gap-1 text-sm text-slate-500 dark:text-slate-400 font-medium",children:[p.jsx("span",{children:" 2025 EEC. All rights reserved."}),p.jsxs("div",{className:"flex flex-row flex-wrap items-center gap-x-2 gap-y-0.5 justify-center md:justify-start",children:[p.jsx("span",{children:"Established 1997"}),p.jsx("span",{className:"text-slate-300 dark:text-slate-700",children:""}),p.jsx("span",{children:"26 Branches"}),p.jsx("span",{className:"text-slate-300 dark:text-slate-700",children:""}),p.jsx("span",{children:"12 Cities"})]})]})]})]}),p.jsxs("div",{className:"flex flex-col items-start flex-shrink-0 mx-auto md:mx-0 max-w-fit",children:[p.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-200 md:mt-0 mt-3 text-xl text-left md:text-right",children:"Connect with Us"}),p.jsxs("div",{className:"flex items-center gap-6 sm:gap-5 my-3 justify-start md:justify-end",children:[p.jsx("a",{href:"https://www.instagram.com/eecglobal",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"group transition-all",children:p.jsx(G3,{className:"h-7 w-7 text-slate-400 group-hover:text-[#E1306C] transition-all duration-300 transform group-hover:scale-110"})}),p.jsx("a",{href:"https://www.facebook.com/eecglobal",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"group transition-all",children:p.jsx(U3,{className:"h-7 w-7 text-slate-400 group-hover:text-[#1877F2] transition-all duration-300 transform group-hover:scale-110"})}),p.jsx("a",{href:"https://www.youtube.com/@eecgujarat",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"group transition-all",children:p.jsx(uF,{className:"h-7 w-7 text-slate-400 group-hover:text-[#FF0000] transition-all duration-300 transform group-hover:scale-110"})}),p.jsx("a",{href:"https://www.linkedin.com/school/eecindia",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"group transition-all",children:p.jsx(z3,{className:"h-7 w-7 text-slate-400 group-hover:text-[#0A66C2] transition-all duration-300 transform group-hover:scale-110"})})]}),p.jsxs("div",{className:"flex items-start gap-3 justify-start md:justify-end",children:[p.jsx(HC,{className:"h-6 w-6 text-slate-400 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"text-left md:text-right",children:[p.jsx("p",{className:"text-xs text-slate-400 ",children:"Feedback & Suggestions"}),p.jsx("a",{href:"mailto:info@eecglobal.com",className:"text-sm font-semibold text-slate-900 dark:text-slate-300 hover:text-[#0A66C2] dark:hover:text-[#0A66C2] transition-all duration-200",children:"info@eecglobal.com"})]})]})]})]}),p.jsxs("div",{className:"space-y-4 max-w-5xl mx-auto mt-3",children:[p.jsx(_6,{}),p.jsx(w6,{})]}),p.jsxs("div",{className:"mt-1 pt-2 text-center space-y-2",children:[p.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-600 uppercase tracking-widest font-bold",children:"Disclaimer: AI-generated information. Verify with official embassies."}),p.jsxs("a",{href:"/travelagent/llm.txt",target:"_blank",className:"inline-flex items-center gap-2 text-[10px] text-slate-500 dark:text-slate-500 hover:text-violet-600 dark:hover:text-violet-400 transition-colors uppercase tracking-widest font-mono py-2 px-5 rounded-full border border-slate-100 dark:border-slate-800/50 hover:border-violet-200 dark:hover:border-violet-900/50 bg-slate-50/50 dark:bg-slate-900/50",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),"LLM's & Generative Engines read here"]})]})]})}),x6=()=>{const[t,e]=j.useState({origin:"India",originState:"",destination:"",visaType:"Tourist"}),[n,r]=j.useState(null),[s,i]=j.useState(Gt.IDLE),[o,a]=j.useState(null),[l,c]=j.useState(null),[h,m]=j.useState(!1),[g,v]=j.useState(null),[w,I]=j.useState(()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=j.useRef(null),A=()=>typeof window<"u"&&!!localStorage.getItem("travelagentemail");j.useEffect(()=>{w==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[w]),j.useEffect(()=>{const R=async()=>{const M=window.location.hash;if(M.startsWith("#/")){const N=M.split("/"),X=N.indexOf("destination"),Se=N.indexOf("type"),he=N.indexOf("state");if(X!==-1&&N[X+1]){const pe=decodeURIComponent(N[X+1]),q=Se!==-1?decodeURIComponent(N[Se+1]):"Student",H=he!==-1?decodeURIComponent(N[he+1]):"Gujarat";if(n&&pe===n.destination&&q===n.visaType&&H===n.originState&&o)return;const $={origin:"India",originState:H,destination:pe,visaType:q};e($),i(Gt.LOADING),a(null),c(null);try{const ee=await tD("India",H,pe,q);a(ee),r($),i(Gt.SUCCESS)}catch(ee){console.error(ee),c("Unable to retrieve verified dossier. Please try manual search."),i(Gt.ERROR)}}}};return R(),window.addEventListener("hashchange",R),()=>window.removeEventListener("hashchange",R)},[n,o]);const x=async R=>{if(R.preventDefault(),!t.destination||!t.originState)return;if(!A()){v("signup");return}const M=localStorage.getItem("travelagentemail");M&&(iw(M).catch(N=>{console.error("Failed to increment search count:",N)}),Bh(M).then(N=>{N&&(aw(M,{origin:"India",originState:t.originState,destination:t.destination,visaType:t.visaType}).catch(X=>{console.error("Failed to update user last search:",X)}),ow(M,{origin:"India",originState:t.originState,destination:t.destination,visaType:t.visaType,userCity:N.city||"",userState:N.state||""}).catch(X=>{console.error("Failed to save search query to Firebase:",X)}),lw(M,{destination:t.destination,originState:t.originState,visaType:t.visaType}).catch(X=>{console.error("Failed to send search notification email:",X)}))}).catch(N=>{console.error("Failed to fetch user data:",N)})),a(null),i(Gt.LOADING),window.location.hash=`#/destination/${encodeURIComponent(t.destination)}/type/${encodeURIComponent(t.visaType)}/state/${encodeURIComponent(t.originState)}`},k=()=>{if(v(null),t.destination&&t.originState){const R=localStorage.getItem("travelagentemail");R&&(iw(R).catch(M=>{console.error("Failed to increment search count:",M)}),Bh(R).then(M=>{M&&(aw(R,{origin:"India",originState:t.originState,destination:t.destination,visaType:t.visaType}).catch(N=>{console.error("Failed to update user last search:",N)}),ow(R,{origin:"India",originState:t.originState,destination:t.destination,visaType:t.visaType,userCity:M.city||"",userState:M.state||""}).catch(N=>{console.error("Failed to save search query to Firebase:",N)}),lw(R,{destination:t.destination,originState:t.originState,visaType:t.visaType}).catch(N=>{console.error("Failed to send search notification email:",N)}))}).catch(M=>{console.error("Failed to fetch user data:",M)})),a(null),i(Gt.LOADING),window.location.hash=`#/destination/${encodeURIComponent(t.destination)}/type/${encodeURIComponent(t.visaType)}/state/${encodeURIComponent(t.originState)}`}},D=()=>{v("login")},U=()=>{v("signup")},V=()=>{v(null)},T=()=>{const R=(n==null?void 0:n.destination)||t.destination;if(!R){alert("Please enter a destination to search for flights.");return}const M=`Flights from India to ${R}`,N=`https://www.google.com/travel/flights?q=${encodeURIComponent(M)}`;window.open(N,"_blank")},E=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser.");return}m(!0),navigator.geolocation.getCurrentPosition(async R=>{try{const{latitude:M,longitude:N}=R.coords,X=await nD(M,N);X&&iy.includes(X)?e(Se=>({...Se,originState:X})):alert("Could not identify your state or you are outside India.")}catch(M){console.error("Geocoding error",M),alert("Failed to identify location. Please select manually.")}finally{m(!1)}},R=>{console.error("Geo error",R),m(!1),alert("Failed to detect location.")},{enableHighAccuracy:!1,timeout:1e4,maximumAge:6e4})},S=()=>{I(R=>R==="light"?"dark":"light")},b=n?`${n.destination}-${n.visaType}-${n.originState}`:"init";return p.jsxs("div",{className:"min-h-screen flex flex-col font-sans text-slate-900 dark:text-slate-100 selection:bg-violet-200 selection:text-violet-900 overflow-x-hidden transition-colors duration-500",children:[p.jsx(UF,{params:n||t,result:o}),p.jsx("header",{className:"sticky top-0 z-50 glass-panel border-b border-white/40 dark:border-white/5 shadow-sm transition-colors duration-300",children:p.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[p.jsxs("a",{href:"https://eecglobal.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 group cursor-pointer",children:[p.jsx("img",{src:"https://ai.eecglobal.com/assets/eeclogo.svg",alt:"Logo",className:"h-8 sm:h-10"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"font-extrabold text-xl tracking-tight text-slate-900 dark:text-white",children:"Travel & Visa Services"}),"  "]})]}),p.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[p.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-100 dark:border-emerald-800",children:[p.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),p.jsx("span",{className:"text-xs font-bold text-emerald-700 dark:text-emerald-300",children:"System Online"})]}),p.jsx("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-lg text-xs font-bold text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700",children:"26 Branches"}),p.jsxs("a",{href:"https://eecglobal.com",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-full text-sm font-semibold text-slate-600 dark:text-slate-300 hover:text-violet-700 dark:hover:text-white hover:bg-violet-50 dark:hover:bg-white/10 transition-all flex items-center gap-1",children:["Main Site ",p.jsx(Fr,{className:"w-3 h-3 -rotate-45"})]})]}),p.jsx("button",{onClick:S,className:"p-2 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",title:w==="light"?"Switch to Dark Mode":"Switch to Light Mode",children:w==="light"?p.jsx(_F,{className:"w-5 h-5"}):p.jsx(vF,{className:"w-5 h-5"})})]})]})}),p.jsx(PF,{}),p.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8 md:py-16",children:[p.jsxs("div",{className:`text-center transition-all duration-700 ${s===Gt.SUCCESS?"mb-8":"mb-16 mt-4 md:mt-8"}`,children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/60 dark:bg-slate-800/60 border border-violet-100 dark:border-violet-900 text-violet-700 dark:text-violet-300 text-xs font-bold uppercase tracking-wider mb-6 shadow-sm animate-fade-in-up",children:[p.jsx(oc,{className:"w-3 h-3"}),p.jsx("span",{children:"Powered by Enbee Education Center (Est. 1997)"})]}),p.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold mb-6 tracking-tight leading-tight text-slate-900 dark:text-white",children:["AI-Powered EEC ",p.jsx("br",{className:"hidden md:block"}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-600 via-fuchsia-500 to-indigo-600 dark:from-violet-400 dark:via-fuchsia-400 dark:to-indigo-400 animate-gradient-x",children:"Visa & Travel Services"})]}),p.jsx("p",{className:"text-base md:text-xl text-slate-600/90 dark:text-slate-400/90 max-w-3xl mx-auto mb-10 font-medium leading-relaxed px-4",children:"First of its kind, 100% free tool for Indian students. Get verified Tourist & Student visa requirements, forensic risk analysis, and flight searches for USA, Canada, UK, Australia, Europe & more."}),p.jsxs("div",{className:"max-w-5xl mx-auto relative z-20 px-2 md:px-0",children:[p.jsx("div",{className:"absolute -top-10 -left-10 w-20 h-20 bg-yellow-300 rounded-full blur-2xl opacity-40 dark:opacity-20 animate-pulse hidden md:block"}),p.jsx("div",{className:"absolute -bottom-10 -right-10 w-24 h-24 bg-purple-400 rounded-full blur-2xl opacity-40 dark:opacity-20 animate-pulse delay-700 hidden md:block"}),p.jsxs("form",{onSubmit:x,className:"glass-panel p-3 rounded-3xl shadow-2xl shadow-violet-900/10 dark:shadow-black/40 border border-white/50 dark:border-white/5 flex flex-col md:flex-row gap-2 relative overflow-hidden transition-colors",children:[p.jsx("div",{className:"w-full md:w-32 relative group bg-slate-100/50 dark:bg-slate-800/50 rounded-2xl flex items-center justify-center border border-slate-200 dark:border-slate-700 py-3 md:py-0 transition-colors",children:p.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 font-bold select-none",children:[p.jsx(Ra,{className:"w-4 h-4"}),p.jsx("span",{children:"India"})]})}),p.jsxs("div",{className:"flex-1 relative group bg-white/50 dark:bg-slate-900/50 rounded-2xl transition-all focus-within:bg-white dark:focus-within:bg-slate-900 hover:bg-white dark:hover:bg-slate-900",children:[p.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:p.jsx(Ra,{className:"w-5 h-5 text-slate-400 dark:text-slate-500 group-focus-within:text-violet-500 dark:group-focus-within:text-violet-400 transition-colors"})}),p.jsxs("select",{value:t.originState,onChange:R=>e({...t,originState:R.target.value}),className:"w-full pl-12 pr-12 py-4 bg-transparent rounded-2xl outline-none border-2 border-transparent focus:border-violet-100 dark:focus:border-violet-900 focus:ring-0 transition-all font-semibold text-slate-800 dark:text-slate-200 appearance-none cursor-pointer placeholder:text-slate-400 text-sm md:text-base",required:!0,children:[p.jsx("option",{value:"",disabled:!0,className:"dark:bg-slate-900",children:"Select State"}),iy.map(R=>p.jsx("option",{value:R,className:"dark:bg-slate-900",children:R},R))]}),p.jsx("div",{className:"absolute inset-y-0 right-2 flex items-center",children:p.jsx("button",{type:"button",onClick:E,disabled:h,className:`p-2 rounded-xl transition-all ${h?"bg-violet-100 dark:bg-violet-900 text-violet-600 dark:text-violet-300":"bg-transparent text-slate-400 dark:text-slate-500 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-violet-50 dark:hover:bg-violet-900/30"}`,title:"Detect my location",children:h?p.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):p.jsx(mF,{className:"w-5 h-5"})})})]}),p.jsxs("div",{className:"flex-1 relative group bg-white/50 dark:bg-slate-900/50 rounded-2xl transition-all focus-within:bg-white dark:focus-within:bg-slate-900 hover:bg-white dark:hover:bg-slate-900",children:[p.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:p.jsx(Yc,{className:"w-5 h-5 text-slate-400 dark:text-slate-500 group-focus-within:text-violet-500 dark:group-focus-within:text-violet-400 transition-colors"})}),p.jsxs("select",{value:t.destination,onChange:R=>e({...t,destination:R.target.value}),className:"w-full pl-12 pr-10 py-4 bg-transparent rounded-2xl outline-none border-2 border-transparent focus:border-violet-100 dark:focus:border-violet-900 focus:ring-0 transition-all font-semibold text-slate-800 dark:text-slate-200 appearance-none cursor-pointer placeholder:text-slate-400 text-sm md:text-base",required:!0,children:[p.jsx("option",{value:"",disabled:!0,className:"dark:bg-slate-900",children:"Select Destination"}),Ck.map(R=>p.jsx("option",{value:R,className:"dark:bg-slate-900",children:R},R))]}),p.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:p.jsx(Fr,{className:"w-4 h-4 rotate-90"})})]}),p.jsxs("div",{className:"relative group min-w-[150px] bg-white/50 dark:bg-slate-900/50 rounded-2xl transition-all focus-within:bg-white dark:focus-within:bg-slate-900 hover:bg-white dark:hover:bg-slate-900",children:[p.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:t.visaType==="Student"?p.jsx(Pa,{className:"w-5 h-5 text-fuchsia-500"}):p.jsx(Xo,{className:"w-5 h-5 text-fuchsia-500"})}),p.jsxs("select",{value:t.visaType,onChange:R=>e({...t,visaType:R.target.value}),className:"w-full pl-12 pr-10 py-4 bg-transparent rounded-2xl outline-none border-2 border-transparent focus:border-violet-100 dark:focus:border-violet-900 focus:ring-0 transition-all font-semibold text-slate-800 dark:text-slate-200 appearance-none cursor-pointer text-sm md:text-base",children:[p.jsx("option",{value:"Tourist",className:"dark:bg-slate-900",children:"Tourist"}),p.jsx("option",{value:"Student",className:"dark:bg-slate-900",children:"Student"})]}),p.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:p.jsx(Fr,{className:"w-4 h-4 rotate-90"})})]}),p.jsxs("div",{className:"flex gap-2 min-w-[140px]",children:[p.jsx("button",{type:"submit",disabled:s===Gt.LOADING,className:"bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 disabled:from-slate-400 disabled:to-slate-500 text-white px-6 py-3 rounded-2xl font-bold transition-all shadow-lg shadow-violet-200 dark:shadow-violet-900/30 hover:shadow-xl hover:shadow-violet-300 dark:hover:shadow-violet-900/50 hover:-translate-y-0.5 active:translate-y-0 flex-1 flex items-center justify-center gap-2 group",children:s===Gt.LOADING?p.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):p.jsx(cF,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),p.jsx("button",{type:"button",onClick:T,className:"bg-white dark:bg-slate-800 hover:bg-violet-50 dark:hover:bg-slate-700 text-violet-600 dark:text-violet-400 border border-violet-100 dark:border-slate-700 px-4 py-3 rounded-2xl font-semibold transition-all hover:-translate-y-0.5 shadow-sm hover:shadow-md flex items-center justify-center",title:"Search Flights on Google",children:p.jsx(Xo,{className:"w-5 h-5 transform -rotate-45"})})]})]})]})]}),s===Gt.ERROR&&p.jsx("div",{className:"max-w-md mx-auto p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 text-red-600 dark:text-red-400 rounded-2xl text-center mb-8 font-medium animate-pulse",children:l}),s===Gt.SUCCESS&&o&&n&&p.jsxs("div",{ref:P,className:"space-y-12 animate-fade-in-up",children:[p.jsx(AF,{data:o,origin:`India (${n.originState||""})`,destination:n.destination,visaType:n.visaType},b),p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsxs("div",{className:"relative py-8 mb-4 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-800"})}),p.jsx("div",{className:"relative bg-slate-50 dark:bg-slate-950 px-6",children:p.jsx("span",{className:"text-sm font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.2em]",children:"Ask the EEC Expert"})})]}),p.jsx(NF,{visaData:o,originState:n.originState,destination:n.destination},`${b}-chat`),p.jsx(VF,{destination:n.destination,visaType:n.visaType},`${b}-bulletin`)]})]}),p.jsx(DF,{}),s===Gt.IDLE&&p.jsx("div",{className:"mt-8 grid md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[{icon:p.jsx(oc,{className:"w-6 h-6"}),color:"bg-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",title:"Jurisdiction Accurate",desc:"We check whether you need to apply via BLS, VFS, or directly at the Embassy based on your specific Indian state."},{icon:p.jsx(Pa,{className:"w-6 h-6"}),color:"bg-fuchsia-500",bg:"bg-fuchsia-50 dark:bg-fuchsia-900/20",title:"Student & Tourist",desc:"Specialized logic for F-1, Tier 4, and other complex student visa categories for Indian students."},{icon:p.jsx(Xo,{className:"w-6 h-6"}),color:"bg-violet-500",bg:"bg-violet-50 dark:bg-violet-900/20",title:"Flight Integration",desc:"Plan your entire journey. Check visa requirements and search for the best flight deals."}].map((R,M)=>p.jsxs("div",{className:"bg-white/60 dark:bg-slate-800/60 backdrop-blur-sm p-8 rounded-3xl border border-white dark:border-slate-700 shadow-sm hover:shadow-xl hover:shadow-violet-100 dark:hover:shadow-violet-900/20 transition-all duration-300 group hover:-translate-y-1",children:[p.jsx("div",{className:`w-14 h-14 ${R.bg} rounded-2xl flex items-center justify-center mb-6 text-white shadow-md rotate-3 group-hover:rotate-6 transition-transform`,children:p.jsx("div",{className:`${R.color} w-10 h-10 rounded-xl flex items-center justify-center`,children:R.icon})}),p.jsx("h3",{className:"text-xl font-bold mb-3 text-slate-900 dark:text-white",children:R.title}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed font-medium",children:R.desc})]},M))}),p.jsx(FF,{}),p.jsx(LF,{})]}),p.jsx(E6,{}),g==="login"&&p.jsx(g6,{onAuthSuccess:k,onSwitchToSignup:U,onClose:V}),g==="signup"&&p.jsx(y6,{onAuthSuccess:k,onSwitchToLogin:D,onClose:V})]})},SI=document.getElementById("root");if(!SI)throw new Error("Could not find root element to mount to");const T6=ff.createRoot(SI);T6.render(p.jsx(Fw.StrictMode,{children:p.jsx(x6,{})}));
